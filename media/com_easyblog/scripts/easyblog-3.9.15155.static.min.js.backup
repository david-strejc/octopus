/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
(function(g,d){function m(a){var b=a.length,c=k.type(a);return k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function a(a){var b=hb[a]={};k.each(a.match(aa)||[],function(a,c){b[c]=!0});return b}function b(a,b,c,e){if(k.acceptData(a)){var l=k.expando,f=a.nodeType,h=f?k.cache:a,n=f?a[l]:a[l]&&l;if(n&&h[n]&&(e||h[n].data)||c!==d||"string"!==typeof b){n||(n=f?a[l]=Ha.pop()||k.guid++:l);h[n]||(h[n]=f?{}:{toJSON:k.noop});if("object"===typeof b||
"function"===typeof b)e?h[n]=k.extend(h[n],b):h[n].data=k.extend(h[n].data,b);a=h[n];e||(a.data||(a.data={}),a=a.data);c!==d&&(a[k.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[k.camelCase(b)])):c=a;return c}}}function f(a,b,e){if(k.acceptData(a)){var d,l,f=a.nodeType,h=f?k.cache:a,n=f?a[k.expando]:k.expando;if(h[n]){if(b&&(d=e?h[n]:h[n].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in d?b=[b]:(b=k.camelCase(b),b=b in d?[b]:b.split(" "));for(l=b.length;l--;)delete d[b[l]];if(e?
!c(d):!k.isEmptyObject(d))return}if(!e&&(delete h[n].data,!c(h[n])))return;f?k.cleanData([a],!0):k.support.deleteExpando||h!=h.window?delete h[n]:h[n]=null}}}function h(a,b,c){if(c===d&&1===a.nodeType)if(c="data-"+b.replace(Jb,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Kb.test(c)?k.parseJSON(c):c}catch(e){}k.data(a,b,c)}else c=d;return c}function c(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function e(){return!0}function l(){return!1}function n(){try{return A.activeElement}catch(a){}}function p(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function q(a,b,c){if(k.isFunction(b))return k.grep(a,function(a,e){return!!b.call(a,e,a)!==c});if(b.nodeType)return k.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Lb.test(b))return k.filter(b,a,c);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=k.inArray(a,b)!==c})}function s(a){var b=wb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function w(a,b){return k.nodeName(a,"table")&&k.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){a.type=(null!==k.find.attr(a,"type"))+"/"+a.type;return a}function u(a){var b=wa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function r(a,b){for(var c,e=0;null!=(c=a[e]);e++)k._data(c,"globalEval",
!b||k._data(b[e],"globalEval"))}function z(a,b){if(1===b.nodeType&&k.hasData(a)){var c,e,d;e=k._data(a);var l=k._data(b,e),f=e.events;if(f)for(c in delete l.handle,l.events={},f)for(e=0,d=f[c].length;e<d;e++)k.event.add(b,c,f[c][e]);l.data&&(l.data=k.extend({},l.data))}}function v(a,b){var c,e,l=0,f=typeof a.getElementsByTagName!==U?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==U?a.querySelectorAll(b||"*"):d;if(!f)for(f=[],c=a.childNodes||a;null!=(e=c[l]);l++)!b||k.nodeName(e,b)?f.push(e):
k.merge(f,v(e,b));return b===d||b&&k.nodeName(a,b)?k.merge([a],f):f}function y(a){xb.test(a.type)&&(a.defaultChecked=a.checked)}function D(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=jb.length;d--;)if(b=jb[d]+c,b in a)return b;return e}function C(a,b){a=b||a;return"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)}function M(a,b){for(var c,e,d,l=[],f=0,h=a.length;f<h;f++)e=a[f],e.style&&(l[f]=k._data(e,"olddisplay"),c=e.style.display,b?(l[f]||"none"!==c||
(e.style.display=""),""===e.style.display&&C(e)&&(l[f]=k._data(e,"olddisplay",ea(e.nodeName)))):l[f]||(d=C(e),(c&&"none"!==c||!d)&&k._data(e,"olddisplay",d?c:k.css(e,"display"))));for(f=0;f<h;f++)e=a[f],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?l[f]||"":"none");return a}function I(a,b,c){return(a=Z.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function P(a,b,c,e,d){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===c&&(f+=k.css(a,
c+xa[b],!0,d)),e?("content"===c&&(f-=k.css(a,"padding"+xa[b],!0,d)),"margin"!==c&&(f-=k.css(a,"border"+xa[b]+"Width",!0,d))):(f+=k.css(a,"padding"+xa[b],!0,d),"padding"!==c&&(f+=k.css(a,"border"+xa[b]+"Width",!0,d)));return f}function ba(a,b,c){var e=!0,d="width"===b?a.offsetWidth:a.offsetHeight,f=fa(a),l=k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,f);if(0>=d||null==d){d=Ma(a,b,f);if(0>d||null==d)d=a.style[b];if(Na.test(d))return d;e=l&&(k.support.boxSizingReliable||d===a.style[b]);
d=parseFloat(d)||0}return d+P(a,b,c||(l?"border":"content"),e,f)+"px"}function ea(a){var b=A,c=Za[a];c||(c=la(a,b),"none"!==c&&c||($a=($a||k("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=($a[0].contentWindow||$a[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=la(a,b),$a.detach()),Za[a]=c);return c}function la(a,b){var c=k(b.createElement(a)).appendTo(b.body),e=k.css(c[0],"display");c.remove();
return e}function B(a,b,c,e){var d;if(k.isArray(b))k.each(b,function(b,d){c||Yb.test(a)?e(a,d):B(a+"["+("object"===typeof d?b:"")+"]",d,c,e)});else if(c||"object"!==k.type(b))e(a,b);else for(d in b)B(a+"["+d+"]",b[d],c,e)}function $(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var e,d=0,f=b.toLowerCase().match(aa)||[];if(k.isFunction(c))for(;e=f[d++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function ya(a,b,c,e){function d(h){var n;f[h]=!0;k.each(a[h]||
[],function(a,x){var h=x(b,c,e);if("string"===typeof h&&!l&&!f[h])return b.dataTypes.unshift(h),d(h),!1;if(l)return!(n=h)});return n}var f={},l=a===Q;return d(b.dataTypes[0])||!f["*"]&&d("*")}function X(a,b){var c,e,f=k.ajaxSettings.flatOptions||{};for(e in b)b[e]!==d&&((f[e]?a:c||(c={}))[e]=b[e]);c&&k.extend(!0,a,c);return a}function Oa(){try{return new g.XMLHttpRequest}catch(a){}}function Ia(){setTimeout(function(){ga=d});return ga=k.now()}function oa(a,b,c){for(var e,d=(ab[b]||[]).concat(ab["*"]),
f=0,l=d.length;f<l;f++)if(e=d[f].call(c,b,a))return e}function Sa(a,b,c){var e,d=0,f=Pa.length,l=k.Deferred().always(function(){delete h.elem}),h=function(){if(e)return!1;for(var b=ga||Ia(),b=Math.max(0,n.startTime+n.duration-b),c=1-(b/n.duration||0),d=0,f=n.tweens.length;d<f;d++)n.tweens[d].run(c);l.notifyWith(a,[n,c,b]);if(1>c&&f)return b;l.resolveWith(a,[n]);return!1},n=l.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ga||
Ia(),duration:c.duration,tweens:[],createTween:function(b,c){var e=k.Tween(a,n.opts,b,c,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(e);return e},stop:function(b){var c=0,d=b?n.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)n.tweens[c].run(1);b?l.resolveWith(a,[n,b]):l.rejectWith(a,[n,b]);return this}});c=n.props;for(qa(c,n.opts.specialEasing);d<f;d++)if(b=Pa[d].call(n,a,c,n.opts))return b;k.map(c,oa,n);k.isFunction(n.opts.start)&&n.opts.start.call(a,n);k.fx.timer(k.extend(h,{elem:a,anim:n,
queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function qa(a,b){var c,e,d,f,l;for(c in a)if(e=k.camelCase(c),d=b[e],f=a[c],k.isArray(f)&&(d=f[1],f=a[c]=f[0]),c!==e&&(a[e]=f,delete a[c]),(l=k.cssHooks[e])&&"expand"in l)for(c in f=l.expand(f),delete a[e],f)c in a||(a[c]=f[c],b[c]=d);else b[e]=d}function E(a,b,c,e,d){return new E.prototype.init(a,b,c,e,d)}function N(a,b){var c,e={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)c=
xa[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function za(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Qa,Aa,U=typeof d,Ra=g.location,A=g.document,R=A.documentElement,Y={},Ha=[],ma=Ha.concat,yb=Ha.push,ra=Ha.slice,Ta=Ha.indexOf,ka=Y.toString,sa=Y.hasOwnProperty,zb="1.10.2".trim,k=function(a,b){return new k.fn.init(a,b,Aa)},Mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=/\S+/g,dc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ec=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
Nb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ab=/^[\],:{}\s]*$/,kb=/(?:^|:|,)(?:\s*\[)+/g,Ob=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ua=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ja=/^-ms-/,Ba=/-([\da-z])/gi,Pb=function(a,b){return b.toUpperCase()},ha=function(a){if(A.addEventListener||"load"===a.type||"complete"===A.readyState)Bb(),k.ready()},Bb=function(){A.addEventListener?(A.removeEventListener("DOMContentLoaded",ha,!1),g.removeEventListener("load",ha,!1)):(A.detachEvent("onreadystatechange",
ha),g.detachEvent("onload",ha))};k.fn=k.prototype={jquery:"1.10.2",constructor:k,init:function(a,b,c){var e;if(!a)return this;if("string"===typeof a){e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:ec.exec(a);if(!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:A,!0)),Nb.test(e[1])&&k.isPlainObject(b))for(e in b)if(k.isFunction(this[e]))this[e](b[e]);
else this.attr(e,b[e])}else{if((b=A.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return c.find(a);this.length=1;this[0]=b}this.context=A;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(k.isFunction(a))return c.ready(a);a.selector!==d&&(this.selector=a.selector,this.context=a.context);return k.makeArray(a,this)},selector:"",length:0,toArray:function(){return ra.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},
pushStack:function(a){a=k.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return k.each(this,a,b)},ready:function(a){k.ready.promise().done(a);return this},slice:function(){return this.pushStack(ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(k.map(this,function(b,c){return a.call(b,
c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:yb,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var a,b,c,e,f,l=arguments[0]||{},h=1,n=arguments.length,p=!1;"boolean"===typeof l&&(p=l,l=arguments[1]||{},h=2);"object"===typeof l||k.isFunction(l)||(l={});n===h&&(l=this,--h);for(;h<n;h++)if(null!=(f=arguments[h]))for(e in f)a=l[e],c=f[e],l!==c&&(p&&c&&(k.isPlainObject(c)||(b=k.isArray(c)))?(b?(b=!1,a=a&&k.isArray(a)?a:[]):a=a&&k.isPlainObject(a)?
a:{},l[e]=k.extend(p,a,c)):c!==d&&(l[e]=c));return l};k.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(a){return k},isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!0===a?!--k.readyWait:!k.isReady){if(!A.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||(Qa.resolveWith(A,[k]),k.fn.trigger&&k(A).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||
function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?Y[ka.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!sa.call(a,"constructor")&&!sa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.support.ownLast)for(b in a)return sa.call(a,
b);for(b in a);return b===d||sa.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||A;var e=Nb.exec(a);c=!c&&[];if(e)return[b.createElement(e[1])];e=k.buildFragment([a],b,c);c&&k(c).remove();return k.merge([],e.childNodes)},parseJSON:function(a){if(g.JSON&&g.JSON.parse)return g.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=k.trim(a))&&
Ab.test(a.replace(Ob,"@").replace(Ua,"]").replace(kb,"")))return(new Function("return "+a))();k.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||"string"!==typeof a)return null;try{g.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=d}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&k.trim(a)&&
(g.execScript||function(a){g.eval.call(g,a)})(a)},camelCase:function(a){return a.replace(Ja,"ms-").replace(Ba,Pb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,d=0,f=a.length;e=m(a);if(c)if(e)for(;d<f&&(e=b.apply(a[d],c),!1!==e);d++);else for(d in a){if(e=b.apply(a[d],c),!1===e)break}else if(e)for(;d<f&&(e=b.call(a[d],d,a[d]),!1!==e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:zb&&!zb.call("\ufeff\u00a0")?
function(a){return null==a?"":zb.call(a)}:function(a){return null==a?"":(a+"").replace(dc,"")},makeArray:function(a,b){var c=b||[];null!=a&&(m(Object(a))?k.merge(c,"string"===typeof a?[a]:a):yb.call(c,a));return c},inArray:function(a,b,c){var e;if(b){if(Ta)return Ta.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,f=0;if("number"===typeof c)for(;f<c;f++)a[e++]=b[f];else for(;b[f]!==d;)a[e++]=b[f++];
a.length=e;return a},grep:function(a,b,c){var e,d=[],f=0,l=a.length;for(c=!!c;f<l;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var e,d=0,f=a.length,l=[];if(m(a))for(;d<f;d++)e=b(a[d],d,c),null!=e&&(l[l.length]=e);else for(d in a)e=b(a[d],d,c),null!=e&&(l[l.length]=e);return ma.apply([],l)},guid:1,proxy:function(a,b){var c,e;"string"===typeof b&&(e=a[b],b=a,a=e);if(!k.isFunction(a))return d;c=ra.call(arguments,2);e=function(){return a.apply(b||this,c.concat(ra.call(arguments)))};
e.guid=a.guid=a.guid||k.guid++;return e},access:function(a,b,c,e,f,l,h){var n=0,p=a.length,m=null==c;if("object"===k.type(c))for(n in f=!0,c)k.access(a,b,n,c[n],!0,l,h);else if(e!==d&&(f=!0,k.isFunction(e)||(h=!0),m&&(h?(b.call(a,e),b=null):(m=b,b=function(a,b,c){return m.call(k(a),c)})),b))for(;n<p;n++)b(a[n],c,h?e:e.call(a[n],n,b(a[n],c)));return f?a:m?b.call(a):p?b(a[0],c):l},now:function(){return(new Date).getTime()},swap:function(a,b,c,e){var d,f={};for(d in b)f[d]=a.style[d],a.style[d]=b[d];
c=c.apply(a,e||[]);for(d in b)a.style[d]=f[d];return c}});k.ready.promise=function(a){if(!Qa)if(Qa=k.Deferred(),"complete"===A.readyState)setTimeout(k.ready);else if(A.addEventListener)A.addEventListener("DOMContentLoaded",ha,!1),g.addEventListener("load",ha,!1);else{A.attachEvent("onreadystatechange",ha);g.attachEvent("onload",ha);var b=!1;try{b=null==g.frameElement&&A.documentElement}catch(c){}b&&b.doScroll&&function cc(){if(!k.isReady){try{b.doScroll("left")}catch(a){return setTimeout(cc,50)}Bb();
k.ready()}}()}return Qa.promise(a)};k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){Y["[object "+b+"]"]=b.toLowerCase()});Aa=k(A);(function(a,b){function c(a,b,e,d){var f,l,h,x,n;(b?b.ownerDocument||b:Ga)!==ja&&va(b);b=b||ja;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(x=b.nodeType)&&9!==x)return[];if(X&&!d){if(f=ca.exec(a))if(h=f[1])if(9===x)if((l=b.getElementById(h))&&l.parentNode){if(l.id===h)return e.push(l),e}else return e;else{if(b.ownerDocument&&
(l=b.ownerDocument.getElementById(h))&&Ta(b,l)&&l.id===h)return e.push(l),e}else{if(f[2])return N.apply(e,b.getElementsByTagName(a)),e;if((h=f[3])&&B.getElementsByClassName&&b.getElementsByClassName)return N.apply(e,b.getElementsByClassName(h)),e}if(B.qsa&&(!D||!D.test(a))){l=f=I;h=b;n=9===x&&a;if(1===x&&"object"!==b.nodeName.toLowerCase()){x=T(a);(f=b.getAttribute("id"))?l=f.replace(ia,"\\$&"):b.setAttribute("id",l);l="[id='"+l+"'] ";for(h=x.length;h--;)x[h]=l+s(x[h]);h=O.test(a)&&b.parentNode||
b;n=x.join(",")}if(n)try{return N.apply(e,h.querySelectorAll(n)),e}catch(k){}finally{f||b.removeAttribute("id")}}}var p;a:{a=a.replace(L,"$1");l=T(a);if(!d&&1===l.length){f=l[0]=l[0].slice(0);if(2<f.length&&"ID"===(p=f[0]).type&&B.getById&&9===b.nodeType&&X&&t.relative[f[1].type]){b=(t.find.ID(p.matches[0].replace(R,S),b)||[])[0];if(!b){p=e;break a}a=a.slice(f.shift().value.length)}for(x=V.needsContext.test(a)?0:f.length;x--;){p=f[x];if(t.relative[h=p.type])break;if(h=t.find[h])if(d=h(p.matches[0].replace(R,
S),O.test(f[0].type)&&b.parentNode||b)){f.splice(x,1);a=d.length&&s(f);if(!a){N.apply(e,d);p=e;break a}break}}}$(a,l)(d,b,!X,e,O.test(a));p=e}return p}function e(a){return aa.test(a+"")}function d(){function a(c,e){b.push(c+=" ")>t.cacheLength&&delete a[b.shift()];return a[c]=e}var b=[];return a}function f(a){a[I]=!0;return a}function l(a){var b=ja.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b,c){a=a.split("|");var e,d=a.length;
for(c=c?null:b;d--;)(e=t.attrHandle[a[d]])&&e!==b||(t.attrHandle[a[d]]=c)}function n(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:!0===a[b]?b.toLowerCase():null}function p(a,b){return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}function m(a){if("input"===a.nodeName.toLowerCase())return a.defaultValue}function g(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||U)-(~a.sourceIndex||U);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function q(a){return function(b){return"input"===
b.nodeName.toLowerCase()&&b.type===a}}function r(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function F(a){return f(function(b){b=+b;return f(function(c,e){for(var d,f=a([],c.length,b),l=f.length;l--;)c[d=f[l]]&&(c[d]=!(e[d]=c[d]))})})}function T(a,b){var e,d,f,l,h,x,n;if(h=ba[a+" "])return b?0:h.slice(0);h=a;x=[];for(n=t.preFilter;h;){if(!e||(d=Q.exec(h)))d&&(h=h.slice(d[0].length)||h),x.push(f=[]);e=!1;if(d=Qa.exec(h))e=d.shift(),f.push({value:e,
type:d[0].replace(L," ")}),h=h.slice(e.length);for(l in t.filter)!(d=V[l].exec(h))||n[l]&&!(d=n[l](d))||(e=d.shift(),f.push({value:e,type:l,matches:d}),h=h.slice(e.length));if(!e)break}return b?h.length:h?c.error(a):ba(a,x).slice(0)}function s(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function z(a,b,c){var e=b.dir,d=c&&"parentNode"===e,f=A++;return b.first?function(b,c,f){for(;b=b[e];)if(1===b.nodeType||d)return a(b,c,f)}:function(b,c,l){var h,x,n,k=P+" "+f;if(l)for(;b=b[e];){if((1===
b.nodeType||d)&&a(b,c,l))return!0}else for(;b=b[e];)if(1===b.nodeType||d)if(n=b[I]||(b[I]={}),(x=n[e])&&x[0]===k){if(!0===(h=x[1])||h===da)return!0===h}else if(x=n[e]=[k],x[1]=a(b,c,l)||da,!0===x[1])return!0}}function v(a){return 1<a.length?function(b,c,e){for(var d=a.length;d--;)if(!a[d](b,c,e))return!1;return!0}:a[0]}function J(a,b,c,e,d){for(var f,l=[],h=0,x=a.length,n=null!=b;h<x;h++)if(f=a[h])if(!c||c(f,e,d))l.push(f),n&&b.push(h);return l}function u(a,b,e,d,l,h){d&&!d[I]&&(d=u(d));l&&!l[I]&&
(l=u(l,h));return f(function(f,h,x,n){var k,p,m=[],g=[],K=h.length,q;if(!(q=f)){q=b||"*";for(var r=x.nodeType?[x]:x,F=[],ib=0,T=r.length;ib<T;ib++)c(q,r[ib],F);q=F}q=!a||!f&&b?q:J(q,m,a,x,n);r=e?l||(f?a:K||d)?[]:h:q;e&&e(q,r,x,n);if(d)for(k=J(r,g),d(k,[],x,n),x=k.length;x--;)if(p=k[x])r[g[x]]=!(q[g[x]]=p);if(f){if(l||a){if(l){k=[];for(x=r.length;x--;)(p=r[x])&&k.push(q[x]=p);l(null,r=[],k,n)}for(x=r.length;x--;)(p=r[x])&&-1<(k=l?H.call(f,p):m[x])&&(f[k]=!(h[k]=p))}}else r=J(r===h?r.splice(K,r.length):
r),l?l(null,h,r,n):N.apply(h,r)})}function W(a){var b,c,e,d=a.length,f=t.relative[a[0].type];c=f||t.relative[" "];for(var l=f?1:0,h=z(function(a){return a===b},c,!0),x=z(function(a){return-1<H.call(b,a)},c,!0),n=[function(a,c,e){return!f&&(e||c!==ya)||((b=c).nodeType?h(a,c,e):x(a,c,e))}];l<d;l++)if(c=t.relative[a[l].type])n=[z(v(n),c)];else{c=t.filter[a[l].type].apply(null,a[l].matches);if(c[I]){for(e=++l;e<d&&!t.relative[a[e].type];e++);return u(1<l&&v(n),1<l&&s(a.slice(0,l-1).concat({value:" "===
a[l-2].type?"*":""})).replace(L,"$1"),c,l<e&&W(a.slice(l,e)),e<d&&W(a=a.slice(e)),e<d&&s(a))}n.push(c)}return v(n)}function G(a,b){var e=0,d=0<b.length,l=0<a.length,h=function(f,h,x,n,k){var p,m,g=[],K=0,q="0",r=f&&[],F=null!=k,ib=ya,T=f||l&&t.find.TAG("*",k&&h.parentNode||h),s=P+=null==ib?1:Math.random()||0.1;F&&(ya=h!==ja&&h,da=e);for(;null!=(k=T[q]);q++){if(l&&k){for(p=0;m=a[p++];)if(m(k,h,x)){n.push(k);break}F&&(P=s,da=++e)}d&&((k=!m&&k)&&K--,f&&r.push(k))}K+=q;if(d&&q!==K){for(p=0;m=b[p++];)m(r,
g,h,x);if(f){if(0<K)for(;q--;)r[q]||g[q]||(g[q]=zb.call(n));g=J(g)}N.apply(n,g);F&&!f&&0<g.length&&1<K+b.length&&c.uniqueSort(n)}F&&(P=s,ya=ib);return r};return d?f(h):h}function w(){}var ka,B,da,t,ga,y,$,ya,M,va,ja,pa,X,D,C,Oa,Ta,I="sizzle"+-new Date,Ga=a.document,P=0,A=0,ea=d(),ba=d(),E=d(),Ia=!1,Pa=function(){return 0},sa=typeof b,U=-2147483648,ab={}.hasOwnProperty,oa=[],zb=oa.pop,la=oa.push,N=oa.push,qa=oa.slice,H=oa.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;
return-1},za="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Aa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+za+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Sa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Aa.replace(3,8)+")*)|.*)\\)|)",L=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Q=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Qa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
O=/[\x20\t\r\n\f]*[+~]/,Ra=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,Y=RegExp(Sa),Z=RegExp("^"+za+"$"),V={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Aa),PSEUDO:RegExp("^"+Sa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},aa=/^[^{]+\{\s*\[native \w/,ca=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fa=/^(?:input|select|textarea|button)$/i,ha=/^h\d$/i,ia=/'|\\/g,R=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
S=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{N.apply(oa=qa.call(Ga.childNodes),Ga.childNodes),oa[Ga.childNodes.length].nodeType}catch(na){N={apply:oa.length?function(a,b){la.apply(a,qa.call(b))}:function(a,b){for(var c=a.length,e=0;a[c++]=b[e++];);a.length=c-1}}}y=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};B=c.support={};va=c.setDocument=function(a){var b=a?
a.ownerDocument||a:Ga;a=b.parentWindow;if(b===ja||9!==b.nodeType||!b.documentElement)return ja;ja=b;pa=b.documentElement;X=!y(b);a&&a.frameElement&&a.attachEvent("onbeforeunload",function(){va()});B.attributes=l(function(a){a.innerHTML="<a href='#'></a>";h("type|href|height|width",p,"#"===a.firstChild.getAttribute("href"));h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",n,null==a.getAttribute("disabled"));a.className="i";
return!a.getAttribute("className")});B.input=l(function(a){a.innerHTML="<input>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")});h("value",m,B.attributes&&B.input);B.getElementsByTagName=l(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});B.getElementsByClassName=l(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});B.getById=
l(function(a){pa.appendChild(a).id=I;return!b.getElementsByName||!b.getElementsByName(I).length});B.getById?(t.find.ID=function(a,b){if(typeof b.getElementById!==sa&&X){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},t.filter.ID=function(a){var b=a.replace(R,S);return function(a){return a.getAttribute("id")===b}}):(delete t.find.ID,t.filter.ID=function(a){var b=a.replace(R,S);return function(a){return(a=typeof a.getAttributeNode!==sa&&a.getAttributeNode("id"))&&a.value===b}});t.find.TAG=
B.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==sa)return b.getElementsByTagName(a)}:function(a,b){var c,e=[],d=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[d++];)1===c.nodeType&&e.push(c);return e}return f};t.find.CLASS=B.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==sa&&X)return b.getElementsByClassName(a)};C=[];D=[];if(B.qsa=e(b.querySelectorAll))l(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||
D.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||D.push(":checked")}),l(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||D.push(":enabled",":disabled");a.querySelectorAll("*,:x");
D.push(",.*:")});(B.matchesSelector=e(Oa=pa.webkitMatchesSelector||pa.mozMatchesSelector||pa.oMatchesSelector||pa.msMatchesSelector))&&l(function(a){B.disconnectedMatch=Oa.call(a,"div");Oa.call(a,"[s!='']:x");C.push("!=",Sa)});D=D.length&&RegExp(D.join("|"));C=C.length&&RegExp(C.join("|"));Ta=e(pa.contains)||pa.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(c.contains?c.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&
16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};B.sortDetached=l(function(a){return a.compareDocumentPosition(b.createElement("div"))&1});Pa=pa.compareDocumentPosition?function(a,c){if(a===c)return Ia=!0,0;var e=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return e?e&1||!B.sortDetached&&c.compareDocumentPosition(a)===e?a===b||Ta(Ga,a)?-1:c===b||Ta(Ga,c)?1:M?H.call(M,a)-H.call(M,c):0:e&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,
c){var e,d=0;e=a.parentNode;var f=c.parentNode,l=[a],h=[c];if(a===c)return Ia=!0,0;if(!e||!f)return a===b?-1:c===b?1:e?-1:f?1:M?H.call(M,a)-H.call(M,c):0;if(e===f)return g(a,c);for(e=a;e=e.parentNode;)l.unshift(e);for(e=c;e=e.parentNode;)h.unshift(e);for(;l[d]===h[d];)d++;return d?g(l[d],h[d]):l[d]===Ga?-1:h[d]===Ga?1:0};return b};c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){(a.ownerDocument||a)!==ja&&va(a);b=b.replace(Ra,"='$1']");if(B.matchesSelector&&X&&!(C&&
C.test(b)||D&&D.test(b)))try{var e=Oa.call(a,b);if(e||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(d){}return 0<c(b,ja,null,[a]).length};c.contains=function(a,b){(a.ownerDocument||a)!==ja&&va(a);return Ta(a,b)};c.attr=function(a,c){(a.ownerDocument||a)!==ja&&va(a);var e=t.attrHandle[c.toLowerCase()],e=e&&ab.call(t.attrHandle,c.toLowerCase())?e(a,c,!X):b;return e===b?B.attributes||!X?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};c.uniqueSort=function(a){var b,c=[],e=0,d=0;Ia=!B.detectDuplicates;M=!B.sortStable&&a.slice(0);a.sort(Pa);if(Ia){for(;b=a[d++];)b===a[d]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a};ga=c.getText=function(a){var b,c="",e=0;b=a.nodeType;if(!b)for(;b=a[e];e++)c+=ga(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ga(a)}else if(3===b||4===b)return a.nodeValue;return c};t=c.selectors={cacheLength:50,createPseudo:f,
match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(R,S);a[3]=(a[4]||a[5]||"").replace(R,S);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]);
return a},PSEUDO:function(a){var c,e=!a[5]&&a[2];if(V.CHILD.test(a[0]))return null;a[3]&&a[4]!==b?a[2]=a[4]:e&&Y.test(e)&&(c=T(e,!0))&&(c=e.indexOf(")",e.length-c)-e.length)&&(a[0]=a[0].slice(0,c),a[2]=e.slice(0,c));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(R,S).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ea[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
ea(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==sa&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(d){d=c.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;d+="";return"="===b?d===e:"!="===b?d!==e:"^="===b?e&&0===d.indexOf(e):"*="===b?e&&-1<d.indexOf(e):"$="===b?e&&d.slice(-e.length)===e:"~="===b?-1<(" "+d+" ").indexOf(e):"|="===b?d===e||d.slice(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,c,e,d){var f="nth"!==a.slice(0,3),
l="last"!==a.slice(-4),h="of-type"===b;return 1===e&&0===d?function(a){return!!a.parentNode}:function(b,c,x){var n,k,p,m,g;c=f!==l?"nextSibling":"previousSibling";var K=b.parentNode,q=h&&b.nodeName.toLowerCase();x=!x&&!h;if(K){if(f){for(;c;){for(k=b;k=k[c];)if(h?k.nodeName.toLowerCase()===q:1===k.nodeType)return!1;g=c="only"===a&&!g&&"nextSibling"}return!0}g=[l?K.firstChild:K.lastChild];if(l&&x)for(x=K[I]||(K[I]={}),n=x[a]||[],m=n[0]===P&&n[1],p=n[0]===P&&n[2],k=m&&K.childNodes[m];k=++m&&k&&k[c]||
(p=m=0)||g.pop();){if(1===k.nodeType&&++p&&k===b){x[a]=[P,m,p];break}}else if(x&&(n=(b[I]||(b[I]={}))[a])&&n[0]===P)p=n[1];else for(;(k=++m&&k&&k[c]||(p=m=0)||g.pop())&&((h?k.nodeName.toLowerCase()!==q:1!==k.nodeType)||!++p||(x&&((k[I]||(k[I]={}))[a]=[P,p]),k!==b)););p-=d;return p===e||0===p%e&&0<=p/e}}},PSEUDO:function(a,b){var e,d=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[I]?d(b):1<d.length?(e=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?
f(function(a,c){for(var e,f=d(a,b),l=f.length;l--;)e=H.call(a,f[l]),a[e]=!(c[e]=f[l])}):function(a){return d(a,0,e)}):d}},pseudos:{not:f(function(a){var b=[],c=[],e=$(a.replace(L,"$1"));return e[I]?f(function(a,b,c,d){d=e(a,null,d,[]);for(var f=a.length;f--;)if(c=d[f])a[f]=!(b[f]=c)}):function(a,d,f){b[0]=a;e(b,null,f,c);return!c.pop()}}),has:f(function(a){return function(b){return 0<c(a,b).length}}),contains:f(function(a){return function(b){return-1<(b.textContent||b.innerText||ga(b)).indexOf(a)}}),
lang:f(function(a){Z.test(a||"")||c.error("unsupported lang: "+a);a=a.replace(R,S).toLowerCase();return function(b){var c;do if(c=X?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===pa},focus:function(a){return a===ja.activeElement&&(!ja.hasFocus||ja.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!t.pseudos.empty(a)},header:function(a){return ha.test(a.nodeName)},
input:function(a){return fa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:F(function(){return[0]}),last:F(function(a,b){return[b-1]}),eq:F(function(a,b,c){return[0>c?c+b:c]}),even:F(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:F(function(a,b){for(var c=1;c<b;c+=
2)a.push(c);return a}),lt:F(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:F(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};for(ka in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[ka]=q(ka);for(ka in{submit:!0,reset:!0})t.pseudos[ka]=r(ka);$=c.compile=function(a,b){var c,e=[],d=[],f=E[a+" "];if(!f){b||(b=T(a));for(c=b.length;c--;)f=W(b[c]),f[I]?e.push(f):d.push(f);f=E(a,G(d,e))}return f};t.pseudos.nth=t.pseudos.eq;w.prototype=t.filters=t.pseudos;t.setFilters=
new w;B.sortStable=I.split("").sort(Pa).join("")===I;va();[0,0].sort(Pa);B.detectDuplicates=Ia;k.find=c;k.expr=c.selectors;k.expr[":"]=k.expr.pseudos;k.unique=c.uniqueSort;k.text=c.getText;k.isXMLDoc=c.isXML;k.contains=c.contains})(g);var hb={};k.Callbacks=function(b){b="string"===typeof b?hb[b]||a(b):k.extend({},b);var c,e,f,l,h,n,p=[],m=!b.once&&[],g=function(a){e=b.memory&&a;f=!0;h=n||0;n=0;l=p.length;for(c=!0;p&&h<l;h++)if(!1===p[h].apply(a[0],a[1])&&b.stopOnFalse){e=!1;break}c=!1;p&&(m?m.length&&
g(m.shift()):e?p=[]:q.disable())},q={add:function(){if(p){var a=p.length;(function fc(a){k.each(a,function(a,c){var e=k.type(c);"function"===e?b.unique&&q.has(c)||p.push(c):c&&c.length&&"string"!==e&&fc(c)})})(arguments);c?l=p.length:e&&(n=a,g(e))}return this},remove:function(){p&&k.each(arguments,function(a,b){for(var e;-1<(e=k.inArray(b,p,e));)p.splice(e,1),c&&(e<=l&&l--,e<=h&&h--)});return this},has:function(a){return a?-1<k.inArray(a,p):!(!p||!p.length)},empty:function(){p=[];l=0;return this},
disable:function(){p=m=e=d;return this},disabled:function(){return!p},lock:function(){m=d;e||q.disable();return this},locked:function(){return!m},fireWith:function(a,b){!p||f&&!m||(b=b||[],b=[a,b.slice?b.slice():b],c?m.push(b):g(b));return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!f}};return q};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify",
"progress",k.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return k.Deferred(function(c){k.each(b,function(b,f){var l=f[0],h=k.isFunction(a[b])&&a[b];d[f[1]](function(){var a=h&&h.apply(this,arguments);if(a&&k.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[l+"With"](this===e?c.promise():this,h?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?k.extend(a,e):e}},d={};e.pipe=e.then;k.each(b,function(a,f){var l=f[2],h=f[3];e[f[1]]=l.add;h&&l.add(function(){c=h},b[a^1][2].disable,b[2][2].lock);d[f[0]]=function(){d[f[0]+"With"](this===d?e:this,arguments);return this};d[f[0]+"With"]=l.fireWith});e.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=ra.call(arguments),e=c.length,d=1!==e||a&&k.isFunction(a.promise)?e:0,f=1===d?a:k.Deferred(),l=function(a,b,c){return function(e){b[a]=this;c[a]=1<arguments.length?ra.call(arguments):
e;c===h?f.notifyWith(b,c):--d||f.resolveWith(b,c)}},h,n,p;if(1<e)for(h=Array(e),n=Array(e),p=Array(e);b<e;b++)c[b]&&k.isFunction(c[b].promise)?c[b].promise().done(l(b,p,c)).fail(f.reject).progress(l(b,n,h)):--d;d||f.resolveWith(p,c);return f.promise()}});k.support=function(a){var b,c,e,d,f,l,h=A.createElement("div");h.setAttribute("className","t");h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=h.getElementsByTagName("*")||[];c=h.getElementsByTagName("a")[0];if(!c||
!c.style||!b.length)return a;e=A.createElement("select");d=e.appendChild(A.createElement("option"));b=h.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==h.className;a.leadingWhitespace=3===h.firstChild.nodeType;a.tbody=!h.getElementsByTagName("tbody").length;a.htmlSerialize=!!h.getElementsByTagName("link").length;a.style=/top/.test(c.getAttribute("style"));a.hrefNormalized="/a"===c.getAttribute("href");a.opacity=/^0.5/.test(c.style.opacity);
a.cssFloat=!!c.style.cssFloat;a.checkOn=!!b.value;a.optSelected=d.selected;a.enctype=!!A.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=!0;a.noCloneEvent=!0;a.reliableMarginRight=!0;a.boxSizingReliable=!0;b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;e.disabled=!0;a.optDisabled=!d.disabled;try{delete h.test}catch(n){a.deleteExpando=!1}b=A.createElement("input");
b.setAttribute("value","");a.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");c=A.createDocumentFragment();c.appendChild(b);a.appendChecked=b.checked;a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;h.attachEvent&&(h.attachEvent("onclick",function(){a.noCloneEvent=!1}),h.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})h.setAttribute(c="on"+l,"t"),a[l+"Bubbles"]=
c in g||!1===h.attributes[c].expando;h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===h.style.backgroundClip;for(l in k(a))break;a.ownLast="0"!==l;k(function(){var b,c,e=A.getElementsByTagName("body")[0];e&&(b=A.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=h.getElementsByTagName("td"),
c[0].style.cssText="padding:0;margin:0;border:0;display:none",f=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",a.reliableHiddenOffsets=f&&0===c[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",k.swap(e,null!=e.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===h.offsetWidth}),g.getComputedStyle&&(a.pixelPosition=
"1%"!==(g.getComputedStyle(h,null)||{}).top,a.boxSizingReliable="4px"===(g.getComputedStyle(h,null)||{width:"4px"}).width,c=h.appendChild(A.createElement("div")),c.style.cssText=h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",h.style.width="1px",a.reliableMarginRight=!parseFloat((g.getComputedStyle(c,null)||{}).marginRight)),typeof h.style.zoom!==U&&(h.innerHTML="",
h.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==h.offsetWidth,a.inlineBlockNeedsLayout&&(e.style.zoom=1)),e.removeChild(b),b=h=c=c=null)});b=e=c=d=c=b=null;return a}({});var Kb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Jb=/([A-Z])/g;
k.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?k.cache[a[k.expando]]:a[k.expando];return!!a&&!c(a)},data:function(a,c,e){return b(a,c,e)},removeData:function(a,b){return f(a,b)},_data:function(a,c,e){return b(a,c,e,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&k.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===
b}});k.fn.extend({data:function(a,b){var c,e,f=null,l=0,n=this[0];if(a===d){if(this.length&&(f=k.data(n),1===n.nodeType&&!k._data(n,"parsedAttrs"))){for(c=n.attributes;l<c.length;l++)e=c[l].name,0===e.indexOf("data-")&&(e=k.camelCase(e.slice(5)),h(n,e,f[e]));k._data(n,"parsedAttrs",!0)}return f}return"object"===typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,a,b)}):n?h(n,a,k.data(n,a)):null},removeData:function(a){return this.each(function(){k.removeData(this,
a)})}});k.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=k._data(a,b),c&&(!e||k.isArray(c)?e=k._data(a,b,k.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=k.queue(a,b),e=c.length,d=c.shift(),f=k._queueHooks(a,b),l=function(){k.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),e--);d&&("fx"===b&&c.unshift("inprogress"),delete f.stop,d.call(a,l,f));!e&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return k._data(a,c)||k._data(a,c,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,
b+"queue");k._removeData(a,c)})})}});k.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?k.queue(this[0],a):b===d?this:this.each(function(){var c=k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},delay:function(a,b){a=k.fx?k.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,f=k.Deferred(),l=this,h=this.length,n=function(){--e||f.resolveWith(l,[l])};"string"!==typeof a&&(b=a,a=d);for(a=a||"fx";h--;)(c=k._data(l[h],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(n));n();return f.promise(b)}});var Ca,lb,L=/[\t\r\n\f]/g,Cb=/\r/g,Qb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i,bb=/^(?:checked|selected)$/i,Ka=k.support.getSetAttribute,cb=k.support.input;k.fn.extend({attr:function(a,
b){return k.access(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})},prop:function(a,b){return k.access(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){a=k.propFix[a]||a;return this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,c,e,d,f,l=0,h=this.length;b="string"===typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,this.className))});if(b)for(b=
(a||"").match(aa)||[];l<h;l++)if(c=this[l],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(L," "):" ")){for(f=0;d=b[f++];)0>e.indexOf(" "+d+" ")&&(e+=d+" ");c.className=k.trim(e)}return this},removeClass:function(a){var b,c,e,d,f,l=0,h=this.length;b=0===arguments.length||"string"===typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(aa)||[];l<h;l++)if(c=this[l],e=1===c.nodeType&&(c.className?(" "+c.className+
" ").replace(L," "):"")){for(f=0;d=b[f++];)for(;0<=e.indexOf(" "+d+" ");)e=e.replace(" "+d+" "," ");c.className=a?k.trim(e):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):k.isFunction(a)?this.each(function(c){k(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,e=0,d=k(this),f=a.match(aa)||[];b=f[e++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else if(c===
U||"boolean"===c)this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===a?"":k._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(L," ").indexOf(a))return!0;return!1},val:function(a){var b,c,e,f=this[0];if(arguments.length)return e=k.isFunction(a),this.each(function(b){1===this.nodeType&&(b=e?a.call(this,b,k(this).val()):a,null==b?b="":"number"===
typeof b?b+="":k.isArray(b)&&(b=k.map(b,function(a){return null==a?"":a+""})),c=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,b,"value")!==d||(this.value=b))});if(f){if((c=k.valHooks[f.type]||k.valHooks[f.nodeName.toLowerCase()])&&"get"in c&&(b=c.get(f,"value"))!==d)return b;b=f.value;return"string"===typeof b?b.replace(Cb,""):null==b?"":b}}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,
c=a.options,e=a.selectedIndex,d=(a="select-one"===a.type||0>e)?null:[],f=a?e+1:c.length,l=0>e?f:a?e:0;l<f;l++)if(b=c[l],!(!b.selected&&l!==e||(k.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){b=k(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){for(var c,e,d=a.options,f=k.makeArray(b),l=d.length;l--;)if(e=d[l],e.selected=0<=k.inArray(k(e).val(),f))c=!0;c||(a.selectedIndex=-1);return f}}},attr:function(a,b,
c){var e,f,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l){if(typeof a.getAttribute===U)return k.prop(a,b,c);1===l&&k.isXMLDoc(a)||(b=b.toLowerCase(),e=k.attrHooks[b]||(k.expr.match.bool.test(b)?lb:Ca));if(c!==d)if(null===c)k.removeAttr(a,b);else{if(e&&"set"in e&&(f=e.set(a,c,b))!==d)return f;a.setAttribute(b,c+"");return c}else{if(e&&"get"in e&&null!==(f=e.get(a,b)))return f;f=k.find.attr(a,b);return null==f?d:f}}},removeAttr:function(a,b){var c,e,d=0,f=b&&b.match(aa);if(f&&1===a.nodeType)for(;c=f[d++];)e=
k.propFix[c]||c,k.expr.match.bool.test(c)?cb&&Ka||!bb.test(c)?a[e]=!1:a[k.camelCase("default-"+c)]=a[e]=!1:k.attr(a,c,""),a.removeAttribute(Ka?c:e)},attrHooks:{type:{set:function(a,b){if(!k.support.radioValue&&"radio"===b&&k.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var e,f,l;l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l){if(l=1!==l||!k.isXMLDoc(a))b=k.propFix[b]||b,f=k.propHooks[b];return c!==
d?f&&"set"in f&&(e=f.set(a,c,b))!==d?e:a[b]=c:f&&"get"in f&&null!==(e=f.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,"tabindex");return b?parseInt(b,10):Qb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}}});lb={set:function(a,b,c){!1===b?k.removeAttr(a,c):cb&&Ka||!bb.test(c)?a.setAttribute(!Ka&&k.propFix[c]||c,c):a[k.camelCase("default-"+c)]=a[c]=!0;return c}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var c=k.expr.attrHandle[b]||k.find.attr;k.expr.attrHandle[b]=
cb&&Ka||!bb.test(b)?function(a,b,e){var f=k.expr.attrHandle[b];a=e?d:(k.expr.attrHandle[b]=d)!=c(a,b,e)?b.toLowerCase():null;k.expr.attrHandle[b]=f;return a}:function(a,b,c){return c?d:a[k.camelCase("default-"+b)]?b.toLowerCase():null}});cb&&Ka||(k.attrHooks.value={set:function(a,b,c){if(k.nodeName(a,"input"))a.defaultValue=b;else return Ca&&Ca.set(a,b,c)}});Ka||(Ca={set:function(a,b,c){var e=a.getAttributeNode(c);e||a.setAttributeNode(e=a.ownerDocument.createAttribute(c));e.value=b+="";return"value"===
c||b===a.getAttribute(c)?b:d}},k.expr.attrHandle.id=k.expr.attrHandle.name=k.expr.attrHandle.coords=function(a,b,c){var e;return c?d:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},k.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:d},set:Ca.set},k.attrHooks.contenteditable={set:function(a,b,c){Ca.set(a,""===b?!1:b,c)}},k.each(["width","height"],function(a,b){k.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}));k.support.hrefNormalized||
k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});k.support.style||(k.attrHooks.style={get:function(a){return a.style.cssText||d},set:function(a,b){return a.style.cssText=b+""}});k.support.optSelected||(k.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){k.propFix[this.toLowerCase()]=this});k.support.enctype||(k.propFix.enctype="encoding");k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){if(k.isArray(b))return a.checked=0<=k.inArray(k(a).val(),b)}};k.support.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb=/^(?:input|select|textarea)$/i,Eb=/^key/,Rb=/^(?:mouse|contextmenu)|click/,nb=/^(?:focusinfocus|focusoutblur)$/,Fb=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},
add:function(a,b,c,e,f){var l,h,n,p,m,g,q,r,F;if(n=k._data(a)){c.handler&&(p=c,c=p.handler,f=p.selector);c.guid||(c.guid=k.guid++);(h=n.events)||(h=n.events={});(m=n.handle)||(m=n.handle=function(a){return typeof k===U||a&&k.event.triggered===a.type?d:k.event.dispatch.apply(m.elem,arguments)},m.elem=a);b=(b||"").match(aa)||[""];for(n=b.length;n--;)l=Fb.exec(b[n])||[],r=g=l[1],F=(l[2]||"").split(".").sort(),r&&(l=k.event.special[r]||{},r=(f?l.delegateType:l.bindType)||r,l=k.event.special[r]||{},g=
k.extend({type:r,origType:g,data:e,handler:c,guid:c.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:F.join(".")},p),(q=h[r])||(q=h[r]=[],q.delegateCount=0,l.setup&&!1!==l.setup.call(a,e,F,m)||(a.addEventListener?a.addEventListener(r,m,!1):a.attachEvent&&a.attachEvent("on"+r,m))),l.add&&(l.add.call(a,g),g.handler.guid||(g.handler.guid=c.guid)),f?q.splice(q.delegateCount++,0,g):q.push(g),k.event.global[r]=!0);a=null}},remove:function(a,b,c,e,d){var f,l,h,n,p,m,g,q,r,F,T,
s=k.hasData(a)&&k._data(a);if(s&&(m=s.events)){b=(b||"").match(aa)||[""];for(p=b.length;p--;)if(h=Fb.exec(b[p])||[],r=T=h[1],F=(h[2]||"").split(".").sort(),r){g=k.event.special[r]||{};r=(e?g.delegateType:g.bindType)||r;q=m[r]||[];h=h[2]&&RegExp("(^|\\.)"+F.join("\\.(?:.*\\.|)")+"(\\.|$)");for(n=f=q.length;f--;)l=q[f],!d&&T!==l.origType||c&&c.guid!==l.guid||h&&!h.test(l.namespace)||e&&!(e===l.selector||"**"===e&&l.selector)||(q.splice(f,1),l.selector&&q.delegateCount--,g.remove&&g.remove.call(a,l));
n&&!q.length&&(g.teardown&&!1!==g.teardown.call(a,F,s.handle)||k.removeEvent(a,r,s.handle),delete m[r])}else for(r in m)k.event.remove(a,r+b[p],c,e,!0);k.isEmptyObject(m)&&(delete s.handle,k._removeData(a,"events"))}},trigger:function(a,b,c,e){var f,l,h,n,p,m,q=[c||A],r=sa.call(a,"type")?a.type:a;p=sa.call(a,"namespace")?a.namespace.split("."):[];h=f=c=c||A;if(3!==c.nodeType&&8!==c.nodeType&&!nb.test(r+k.event.triggered)&&(0<=r.indexOf(".")&&(p=r.split("."),r=p.shift(),p.sort()),l=0>r.indexOf(":")&&
"on"+r,a=a[k.expando]?a:new k.Event(r,"object"===typeof a&&a),a.isTrigger=e?2:3,a.namespace=p.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=d,a.target||(a.target=c),b=null==b?[a]:k.makeArray(b,[a]),p=k.event.special[r]||{},e||!p.trigger||!1!==p.trigger.apply(c,b))){if(!e&&!p.noBubble&&!k.isWindow(c)){n=p.delegateType||r;nb.test(n+r)||(h=h.parentNode);for(;h;h=h.parentNode)q.push(h),f=h;f===(c.ownerDocument||A)&&q.push(f.defaultView||f.parentWindow||
g)}for(m=0;(h=q[m++])&&!a.isPropagationStopped();)a.type=1<m?n:p.bindType||r,(f=(k._data(h,"events")||{})[a.type]&&k._data(h,"handle"))&&f.apply(h,b),(f=l&&h[l])&&k.acceptData(h)&&f.apply&&!1===f.apply(h,b)&&a.preventDefault();a.type=r;if(!(e||a.isDefaultPrevented()||p._default&&!1!==p._default.apply(q.pop(),b))&&k.acceptData(c)&&l&&c[r]&&!k.isWindow(c)){(f=c[l])&&(c[l]=null);k.event.triggered=r;try{c[r]()}catch(F){}k.event.triggered=d;f&&(c[l]=f)}return a.result}},dispatch:function(a){a=k.event.fix(a);
var b,c,e,f,l=[],h=ra.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var n=k.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!n.preDispatch||!1!==n.preDispatch.call(this,a)){l=k.event.handlers.call(this,a,b);for(b=0;(e=l[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(c=e.handlers[f++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))a.handleObj=c,a.data=c.data,c=((k.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,
h),c!==d&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());n.postDispatch&&n.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,e,f,l,h=[],n=b.delegateCount,p=a.target;if(n&&p.nodeType&&(!a.button||"click"!==a.type))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==a.type)){f=[];for(l=0;l<n;l++)e=b[l],c=e.selector+" ",f[c]===d&&(f[c]=e.needsContext?0<=k(c,this).index(p):k.find(c,this,null,[p]).length),f[c]&&f.push(e);f.length&&h.push({elem:p,
handlers:f})}n<b.length&&h.push({elem:this,handlers:b.slice(n)});return h},fix:function(a){if(a[k.expando])return a;var b,c,e;b=a.type;var d=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=Rb.test(b)?this.mouseHooks:Eb.test(b)?this.keyHooks:{});e=f.props?this.props.concat(f.props):this.props;a=new k.Event(d);for(b=e.length;b--;)c=e[b],a[c]=d[c];a.target||(a.target=d.srcElement||A);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return f.filter?f.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f=b.button,l=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||A,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||
c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?b.toElement:l);a.which||f===d||(a.which=f&1?1:f&2?3:f&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==n()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===n()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(k.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==d&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,e){a=k.extend(new k.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};k.removeEvent=A.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,
c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===U&&(a[b]=null),a.detachEvent(b,c))};k.Event=function(a,b){if(!(this instanceof k.Event))return new k.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?e:l):this.type=a;b&&k.extend(this,b);this.timeStamp=a&&a.timeStamp||k.now();this[k.expando]=!0};k.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=e;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=e;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,
e=a.relatedTarget,d=a.handleObj;if(!e||e!==this&&!k.contains(this,e))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});k.support.submitBubbles||(k.event.special.submit={setup:function(){if(k.nodeName(this,"form"))return!1;k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||k.nodeName(a,"button")?a.form:d)&&!k._data(a,"submitBubbles")&&(k.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),k._data(a,"submitBubbles",!0))})},
postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(k.nodeName(this,"form"))return!1;k.event.remove(this,"._submit")}});k.support.changeBubbles||(k.event.special.change={setup:function(){if(mb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),
k.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)});return!1}k.event.add(this,"beforeactivate._change",function(a){a=a.target;mb.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){k.event.remove(this,"._change");return!mb.test(this.nodeName)}});k.support.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){0===c++&&A.addEventListener(a,e,!0)},teardown:function(){0===--c&&A.removeEventListener(a,e,!0)}}});k.fn.extend({on:function(a,
b,c,e,f){var h,n;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=d);for(h in a)this.on(h,b,c,a[h],f);return this}null==c&&null==e?(e=b,c=b=d):null==e&&("string"===typeof b?(e=c,c=d):(e=c,c=b,b=d));if(!1===e)e=l;else if(!e)return this;1===f&&(n=e,e=function(a){k().off(a);return n.apply(this,arguments)},e.guid=n.guid||(n.guid=k.guid++));return this.each(function(){k.event.add(this,a,e,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj)return e=
a.handleObj,k(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)c=b,b=d;!1===c&&(c=l);return this.each(function(){k.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return k.event.trigger(a,b,c,!0)}});var Lb=/^.[^:#\[\.,]*$/,Sb=/^(?:parents|prev(?:Until|All))/,
ob=k.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({find:function(a){var b,c=[],e=this,d=e.length;if("string"!==typeof a)return this.pushStack(k(a).filter(function(){for(b=0;b<d;b++)if(k.contains(e[b],this))return!0}));for(b=0;b<d;b++)k.find(a,e[b],c);c=this.pushStack(1<d?k.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},has:function(a){var b,c=k(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(k.contains(this,c[b]))return!0})},
not:function(a){return this.pushStack(q(this,a||[],!0))},filter:function(a){return this.pushStack(q(this,a||[],!1))},is:function(a){return!!q(this,"string"===typeof a&&ob.test(a)?k(a):a||[],!1).length},closest:function(a,b){for(var c,e=0,d=this.length,f=[],l=ob.test(a)||"string"!==typeof a?k(a,b||this.context):0;e<d;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(l?-1<l.index(c):1===c.nodeType&&k.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?k.unique(f):
f)},index:function(a){return a?"string"===typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"===typeof a?k(a,b):k.makeArray(a&&a.nodeType?[a]:a),c=k.merge(this.get(),c);return this.pushStack(k.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,
"parentNode")},parentsUntil:function(a,b,c){return k.dir(a,"parentNode",c)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,c){return k.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return k.dir(a,"previousSibling",c)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},
contents:function(a){return k.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(c,e){var d=k.map(this,b,c);"Until"!==a.slice(-5)&&(e=c);e&&"string"===typeof e&&(d=k.filter(e,d));1<this.length&&(Tb[a]||(d=k.unique(d)),Sb.test(a)&&(d=d.reverse()));return this.pushStack(d)}});k.extend({filter:function(a,b,c){var e=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?k.find.matchesSelector(e,a)?[e]:[]:k.find.matches(a,k.grep(b,
function(a){return 1===a.nodeType}))},dir:function(a,b,c){var e=[];for(a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!k(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var wb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gb=/ jQuery\d+="(?:null|\d+)"/g,Hb=RegExp("<(?:"+wb+")[\\s/>]",
"i"),pb=/^\s+/,V=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Va=/<([\w:]+)/,db=/<tbody/i,Ib=/<|&#?\w+;/,ta=/<(?:script|style|link)/i,xb=/^(?:checkbox|radio)$/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,qb=/^$|\/(?:java|ecma)script/i,wa=/^true\/(.*)/,Zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,H={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fb=s(A).appendChild(A.createElement("div"));H.optgroup=H.option;H.tbody=H.tfoot=H.colgroup=H.caption=H.thead;H.th=H.td;k.fn.extend({text:function(a){return k.access(this,function(a){return a===d?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=a?k.filter(a,this):this,d=0;null!=(c=e[d]);d++)b||1!==c.nodeType||k.cleanData(v(c)),c.parentNode&&(b&&k.contains(c.ownerDocument,c)&&r(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(v(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return k.clone(this,a,b)})},html:function(a){return k.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(Gb,""):d;if("string"===typeof a&&!(ta.test(a)||!k.support.htmlSerialize&&Hb.test(a)||!k.support.leadingWhitespace&&pb.test(a)||H[(Va.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(V,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},1===b.nodeType&&(k.cleanData(v(b,
!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=k.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var e=a[b++],d=a[b++];d&&(e&&e.parentNode!==d&&(e=this.nextSibling),k(this).remove(),d.insertBefore(c,e))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=ma.apply([],a);var e,d,f,l,h=0,n=this.length,p=this,m=n-1,g=a[0],q=k.isFunction(g);
if(q||!(1>=n||"string"!==typeof g||k.support.checkClone)&&eb.test(g))return this.each(function(e){var d=p.eq(e);q&&(a[0]=g.call(this,e,d.html()));d.domManip(a,b,c)});if(n&&(l=k.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=l.firstChild,1===l.childNodes.length&&(l=e),e)){f=k.map(v(l,"script"),t);for(d=f.length;h<n;h++)e=l,h!==m&&(e=k.clone(e,!0,!0),d&&k.merge(f,v(e,"script"))),b.call(this[h],e,h);if(d)for(l=f[f.length-1].ownerDocument,k.map(f,u),h=0;h<d;h++)e=f[h],qb.test(e.type||"")&&!k._data(e,
"globalEval")&&k.contains(l,e)&&(e.src?k._evalUrl(e.src):k.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Zb,"")));l=e=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var c=0,e=[],d=k(a),f=d.length-1;c<=f;c++)a=c===f?this:this.clone(!0),k(d[c])[b](a),yb.apply(e,a.get());return this.pushStack(e)}});k.extend({clone:function(a,b,c){var e,d,f,l,h,n=k.contains(a.ownerDocument,
a);k.support.html5Clone||k.isXMLDoc(a)||!Hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(fb.innerHTML=a.outerHTML,fb.removeChild(f=fb.firstChild));if(!(k.support.noCloneEvent&&k.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(e=v(f),h=v(a),l=0;null!=(d=h[l]);++l)if(e[l]){var p=e[l],m=void 0,g=void 0,q=void 0;if(1===p.nodeType){m=p.nodeName.toLowerCase();if(!k.support.noCloneEvent&&p[k.expando]){q=k._data(p);for(g in q.events)k.removeEvent(p,g,q.handle);p.removeAttribute(k.expando)}if("script"===
m&&p.text!==d.text)t(p).text=d.text,u(p);else if("object"===m)p.parentNode&&(p.outerHTML=d.outerHTML),k.support.html5Clone&&d.innerHTML&&!k.trim(p.innerHTML)&&(p.innerHTML=d.innerHTML);else if("input"===m&&xb.test(d.type))p.defaultChecked=p.checked=d.checked,p.value!==d.value&&(p.value=d.value);else if("option"===m)p.defaultSelected=p.selected=d.defaultSelected;else if("input"===m||"textarea"===m)p.defaultValue=d.defaultValue}}if(b)if(c)for(h=h||v(a),e=e||v(f),l=0;null!=(d=h[l]);l++)z(d,e[l]);else z(a,
f);e=v(f,"script");0<e.length&&r(e,!n&&v(a,"script"));return f},buildFragment:function(a,b,c,e){for(var d,f,l,h,n,p,m=a.length,g=s(b),q=[],F=0;F<m;F++)if((f=a[F])||0===f)if("object"===k.type(f))k.merge(q,f.nodeType?[f]:f);else if(Ib.test(f)){l=l||g.appendChild(b.createElement("div"));h=(Va.exec(f)||["",""])[1].toLowerCase();p=H[h]||H._default;l.innerHTML=p[1]+f.replace(V,"<$1></$2>")+p[2];for(d=p[0];d--;)l=l.lastChild;!k.support.leadingWhitespace&&pb.test(f)&&q.push(b.createTextNode(pb.exec(f)[0]));
if(!k.support.tbody)for(d=(f="table"!==h||db.test(f)?"<table>"!==p[1]||db.test(f)?0:l:l.firstChild)&&f.childNodes.length;d--;)k.nodeName(n=f.childNodes[d],"tbody")&&!n.childNodes.length&&f.removeChild(n);k.merge(q,l.childNodes);for(l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=g.lastChild}else q.push(b.createTextNode(f));l&&g.removeChild(l);k.support.appendChecked||k.grep(v(q,"input"),y);for(F=0;f=q[F++];)if(!e||-1===k.inArray(f,e))if(a=k.contains(f.ownerDocument,f),l=v(g.appendChild(f),
"script"),a&&r(l),c)for(d=0;f=l[d++];)qb.test(f.type||"")&&c.push(f);return g},cleanData:function(a,b){for(var c,e,d,f,l=0,h=k.expando,n=k.cache,p=k.support.deleteExpando,m=k.event.special;null!=(c=a[l]);l++)if(b||k.acceptData(c))if(f=(d=c[h])&&n[d]){if(f.events)for(e in f.events)m[e]?k.event.remove(c,e):k.removeEvent(c,e,f.handle);n[d]&&(delete n[d],p?delete c[h]:typeof c.removeAttribute!==U?c.removeAttribute(h):c[h]=null,Ha.push(d))}},_evalUrl:function(a){return k.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}});k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return k.isFunction(a)?this.each(function(b){k(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
k(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(c){k(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});var $a,fa,Ma,Wa=/alpha\([^)]*\)/i,Xa=/opacity\s*=\s*([^)]*)/,Ub=/^(top|right|bottom|left)$/,$b=/^(none|table(?!-c[ea]).+)/,Ya=/^margin/,Z=RegExp("^("+Mb+")(.*)$","i"),Na=RegExp("^("+Mb+")(?!px)[a-z%]+$","i"),
rb=RegExp("^([+-])=("+Mb+")","i"),Za={BODY:"block"},ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:0,fontWeight:400},xa=["Top","Right","Bottom","Left"],jb=["Webkit","O","Moz","ms"];k.fn.extend({css:function(a,b){return k.access(this,function(a,b,c){var e,f={},l=0;if(k.isArray(b)){e=fa(a);for(c=b.length;l<c;l++)f[b[l]]=k.css(a,b[l],!1,e);return f}return c!==d?k.style(a,b,c):k.css(a,b)},a,b,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},
toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){C(this)?k(this).show():k(this).hide()})}});k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ma(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,
l,h,n=k.camelCase(b),p=a.style;b=k.cssProps[n]||(k.cssProps[n]=D(p,n));h=k.cssHooks[b]||k.cssHooks[n];if(c!==d){if(l=typeof c,"string"===l&&(f=rb.exec(c))&&(c=(f[1]+1)*f[2]+parseFloat(k.css(a,b)),l="number"),!(null==c||"number"===l&&isNaN(c)||("number"!==l||k.cssNumber[n]||(c+="px"),k.support.clearCloneStyle||""!==c||0!==b.indexOf("background")||(p[b]="inherit"),h&&"set"in h&&(c=h.set(a,c,e))===d)))try{p[b]=c}catch(m){}}else return h&&"get"in h&&(f=h.get(a,!1,e))!==d?f:p[b]}},css:function(a,b,c,e){var f,
l;l=k.camelCase(b);b=k.cssProps[l]||(k.cssProps[l]=D(a.style,l));(l=k.cssHooks[b]||k.cssHooks[l])&&"get"in l&&(f=l.get(a,!0,c));f===d&&(f=Ma(a,b,e));"normal"===f&&b in Da&&(f=Da[b]);return""===c||c?(a=parseFloat(f),!0===c||k.isNumeric(a)?a||0:f):f}});g.getComputedStyle?(fa=function(a){return g.getComputedStyle(a,null)},Ma=function(a,b,c){var e,f=(c=c||fa(a))?c.getPropertyValue(b)||c[b]:d,l=a.style;c&&(""!==f||k.contains(a.ownerDocument,a)||(f=k.style(a,b)),Na.test(f)&&Ya.test(b)&&(a=l.width,b=l.minWidth,
e=l.maxWidth,l.minWidth=l.maxWidth=l.width=f,f=c.width,l.width=a,l.minWidth=b,l.maxWidth=e));return f}):A.documentElement.currentStyle&&(fa=function(a){return a.currentStyle},Ma=function(a,b,c){var e,f,l=(c=c||fa(a))?c[b]:d,h=a.style;null==l&&h&&h[b]&&(l=h[b]);if(Na.test(l)&&!Ub.test(b)){c=h.left;if(f=(e=a.runtimeStyle)&&e.left)e.left=a.currentStyle.left;h.left="fontSize"===b?"1em":l;l=h.pixelLeft+"px";h.left=c;f&&(e.left=f)}return""===l?"auto":l});k.each(["height","width"],function(a,b){k.cssHooks[b]=
{get:function(a,c,e){if(c)return 0===a.offsetWidth&&$b.test(k.css(a,"display"))?k.swap(a,ca,function(){return ba(a,b,e)}):ba(a,b,e)},set:function(a,c,e){var f=e&&fa(a);return I(a,c,e?P(a,b,e,k.support.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,f),f):0)}}});k.support.opacity||(k.cssHooks.opacity={get:function(a,b){return Xa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,f=k.isNumeric(b)?
"alpha(opacity="+100*b+")":"",d=e&&e.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===k.trim(d.replace(Wa,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||e&&!e.filter))return;c.filter=Wa.test(d)?d.replace(Wa,f):d+" "+f}});k(function(){k.support.reliableMarginRight||(k.cssHooks.marginRight={get:function(a,b){if(b)return k.swap(a,{display:"inline-block"},Ma,[a,"marginRight"])}});!k.support.pixelPosition&&k.fn.position&&k.each(["top","left"],function(a,b){k.cssHooks[b]={get:function(a,
c){if(c)return c=Ma(a,b),Na.test(c)?k(a).position()[b]+"px":c}}})});k.expr&&k.expr.filters&&(k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!k.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||k.css(a,"display"))},k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(c){var e=0,f={};for(c="string"===typeof c?c.split(" "):[c];4>e;e++)f[a+xa[e]+b]=
c[e]||c[e-2]||c[0];return f}};Ya.test(a)||(k.cssHooks[a+b].set=I)});var ac=/%20/g,Yb=/\[\]$/,gb=/\r?\n/g,ua=/^(?:submit|button|image|reset|file)$/i,sb=/^(?:input|select|textarea|keygen)/i;k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&sb.test(this.nodeName)&&!ua.test(a)&&(this.checked||
!xb.test(a))}).map(function(a,b){var c=k(this).val();return null==c?null:k.isArray(c)?k.map(c,function(a){return{name:b.name,value:a.replace(gb,"\r\n")}}):{name:b.name,value:c.replace(gb,"\r\n")}}).get()}});k.param=function(a,b){var c,e=[],f=function(a,b){b=k.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=k.ajaxSettings&&k.ajaxSettings.traditional);if(k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){f(this.name,this.value)});else for(c in a)B(c,
a[c],b,f);return e.join("&").replace(ac,"+")};k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){k.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,
b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ea,Fa,O=k.now(),S=/\?/,Vb=/#.*$/,ia=/([?&])_=[^&]*/,na=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Wb=/^(?:GET|HEAD)$/,bc=/^\/\//,tb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ub=k.fn.load,La={},Q={},vb="*/".concat("*");try{Fa=Ra.href}catch(Xb){Fa=A.createElement("a"),Fa.href="",Fa=Fa.href}Ea=tb.exec(Fa.toLowerCase())||[];k.fn.load=
function(a,b,c){if("string"!==typeof a&&ub)return ub.apply(this,arguments);var e,f,l,h=this,n=a.indexOf(" ");0<=n&&(e=a.slice(n,a.length),a=a.slice(0,n));k.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(l="POST");0<h.length&&k.ajax({url:a,type:l,dataType:"html",data:b}).done(function(a){f=arguments;h.html(e?k("<div>").append(k.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){h.each(c,f||[a.responseText,b,a])});return this};k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ea[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?X(X(a,k.ajaxSettings),b):X(k.ajaxSettings,a)},ajaxPrefilter:$(La),ajaxTransport:$(Q),ajax:function(a,b){function c(a,b,e,f){var g,x,v,J;J=b;if(2!==u){u=2;n&&clearTimeout(n);m=d;h=f||"";G.readyState=0<a?4:0;f=200<=a&&300>a||304===a;if(e){v=q;for(var W=G,B,ka,w,t,da=v.contents,K=v.dataTypes;"*"===K[0];)K.shift(),
ka===d&&(ka=v.mimeType||W.getResponseHeader("Content-Type"));if(ka)for(t in da)if(da[t]&&da[t].test(ka)){K.unshift(t);break}if(K[0]in e)w=K[0];else{for(t in e){if(!K[0]||v.converters[t+" "+K[0]]){w=t;break}B||(B=t)}w=w||B}w?(w!==K[0]&&K.unshift(w),v=e[w]):v=void 0}a:{e=q;B=v;ka=G;w=f;var ga,y,$,W={},da=e.dataTypes.slice();if(da[1])for(y in e.converters)W[y.toLowerCase()]=e.converters[y];for(t=da.shift();t;)if(e.responseFields[t]&&(ka[e.responseFields[t]]=B),!$&&w&&e.dataFilter&&(B=e.dataFilter(B,
e.dataType)),$=t,t=da.shift())if("*"===t)t=$;else if("*"!==$&&$!==t){y=W[$+" "+t]||W["* "+t];if(!y)for(ga in W)if(v=ga.split(" "),v[1]===t&&(y=W[$+" "+v[0]]||W["* "+v[0]])){!0===y?y=W[ga]:!0!==W[ga]&&(t=v[0],da.unshift(v[1]));break}if(!0!==y)if(y&&e["throws"])B=y(B);else try{B=y(B)}catch(ya){v={state:"parsererror",error:y?ya:"No conversion from "+$+" to "+t};break a}}v={state:"success",data:B}}if(f)q.ifModified&&((J=G.getResponseHeader("Last-Modified"))&&(k.lastModified[l]=J),(J=G.getResponseHeader("etag"))&&
(k.etag[l]=J)),204===a||"HEAD"===q.type?J="nocontent":304===a?J="notmodified":(J=v.state,g=v.data,x=v.error,f=!x);else if(x=J,a||!J)J="error",0>a&&(a=0);G.status=a;G.statusText=(b||J)+"";f?T.resolveWith(r,[g,J,G]):T.rejectWith(r,[G,J,x]);G.statusCode(z);z=d;p&&F.trigger(f?"ajaxSuccess":"ajaxError",[G,q,f?g:x]);s.fireWith(r,[G,J]);p&&(F.trigger("ajaxComplete",[G,q]),--k.active||k.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);b=b||{};var e,f,l,h,n,p,m,g,q=k.ajaxSetup({},b),r=q.context||
q,F=q.context&&(r.nodeType||r.jquery)?k(r):k.event,T=k.Deferred(),s=k.Callbacks("once memory"),z=q.statusCode||{},v={},J={},u=0,W="canceled",G={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!g)for(g={};b=na.exec(h);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();u||(a=J[c]=J[c]||a,v[a]=b);return this},overrideMimeType:function(a){u||(q.mimeType=a);return this},
statusCode:function(a){var b;if(a)if(2>u)for(b in a)z[b]=[z[b],a[b]];else G.always(a[G.status]);return this},abort:function(a){a=a||W;m&&m.abort(a);c(0,a);return this}};T.promise(G).complete=s.add;G.success=G.done;G.error=G.fail;q.url=((a||q.url||Fa)+"").replace(Vb,"").replace(bc,Ea[1]+"//");q.type=b.method||b.type||q.method||q.type;q.dataTypes=k.trim(q.dataType||"*").toLowerCase().match(aa)||[""];null==q.crossDomain&&(e=tb.exec(q.url.toLowerCase()),q.crossDomain=!(!e||e[1]===Ea[1]&&e[2]===Ea[2]&&
(e[3]||("http:"===e[1]?"80":"443"))===(Ea[3]||("http:"===Ea[1]?"80":"443"))));q.data&&q.processData&&"string"!==typeof q.data&&(q.data=k.param(q.data,q.traditional));ya(La,q,b,G);if(2===u)return G;(p=q.global)&&0===k.active++&&k.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!Wb.test(q.type);l=q.url;q.hasContent||(q.data&&(l=q.url+=(S.test(l)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=ia.test(l)?l.replace(ia,"$1_="+O++):l+(S.test(l)?"&":"?")+"_="+O++));q.ifModified&&
(k.lastModified[l]&&G.setRequestHeader("If-Modified-Since",k.lastModified[l]),k.etag[l]&&G.setRequestHeader("If-None-Match",k.etag[l]));(q.data&&q.hasContent&&!1!==q.contentType||b.contentType)&&G.setRequestHeader("Content-Type",q.contentType);G.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+vb+"; q=0.01":""):q.accepts["*"]);for(f in q.headers)G.setRequestHeader(f,q.headers[f]);if(q.beforeSend&&(!1===q.beforeSend.call(r,G,q)||
2===u))return G.abort();W="abort";for(f in{success:1,error:1,complete:1})G[f](q[f]);if(m=ya(Q,q,b,G)){G.readyState=1;p&&F.trigger("ajaxSend",[G,q]);q.async&&0<q.timeout&&(n=setTimeout(function(){G.abort("timeout")},q.timeout));try{u=1,m.send(v,c)}catch(B){if(2>u)c(-1,B);else throw B;}}else c(-1,"No Transport");return G},getJSON:function(a,b,c){return k.get(a,b,c,"json")},getScript:function(a,b){return k.get(a,d,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,c,e,f){k.isFunction(c)&&
(f=f||e,e=c,c=d);return k.ajax({url:a,type:b,dataType:f,data:c,success:e})}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){k.globalEval(a);return a}}});k.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=A.head||k("head")[0]||A.documentElement;
return{send:function(e,f){b=A.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(d,!0)}}}});var W=[],F=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=W.pop()||
k.expando+"_"+O++;this[a]=!0;return a}});k.ajaxPrefilter("json jsonp",function(a,b,c){var e,f,l,h=!1!==a.jsonp&&(F.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&F.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=k.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(F,"$1"+e):!1!==a.jsonp&&(a.url+=(S.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){l||
k.error(e+" was not called");return l[0]},a.dataTypes[0]="json",f=g[e],g[e]=function(){l=arguments},c.always(function(){g[e]=f;a[e]&&(a.jsonpCallback=b.jsonpCallback,W.push(e));l&&k.isFunction(f)&&f(l[0]);l=f=d}),"script"});var T,J,G=0,da=g.ActiveXObject&&function(){for(var a in T)T[a](d,!0)};k.ajaxSettings.xhr=g.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&Oa()))a:{try{a=new g.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:Oa;J=k.ajaxSettings.xhr();k.support.cors=
!!J&&"withCredentials"in J;(J=k.support.ajax=!!J)&&k.ajaxTransport(function(a){if(!a.crossDomain||k.support.cors){var b;return{send:function(c,e){var f,l,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(l in a.xhrFields)h[l]=a.xhrFields[l];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(l in c)h.setRequestHeader(l,c[l])}catch(n){}h.send(a.hasContent&&
a.data||null);b=function(c,l){var n,p,m,g;try{if(b&&(l||4===h.readyState))if(b=d,f&&(h.onreadystatechange=k.noop,da&&delete T[f]),l)4!==h.readyState&&h.abort();else{g={};n=h.status;p=h.getAllResponseHeaders();"string"===typeof h.responseText&&(g.text=h.responseText);try{m=h.statusText}catch(q){m=""}n||!a.isLocal||a.crossDomain?1223===n&&(n=204):n=g.text?200:404}}catch(r){l||e(-1,r)}g&&e(n,m,g,p)};a.async?4===h.readyState?setTimeout(b):(f=++G,da&&(T||(T={},k(g).unload(da)),T[f]=b),h.onreadystatechange=
b):b()},abort:function(){b&&b(d,!0)}}}});var ga,va,ja=/^(?:toggle|show|hide)$/,pa=RegExp("^(?:([+-])=|)("+Mb+")([a-z%]*)$","i"),Ga=/queueHooks$/,Pa=[function(a,b,c){var e,f,d,l,h,n=this,p={},m=a.style,g=a.nodeType&&C(a),q=k._data(a,"fxshow");c.queue||(l=k._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,h=l.empty.fire,l.empty.fire=function(){l.unqueued||h()}),l.unqueued++,n.always(function(){n.always(function(){l.unqueued--;k.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in
b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===k.css(a,"display")&&"none"===k.css(a,"float")&&(k.support.inlineBlockNeedsLayout&&"inline"!==ea(a.nodeName)?m.zoom=1:m.display="inline-block"));c.overflow&&(m.overflow="hidden",k.support.shrinkWrapBlocks||n.always(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(e in b)f=b[e],ja.exec(f)&&(delete b[e],d=d||"toggle"===f,f!==(g?"hide":"show")&&(p[e]=q&&q[e]||k.style(a,e)));if(!k.isEmptyObject(p))for(e in q?
"hidden"in q&&(g=q.hidden):q=k._data(a,"fxshow",{}),d&&(q.hidden=!g),g?k(a).show():n.done(function(){k(a).hide()}),n.done(function(){var b;k._removeData(a,"fxshow");for(b in p)k.style(a,b,p[b])}),p)b=oa(g?q[e]:0,e,n),e in q||(q[e]=b.start,g&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],ab={"*":[function(a,b){var c=this.createTween(a,b),e=c.cur(),f=pa.exec(b),d=f&&f[3]||(k.cssNumber[a]?"":"px"),l=(k.cssNumber[a]||"px"!==d&&+e)&&pa.exec(k.css(c.elem,a)),h=1,n=20;if(l&&l[3]!==d){d=d||l[3];
f=f||[];l=+e||1;do h=h||".5",l/=h,k.style(c.elem,a,l+d);while(h!==(h=c.cur()/e)&&1!==h&&--n)}f&&(l=c.start=+l||+e||0,c.unit=d,c.end=f[1]?l+(f[1]+1)*f[2]:+f[2]);return c}]};k.Animation=k.extend(Sa,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,f=a.length;e<f;e++)c=a[e],ab[c]=ab[c]||[],ab[c].unshift(b)},prefilter:function(a,b){b?Pa.unshift(a):Pa.push(a)}});k.Tween=E;E.prototype={constructor:E,init:function(a,b,c,e,f,d){this.elem=a;this.prop=c;this.easing=f||"swing";
this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=d||(k.cssNumber[c]?"":"px")},cur:function(){var a=E.propHooks[this.prop];return a&&a.get?a.get(this):E.propHooks._default.get(this)},run:function(a){var b,c=E.propHooks[this.prop];this.pos=this.options.duration?b=k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):E.propHooks._default.set(this);
return this}};E.prototype.init.prototype=E.prototype;E.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=k.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(k.fx.step[a.prop])k.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&
(a.elem[a.prop]=a.now)}};k.each(["toggle","show","hide"],function(a,b){var c=k.fn[b];k.fn[b]=function(a,e,f){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,e,f)}});k.fn.extend({fadeTo:function(a,b,c,e){return this.filter(C).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var f=k.isEmptyObject(a),d=k.speed(b,c,e);b=function(){var b=Sa(this,k.extend({},a),d);(f||k._data(this,"finish"))&&b.stop(!0)};b.finish=b;return f||!1===d.queue?
this.each(b):this.queue(d.queue,b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",d=k.timers,l=k._data(this);if(f)l[f]&&l[f].stop&&e(l[f]);else for(f in l)l[f]&&l[f].stop&&Ga.test(f)&&e(l[f]);for(f=d.length;f--;)d[f].elem!==this||null!=a&&d[f].queue!==a||(d[f].anim.stop(c),b=!1,d.splice(f,1));!b&&c||k.dequeue(this,a)})},finish:function(a){!1!==
a&&(a=a||"fx");return this.each(function(){var b,c=k._data(this),e=c[a+"queue"];b=c[a+"queueHooks"];var f=k.timers,d=e?e.length:0;c.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<d;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});k.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,b){k.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});k.speed=function(a,b,c){var e=a&&"object"===typeof a?k.extend({},a):{complete:c||!c&&b||k.isFunction(a)&&a,duration:a,easing:c&&b||b&&!k.isFunction(b)&&b};e.duration=k.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in k.fx.speeds?k.fx.speeds[e.duration]:k.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){k.isFunction(e.old)&&e.old.call(this);e.queue&&k.dequeue(this,
e.queue)};return e};k.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};k.timers=[];k.fx=E.prototype.init;k.fx.tick=function(){var a,b=k.timers,c=0;for(ga=k.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||k.fx.stop();ga=d};k.fx.timer=function(a){a()&&k.timers.push(a)&&k.fx.start()};k.fx.interval=13;k.fx.start=function(){va||(va=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(va);va=null};k.fx.speeds={slow:600,fast:200,
_default:400};k.fx.step={};k.expr&&k.expr.filters&&(k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length});k.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,c,e={top:0,left:0},f=(c=this[0])&&c.ownerDocument;if(f){b=f.documentElement;if(!k.contains(b,c))return e;typeof c.getBoundingClientRect!==U&&(e=c.getBoundingClientRect());c=za(f);return{top:e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||
0),left:e.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};k.offset={setOffset:function(a,b,c){var e=k.css(a,"position");"static"===e&&(a.style.position="relative");var f=k(a),d=f.offset(),l=k.css(a,"top"),h=k.css(a,"left"),n={},p={};("absolute"===e||"fixed"===e)&&-1<k.inArray("auto",[l,h])?(p=f.position(),e=p.top,h=p.left):(e=parseFloat(l)||0,h=parseFloat(h)||0);k.isFunction(b)&&(b=b.call(a,c,d));null!=b.top&&(n.top=b.top-d.top+e);null!=b.left&&(n.left=b.left-d.left+h);"using"in b?b.using.call(a,
n):f.css(n)}};k.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},e=this[0];"fixed"===k.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(c=a.offset()),c.top+=k.css(a[0],"borderTopWidth",!0),c.left+=k.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-k.css(e,"marginTop",!0),left:b.left-c.left-k.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||R;a&&!k.nodeName(a,
"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||R})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);k.fn[a]=function(e){return k.access(this,function(a,e,f){var l=za(a);if(f===d)return l?b in l?l[b]:l.document.documentElement[e]:a[e];l?l.scrollTo(c?k(l).scrollLeft():f,c?f:k(l).scrollTop()):a[e]=f},a,e,arguments.length,null)}});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,
e){k.fn[e]=function(e,f){var l=arguments.length&&(c||"boolean"!==typeof e),h=c||(!0===e||!0===f?"margin":"border");return k.access(this,function(b,c,e){return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):e===d?k.css(b,c,h):k.style(b,c,e,h)},b,l?e:d,l,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;(function(){var a,b;k.uaMatch=function(a){a=
a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=k.uaMatch(navigator.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);k.browser=b})();k.version="3.1";k.long_version="3.1.13";k.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".",
"")+(b?b:"")};k.globalNamespace=k.uid("Foundry");g[k.globalNamespace]=k;k.run=function(a){return k.isFunction(a)?a(k):null};k.initialize=function(a){k.initialized||(k.extend(k,a),"development"==k.environment&&(g.F=k),k.initialized=!0,FD31.module.execute())};FD31.jquery(k)})(window);
FD31.plugin("lodash",function(g){function d(a,b,c){c=(c||0)-1;for(var e=a.length;++c<e;)if(a[c]===b)return c;return-1}function m(a,b){var c=typeof b;a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:v+b;a=a[c]||(a[c]={});return"object"==c?a[e]&&-1<d(a[e],b)?0:-1:a[e]?0:-1}function a(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var e="number"==c?a:v+a,f=b[c]||(b[c]={});"object"==c?
(f[e]||(f[e]=[])).push(a)==this.array.length&&(b[c]=!1):f[e]=!0}}function b(a){return a.charCodeAt(0)}function f(a,b){var c=a.index,e=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<e?-1:1}function h(b){var c=-1,e=b.length,f=l();f["false"]=f["null"]=f["true"]=f.undefined=!1;var d=l();d.array=b;d.cache=f;for(d.push=a;++c<e;)d.push(b[c]);return!1===f.object?(p(d),null):d}function c(a){return"\\"+Ha[a]}function e(){return t.pop()||
[]}function l(){return u.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function n(a){a.length=0;t.length<D&&t.push(a)}function p(a){var b=a.cache;b&&p(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;u.length<D&&u.push(a)}function q(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var e=-1;c=c-b||0;for(var f=Array(0>c?0:c);++e<c;)f[e]=
a[b+e];return f}function s(a){function g(a){return a&&"object"==typeof a&&!ia(a)&&Z.call(a,"__wrapped__")?a:new u(a)}function u(a){this.__wrapped__=a}function t(a,b,c,e){function f(){var e=arguments,g=l?this:b;d||(a=b[h]);c.length&&(e=e.length?(e=O.call(e),n?e.concat(c):c.concat(e)):c);return this instanceof f?(g=k(a.prototype),e=a.apply(g,e),Ba(e)?e:g):a.apply(g,e)}var d=Ja(a),l=!c,h=b;if(l){var n=e;c=b}else if(!d){if(!e)throw new Zb;b=a}return f}function k(a){return Ba(a)?xa(a):{}}function D(a){return Wb[a]}
function aa(a,b,c){var e=(e=g.indexOf)===Rb?d:e;return e}function ma(a){return function(b,c,e,f){"boolean"!=typeof c&&null!=c&&(e=(f=e)&&f[c]===b?w:c,c=!1);null!=e&&(e=g.createCallback(e,f));return a(b,c,e,f)}}function Ha(a){var b,c;if(!a||ca.call(a)!=U||(b=a.constructor,Ja(b)&&!(b instanceof b)))return!1;La(a,function(a,b){c=b});return c===w||Z.call(a,c)}function Nb(a){return bc[a]}function Ab(a,b,c,f,d,l){var h=a;"boolean"!=typeof b&&null!=b&&(f=c,c=b,b=!1);if("function"==typeof c){c="undefined"==
typeof f?c:g.createCallback(c,f,1);h=c(h);if("undefined"!=typeof h)return h;h=a}if(f=Ba(h)){var p=ca.call(h);if(!R[p])return h;var k=ia(h)}if(!f||!b)return f?k?q(h):tb({},h):h;f=S[p];switch(p){case N:case za:return new f(+h);case Aa:case A:return new f(h);case Ra:return f(h.source,ea.exec(h))}p=!d;d||(d=e());l||(l=e());for(var m=d.length;m--;)if(d[m]==a)return l[m];h=k?f(h.length):{};k&&(Z.call(a,"index")&&(h.index=a.index),Z.call(a,"input")&&(h.input=a.input));d.push(a);l.push(h);(k?L:Q)(a,function(a,
e){h[e]=Ab(a,b,c,w,d,l)});p&&(n(d),n(l));return h}function kb(a){var b=[];La(a,function(a,c){Ja(a)&&b.push(c)});return b.sort()}function Ob(a){for(var b=-1,c=na(a),e=c.length,f={};++b<e;){var d=c[b];f[a[d]]=d}return f}function Ua(a,b,c,f,d,l){var h=c===z;if("function"==typeof c&&!h){c=g.createCallback(c,f,2);var p=c(a,b);if("undefined"!=typeof p)return!!p}if(a===b)return 0!==a||1/a==1/b;var k=typeof a,m=typeof b;if(a===a&&(!a||"function"!=k&&"object"!=k)&&(!b||"function"!=m&&"object"!=m))return!1;
if(null==a||null==b)return a===b;m=ca.call(a);k=ca.call(b);m==qa&&(m=U);k==qa&&(k=U);if(m!=k)return!1;switch(m){case N:case za:return+a==+b;case Aa:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Ra:case A:return a==wa(b)}k=m==E;if(!k){if(Z.call(a,"__wrapped__ ")||Z.call(b,"__wrapped__"))return Ua(a.__wrapped__||a,b.__wrapped__||b,c,f,d,l);if(m!=U)return!1;var m=a.constructor,q=b.constructor;if(m!=q&&!(Ja(m)&&m instanceof m&&Ja(q)&&q instanceof q))return!1}q=!d;d||(d=e());l||(l=e());for(m=d.length;m--;)if(d[m]==
a)return l[m]==b;var r=0,p=!0;d.push(a);l.push(b);if(k){m=a.length;r=b.length;p=r==a.length;if(!p&&!h)return p;for(;r--;)if(k=m,q=b[r],h)for(;k--&&!(p=Ua(a[k],q,c,f,d,l)););else if(!(p=Ua(a[r],q,c,f,d,l)))break;return p}La(b,function(b,e,h){if(Z.call(h,e))return r++,p=Z.call(a,e)&&Ua(a[e],b,c,f,d,l)});p&&!h&&La(a,function(a,b,c){if(Z.call(c,b))return p=-1<--r});q&&(n(d),n(l));return p}function Ja(a){return"function"==typeof a}function Ba(a){return!(!a||!Y[typeof a])}function Pb(a){return"number"==
typeof a||ca.call(a)==Aa}function ha(a){return"string"==typeof a||ca.call(a)==A}function Bb(a,b,c){var f=arguments,d=0,l=2;if(!Ba(a))return a;if(c===z)var h=f[3],p=f[4],k=f[5];else{var m=!0,p=e(),k=e();"number"!=typeof c&&(l=f.length);3<l&&"function"==typeof f[l-2]?h=g.createCallback(f[--l-1],f[l--],2):2<l&&"function"==typeof f[l-1]&&(h=f[--l])}for(;++d<l;)(ia(f[d])?L:Q)(f[d],function(b,c){var e,f,d=b,l=a[c];if(b&&((f=ia(b))||vb(b))){for(d=p.length;d--;)if(e=p[d]==b){l=k[d];break}if(!e){var n;h&&
(d=h(l,b),n="undefined"!=typeof d)&&(l=d);n||(l=f?ia(l)?l:[]:vb(l)?l:{});p.push(b);k.push(l);n||(l=Bb(l,b,z,h,p,k))}}else h&&(d=h(l,b),"undefined"==typeof d&&(d=b)),"undefined"!=typeof d&&(l=d);a[c]=l});m&&(n(p),n(k));return a}function hb(a){for(var b=-1,c=na(a),e=c.length,f=V(e);++b<e;)f[b]=a[c[b]];return f}function Kb(a,b,c){var e=-1,f=aa(),d=a?a.length:0,l=!1;c=(0>c?ua(0,d+c):c)||0;d&&"number"==typeof d?l=-1<(ha(a)?a.indexOf(b,c):f(a,b,c)):Q(a,function(a){if(++e>=c)return!(l=a===b)});return l}
function Jb(a,b,c){var e=!0;b=g.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f&&(e=!!b(a[c],c,a)););else Q(a,function(a,c,f){return e=!!b(a,c,f)});return e}function Ca(a,b,c){var e=[];b=g.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f;){var d=a[c];b(d,c,a)&&e.push(d)}else Q(a,function(a,c,f){b(a,c,f)&&e.push(a)});return e}function lb(a,b,c){b=g.createCallback(b,c);c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var f=a[c];if(b(f,
c,a))return f}else{var d;Q(a,function(a,c,e){if(b(a,c,e))return d=a,!1});return d}}function L(a,b,c){var e=-1,f=a?a.length:0;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);if("number"==typeof f)for(;++e<f&&!1!==b(a[e],e,a););else Q(a,b);return a}function Cb(a,b,c){var e=-1,f=a?a.length:0;b=g.createCallback(b,c);if("number"==typeof f)for(var d=V(f);++e<f;)d[e]=b(a[e],e,a);else d=[],Q(a,function(a,c,f){d[++e]=b(a,c,f)});return d}function Qb(a,c,e){var f=-Infinity,d=f;if(!c&&ia(a)){e=-1;for(var l=
a.length;++e<l;){var h=a[e];h>d&&(d=h)}}else c=!c&&ha(a)?b:g.createCallback(c,e),L(a,function(a,b,e){b=c(a,b,e);b>f&&(f=b,d=a)});return d}function Db(a,b){var c=-1,e=a?a.length:0;if("number"==typeof e)for(var f=V(e);++c<e;)f[c]=a[c][b];return f||Cb(a,b)}function bb(a,b,c,e){if(!a)return c;var f=3>arguments.length;b=g.createCallback(b,e,4);var d=-1,l=a.length;if("number"==typeof l)for(f&&(c=a[++d]);++d<l;)c=b(c,a[d],d,a);else Q(a,function(a,e,d){c=f?(f=!1,a):b(c,a,e,d)});return c}function Ka(a,b,c,
e){var f=a?a.length:0,d=3>arguments.length;if("number"!=typeof f)var l=na(a),f=l.length;b=g.createCallback(b,e,4);L(a,function(e,h,n){h=l?l[--f]:--f;c=d?(d=!1,a[h]):b(c,a[h],h,n)});return c}function cb(a,b,c){var e;b=g.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f&&!(e=b(a[c],c,a)););else Q(a,function(a,c,f){return!(e=b(a,c,f))});return!!e}function mb(a){var b=-1,c=aa(),e=a?a.length:0,f=Xa.apply(H,O.call(arguments,1)),l=[],n=e>=y&&c===d;if(n){var g=h(f);g?(c=m,f=g):
n=!1}for(;++b<e;)g=a[b],0>c(f,g)&&l.push(g);n&&p(f);return l}function Eb(a,b,c){if(a){var e=0,f=a.length;if("number"!=typeof b&&null!=b){var d=-1;for(b=g.createCallback(b,c);++d<f&&b(a[d],d,a);)e++}else if(e=b,null==e||c)return a[0];return q(a,0,sb(ua(0,e),f))}}function Rb(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?ua(0,e+c):c||0}else if(c)return c=Fb(a,b),a[c]===b?c:-1;return a?d(a,b,c):-1}function nb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,f=-1,d=a?a.length:0;for(b=g.createCallback(b,
c);++f<d&&b(a[f],f,a);)e++}else e=null==b||c?1:ua(0,b);return q(a,e)}function Fb(a,b,c,e){var f=0,d=a?a.length:f;c=c?g.createCallback(c,e,1):Gb;for(b=c(b);f<d;)e=f+d>>>1,c(a[e])<b?f=e+1:d=e;return f}function Lb(a){for(var b=-1,c=a?Qb(Db(a,"length")):0,e=V(0>c?0:c);++b<c;)e[b]=Db(a,b);return e}function Sb(a,b){for(var c=-1,e=a?a.length:0,f={};++c<e;){var d=a[c];b?f[d]=b[c]:f[d[0]]=d[1]}return f}function ob(a,b){return Vb.fastBind||Da&&2<arguments.length?Da.call.apply(Da,arguments):t(a,b,O.call(arguments,
2))}function Tb(a,b,c){function e(){Wa(m);Wa(q);g=0;m=q=null}function f(){var b=r&&(!s||1<g);e();b&&(!1!==k&&(p=new db),h=a.apply(n,l))}function d(){e();if(r||k!==b)p=new db,h=a.apply(n,l)}var l,h,n,g=0,p=0,k=!1,m=null,q=null,r=!0;b=ua(0,b||0);if(!0===c)var s=!0,r=!1;else Ba(c)&&(s=c.leading,k="maxWait"in c&&ua(b,c.maxWait||0),r="trailing"in c?c.trailing:r);return function(){l=arguments;n=this;g++;Wa(q);if(!1===k)s&&2>g&&(h=a.apply(n,l));else{var c=new db;m||s||(p=c);var e=k-(c-p);0>=e?(Wa(m),m=null,
p=c,h=a.apply(n,l)):m||(m=Za(d,e))}b!==k&&(q=Za(f,b));return h}}function wb(a){var b=O.call(arguments,1);return Za(function(){a.apply(w,b)},1)}function Gb(a){return a}function Hb(a){L(kb(a),function(b){var c=g[b]=a[b];g.prototype[b]=function(){var a=this.__wrapped__,b=[a];Na.apply(b,arguments);b=c.apply(g,b);return a&&"object"==typeof a&&a===b?this:new u(b)}})}function pb(){return this.__wrapped__}a=a?ra.defaults(window.Object(),a,ra.pick(window,oa)):window;var V=a.Array,Va=a.Boolean,db=a.Date,Ib=
a.Function,ta=a.Math,xb=a.Number,eb=a.Object,qb=a.RegExp,wa=a.String,Zb=a.TypeError,H=[],fb=eb.prototype,$a=a._,fa=qb("^"+wa(fb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Ma=ta.ceil,Wa=a.clearTimeout,Xa=H.concat,Ub=ta.floor,$b=Ib.prototype.toString,Ya=fa.test(Ya=eb.getPrototypeOf)&&Ya,Z=fb.hasOwnProperty,Na=H.push,rb=a.setImmediate,Za=a.setTimeout,ca=fb.toString,Da=fa.test(Da=ca.bind)&&Da,xa=fa.test(xa=eb.create)&&xa,jb=fa.test(jb=V.isArray)&&jb,ac=a.isFinite,
Yb=a.isNaN,gb=fa.test(gb=eb.keys)&&gb,ua=ta.max,sb=ta.min,Ea=a.parseInt,Fa=ta.random,O=H.slice,ta=fa.test(a.attachEvent),ta=Da&&!/\n|true/.test(Da+ta),S={};S[E]=V;S[N]=Va;S[za]=db;S[Qa]=Ib;S[U]=eb;S[Aa]=xb;S[Ra]=qb;S[A]=wa;u.prototype=g.prototype;var Vb=g.support={};Vb.fastBind=Da&&!ta;g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:la,variable:"",imports:{_:g}};var ia=jb,Va=function(a){var b,c=[];if(!a||!Y[typeof a])return c;for(b in a)Z.call(a,b)&&c.push(b);
return c},na=gb?function(a){return Ba(a)?gb(a):[]}:Va,Wb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bc=Ob(Wb),tb=function(a,b,c){var e,f=a,d=f;if(!f)return d;var l=arguments,h=0,n="number"==typeof c?2:l.length;if(3<n&&"function"==typeof l[n-2])var p=g.createCallback(l[--n-1],l[n--],2);else 2<n&&"function"==typeof l[n-1]&&(p=l[--n]);for(;++h<n;)if((f=l[h])&&Y[typeof f])for(var k=-1,m=Y[typeof f]&&na(f),q=m?m.length:0;++k<q;)e=m[k],d[e]=p?p(d[e],f[e]):f[e];return d},ub=function(a,
b,c){var e,f=a,d=f;if(!f)return d;for(var l=arguments,h=0,n="number"==typeof c?2:l.length;++h<n;)if((f=l[h])&&Y[typeof f])for(var g=-1,p=Y[typeof f]&&na(f),k=p?p.length:0;++g<k;)e=p[g],"undefined"==typeof d[e]&&(d[e]=f[e]);return d},La=function(a,b,c){var e;if(!a||!Y[typeof a])return a;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);for(e in a)if(!1===b(a[e],e,a))break;return a},Q=function(a,b,c){if(!a||!Y[typeof a])return a;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);for(var e=-1,f=Y[typeof a]&&
na(a),d=f?f.length:0;++e<d&&(c=f[e],!1!==b(a[c],c,a)););return a},vb=function(a){if(!a||ca.call(a)!=U)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Ya(b))&&Ya(c);return c?a==c||Ya(a)==c:Ha(a)},Va=ma(function F(a,b,c){for(var e=-1,f=a?a.length:0,d=[];++e<f;){var l=a[e];c&&(l=c(l,e,a));ia(l)?Na.apply(d,b?l:F(l)):d.push(l)}return d}),Xb=ma(function(a,b,c){var f=-1,l=aa(),g=a?a.length:0,k=[],q=!b&&g>=y&&l===d,r=c||q?e():k;if(q){var s=h(r);s?(l=m,r=s):(q=!1,r=c?r:(n(r),k))}for(;++f<g;){var s=a[f],
z=c?c(s,f,a):s;if(b?!f||r[r.length-1]!==z:0>l(r,z))(c||q)&&r.push(z),k.push(s)}q?(n(r.array),p(r)):c&&n(r);return k});ta&&yb&&"function"==typeof rb&&(wb=ob(rb,a));rb=8==Ea($+"08")?Ea:function(a,b){return Ea(ha(a)?a.replace(ya,""):a,b||0)};g.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};g.assign=tb;g.at=function(a){for(var b=-1,c=Xa.apply(H,O.call(arguments,1)),e=c.length,f=V(e);++b<e;)f[b]=a[c[b]];return f};g.bind=ob;g.bindAll=function(a){for(var b=1<arguments.length?
Xa.apply(H,O.call(arguments,1)):kb(a),c=-1,e=b.length;++c<e;){var f=b[c];a[f]=ob(a[f],a)}return a};g.bindKey=function(a,b){return t(a,b,O.call(arguments,2),z)};g.compact=function(a){for(var b=-1,c=a?a.length:0,e=[];++b<c;){var f=a[b];f&&e.push(f)}return e};g.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};g.countBy=function(a,b,c){var e={};b=g.createCallback(b,c);L(a,function(a,c,f){c=wa(b(a,c,f));Z.call(e,c)?e[c]++:e[c]=
1});return e};g.createCallback=function(a,b,c){if(null==a)return Gb;var e=typeof a;if("function"!=e){if("object"!=e)return function(b){return b[a]};var f=na(a);return function(b){for(var c=f.length,e=!1;c--&&(e=Ua(b[f[c]],a[f[c]],z)););return e}}return"undefined"==typeof b||B&&!B.test($b.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,e){return a.call(b,c,e)}:4===c?function(c,e,f,d){return a.call(b,c,e,f,d)}:function(c,e,f){return a.call(b,c,e,f)}};g.debounce=Tb;g.defaults=ub;g.defer=
wb;g.delay=function(a,b){var c=O.call(arguments,2);return Za(function(){a.apply(w,c)},b)};g.difference=mb;g.filter=Ca;g.flatten=Va;g.forEach=L;g.forIn=La;g.forOwn=Q;g.functions=kb;g.groupBy=function(a,b,c){var e={};b=g.createCallback(b,c);L(a,function(a,c,f){c=wa(b(a,c,f));(Z.call(e,c)?e[c]:e[c]=[]).push(a)});return e};g.initial=function(a,b,c){if(!a)return[];var e=0,f=a.length;if("number"!=typeof b&&null!=b){var d=f;for(b=g.createCallback(b,c);d--&&b(a[d],d,a);)e++}else e=null==b||c?1:b||e;return q(a,
0,sb(ua(0,f-e),f))};g.intersection=function(a){for(var b=arguments,c=b.length,f=-1,l=e(),g=-1,k=aa(),q=a?a.length:0,r=[],s=e();++f<c;){var z=b[f];l[f]=k===d&&(z?z.length:0)>=y&&h(f?b[f]:s)}a:for(;++g<q;){var v=l[0],z=a[g];if(0>(v?m(v,z):k(s,z))){f=c;for((v||s).push(z);--f;)if(v=l[f],0>(v?m(v,z):k(b[f],z)))continue a;r.push(z)}}for(;c--;)(v=l[c])&&p(v);n(l);n(s);return r};g.invert=Ob;g.invoke=function(a,b){var c=O.call(arguments,2),e=-1,f="function"==typeof b,d=a?a.length:0,l=V("number"==typeof d?
d:0);L(a,function(a){l[++e]=(f?b:a[b]).apply(a,c)});return l};g.keys=na;g.map=Cb;g.max=Qb;g.memoize=function(a,b){function c(){var e=c.cache,f=v+(b?b.apply(this,arguments):arguments[0]);return Z.call(e,f)?e[f]:e[f]=a.apply(this,arguments)}c.cache={};return c};g.merge=Bb;g.min=function(a,c,e){var f=Infinity,d=f;if(!c&&ia(a)){e=-1;for(var l=a.length;++e<l;){var h=a[e];h<d&&(d=h)}}else c=!c&&ha(a)?b:g.createCallback(c,e),L(a,function(a,b,e){b=c(a,b,e);b<f&&(f=b,d=a)});return d};g.omit=function(a,b,c){var e=
aa(),f="function"==typeof b,d={};if(f)b=g.createCallback(b,c);else var l=Xa.apply(H,O.call(arguments,1));La(a,function(a,c,h){if(f?!b(a,c,h):0>e(l,c))d[c]=a});return d};g.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};g.pairs=function(a){for(var b=-1,c=na(a),e=c.length,f=V(e);++b<e;){var d=c[b];f[b]=[d,a[d]]}return f};g.partial=function(a){return t(a,O.call(arguments,1))};g.partialRight=function(a){return t(a,O.call(arguments,1),null,z)};
g.pick=function(a,b,c){var e={};if("function"!=typeof b)for(var f=-1,d=Xa.apply(H,O.call(arguments,1)),l=Ba(a)?d.length:0;++f<l;){var h=d[f];h in a&&(e[h]=a[h])}else b=g.createCallback(b,c),La(a,function(a,c,f){b(a,c,f)&&(e[c]=a)});return e};g.pluck=Db;g.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var e=-1;b=ua(0,Ma((b-a)/c));for(var f=V(b);++e<b;)f[e]=a,a+=c;return f};g.reject=function(a,b,c){b=g.createCallback(b,c);return Ca(a,function(a,c,e){return!b(a,c,e)})};g.rest=nb;g.shuffle=
function(a){var b=-1,c=a?a.length:0,e=V("number"==typeof c?c:0);L(a,function(a){var c=Ub(Fa()*(++b+1));e[b]=e[c];e[c]=a});return e};g.sortBy=function(a,b,c){var e=-1,d=a?a.length:0,h=V("number"==typeof d?d:0);b=g.createCallback(b,c);L(a,function(a,c,f){var d=h[++e]=l();d.criteria=b(a,c,f);d.index=e;d.value=a});d=h.length;for(h.sort(f);d--;)a=h[d],h[d]=a.value,p(a);return h};g.tap=function(a,b){b(a);return a};g.throttle=function(a,b,c){var e=!0,f=!0;!1===c?e=!1:Ba(c)&&(e="leading"in c?c.leading:e,
f="trailing"in c?c.trailing:f);c=l();c.leading=e;c.maxWait=b;c.trailing=f;a=Tb(a,b,c);p(c);return a};g.times=function(a,b,c){a=-1<(a=+a)?a:0;var e=-1,f=V(a);for(b=g.createCallback(b,c,1);++e<a;)f[e]=b(e);return f};g.toArray=function(a){return a&&"number"==typeof a.length?q(a):hb(a)};g.transform=function(a,b,c,e){var f=ia(a);b=g.createCallback(b,e,4);null==c&&(f?c=[]:(e=a&&a.constructor,c=k(e&&e.prototype)));(f?L:Q)(a,function(a,e,f){return b(c,a,e,f)});return c};g.union=function(a){ia(a)||(arguments[0]=
a?O.call(a):H);return Xb(Xa.apply(H,arguments))};g.uniq=Xb;g.unzip=Lb;g.values=hb;g.where=Ca;g.without=function(a){return mb(a,O.call(arguments,1))};g.wrap=function(a,b){return function(){var c=[a];Na.apply(c,arguments);return b.apply(this,c)}};g.zip=function(a){return a?Lb(arguments):[]};g.zipObject=Sb;g.collect=Cb;g.drop=nb;g.each=L;g.extend=tb;g.methods=kb;g.object=Sb;g.select=Ca;g.tail=nb;g.unique=Xb;Hb(g);g.chain=g;g.prototype.chain=function(){return this};g.clone=Ab;g.cloneDeep=function(a,b,
c){return Ab(a,!0,b,c)};g.contains=Kb;g.escape=function(a){return null==a?"":wa(a).replace(Oa,D)};g.every=Jb;g.find=lb;g.findIndex=function(a,b,c){var e=-1,f=a?a.length:0;for(b=g.createCallback(b,c);++e<f;)if(b(a[e],e,a))return e;return-1};g.findKey=function(a,b,c){var e;b=g.createCallback(b,c);Q(a,function(a,c,f){if(b(a,c,f))return e=c,!1});return e};g.has=function(a,b){return a?Z.call(a,b):!1};g.identity=Gb;g.indexOf=Rb;g.isArguments=function(a){return ca.call(a)==qa};g.isArray=ia;g.isBoolean=function(a){return!0===
a||!1===a||ca.call(a)==N};g.isDate=function(a){return a?"object"==typeof a&&ca.call(a)==za:!1};g.isElement=function(a){return a?1===a.nodeType:!1};g.isEmpty=function(a){var b=!0;if(!a)return b;var c=ca.call(a),e=a.length;if(c==E||c==A||c==qa||c==U&&"number"==typeof e&&Ja(a.splice))return!e;Q(a,function(){return b=!1});return b};g.isEqual=Ua;g.isFinite=function(a){return ac(a)&&!Yb(parseFloat(a))};g.isFunction=Ja;g.isNaN=function(a){return Pb(a)&&a!=+a};g.isNull=function(a){return null===a};g.isNumber=
Pb;g.isObject=Ba;g.isPlainObject=vb;g.isRegExp=function(a){return a?"object"==typeof a&&ca.call(a)==Ra:!1};g.isString=ha;g.isUndefined=function(a){return"undefined"==typeof a};g.lastIndexOf=function(a,b,c){var e=a?a.length:0;for("number"==typeof c&&(e=(0>c?ua(0,e+c):sb(c,e-1))+1);e--;)if(a[e]===b)return e;return-1};g.mixin=Hb;g.noConflict=function(){a._=$a;return this};g.parseInt=rb;g.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=Fa();return a%1||b%1?a+sb(c*
(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Ub(c*(b-a+1))};g.reduce=bb;g.reduceRight=Ka;g.result=function(a,b){var c=a?a[b]:w;return Ja(c)?a[b]():c};g.runInContext=s;g.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:na(a).length};g.some=cb;g.sortedIndex=Fb;g.template=function(a,b,e){var f=g.templateSettings;a||(a="");e=ub({},e,f);var d=ub({},e.imports,f.imports),f=na(d),d=hb(d),l,h=0,n=e.interpolate||X,p="__p += '",n=qb((e.escape||X).source+"|"+n.source+"|"+(n===la?ba:X).source+
"|"+(e.evaluate||X).source+"|$","g");a.replace(n,function(b,e,f,d,n,g){f||(f=d);p+=a.slice(h,g).replace(Ia,c);e&&(p+="' +\n__e("+e+") +\n'");n&&(l=!0,p+="';\n"+n+";\n__p += '");f&&(p+="' +\n((__t = ("+f+")) == null ? '' : __t) +\n'");h=g+b.length;return b});var p=p+"';\n",k=n=e.variable;k||(n="obj",p="with ("+n+") {\n"+p+"\n}\n");p=(l?p.replace(C,""):p).replace(M,"$1").replace(I,"$1;");p="function("+n+") {\n"+(k?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+p+"return __p\n}";e="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+Sa++ +"]")+"\n*/";try{var m=Ib(f,"return "+p+e).apply(w,d)}catch(q){throw q.source=p,q;}if(b)return m(b);m.source=p;return m};g.unescape=function(a){return null==a?"":wa(a).replace(P,Nb)};g.uniqueId=function(a){var b=++r;return wa(null==a?"":a)+b};g.all=Jb;g.any=cb;g.detect=lb;g.findWhere=lb;g.foldl=bb;g.foldr=Ka;g.include=Kb;g.inject=bb;Q(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(){var b=[this.__wrapped__];
Na.apply(b,arguments);return a.apply(g,b)})});g.first=Eb;g.last=function(a,b,c){if(a){var e=0,f=a.length;if("number"!=typeof b&&null!=b){var d=f;for(b=g.createCallback(b,c);d--&&b(a[d],d,a);)e++}else if(e=b,null==e||c)return a[f-1];return q(a,ua(0,f-e))}};g.take=Eb;g.head=Eb;Q(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(b,c){var e=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?e:new u(e)})});g.VERSION="1.3.1";g.prototype.toString=function(){return wa(this.__wrapped__)};
g.prototype.value=pb;g.prototype.valueOf=pb;L(["join","pop","shift"],function(a){var b=H[a];g.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});L(["push","reverse","sort","unshift"],function(a){var b=H[a];g.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});L(["concat","slice","splice"],function(a){var b=H[a];g.prototype[a]=function(){return new u(b.apply(this.__wrapped__,arguments))}});return g}var w,t=[],u=[],r=0,z={},v=+new Date+"",y=75,D=40,C=/\b__p \+= '';/g,
M=/\b(__p \+=) '' \+/g,I=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,ba=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ea=/\w*$/,la=/<%=([\s\S]+?)%>/g,B=(B=/\bthis\b/)&&B.test(s)&&B,$=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",ya=RegExp("^["+$+"]*0+(?=.$)"),X=/($^)/,Oa=/[&<>"']/g,Ia=/['\n\r\t\u2028\u2029\\]/g,oa="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
Sa=0,qa="[object Arguments]",E="[object Array]",N="[object Boolean]",za="[object Date]",Qa="[object Function]",Aa="[object Number]",U="[object Object]",Ra="[object RegExp]",A="[object String]",R={};R[Qa]=!1;R[qa]=R[E]=R[N]=R[za]=R[Aa]=R[U]=R[Ra]=R[A]=!0;var Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ha={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ma=Y[typeof exports]&&exports,yb=Y[typeof module]&&module&&module.exports==ma&&module,
ma=Y[typeof global]&&global;!ma||ma.global!==ma&&ma.window!==ma||(window=ma);var ra=g._=s();g.each(ra,function(a,b){Object.hasOwnProperty.call(ra,a)&&!/VERSION/.test(name)&&(g[a]||(g[a]=b))})});
FD31.plugin("bootstrap",function(g){!function(d){d(function(){var g=d.support,a;a:{a=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in b)if(void 0!==a.style[f]){a=b[f];break a}a=void 0}g.transition=a&&{end:a}})}(g);!function(d){var g=function(a){d(a).on("click",'[data-foundry-dismiss="alert"]',this.close)};g.prototype.close=function(a){function b(){c.trigger("closed").remove()}
var f=d(this),h=f.attr("data-target"),c;h||(h=(h=f.attr("href"))&&h.replace(/.*(?=#[^\s]*$)/,""));c=d(h);a&&a.preventDefault();c.length||(c=f.hasClass("alert")?f:f.parent());c.trigger(a=d.Event("close"));a.isDefaultPrevented()||(c.removeClass("in"),d.support.transition&&c.hasClass("fade")?c.on(d.support.transition.end,b):b())};d.fn.alert=function(a){return this.each(function(){var b=d(this),f=b.data("alert");f||b.data("alert",f=new g(this));"string"==typeof a&&f[a].call(b)})};d.fn.alert.Constructor=
g;d(document).on("click.alert.data-api",'[data-foundry-dismiss="alert"]',g.prototype.close)}(g);!function(d){var g=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.button.defaults,b)};g.prototype.setState=function(a){var b=this.$element,f=b.data(),d=b.is("input")?"val":"html";a+="Text";f.resetText||b.data("resetText",b[d]());b[d](f[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},
0)};g.prototype.toggle=function(){var a=this.$element.closest('[data-foundry-toggle="buttons-radio"]');a.hasClass("disabled")||(a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active"))};d.fn.button=function(a){return this.each(function(){var b=d(this),f=b.data("button"),h="object"==typeof a&&a;f||b.data("button",f=new g(this,h));"toggle"==a?f.toggle():a&&f.setState(a)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=g;d(document).on("click.button.data-api",
"[data-foundry-toggle^=button]",function(a){a=d(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}(g);!function(d){var g=function(a,b){this.$element=d(a);this.options=b;this.options.slide&&this.slide(this.options.slide);"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};g.prototype={cycle:function(a){a||(this.paused=!1);this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,
this),this.options.interval));return this},to:function(a){var b=this.$element.find(".item.active"),f=b.parent().children(),b=f.index(b),h=this;if(!(a>f.length-1||0>a))return this.sliding?this.$element.one("slid",function(){h.to(a)}):b==a?this.pause().cycle():this.slide(a>b?"next":"prev",d(f[a]))},pause:function(a){a||(this.paused=!0);this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle());clearInterval(this.interval);this.interval=
null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(a,b){var f=this.$element.find(".item.active"),h=b||f[a](),c=this.interval,e="next"==a?"left":"right",l="next"==a?"first":"last",n=this;this.sliding=!0;c&&this.pause();h=h.length?h:this.$element.find(".item")[l]();l=d.Event("slide",{relatedTarget:h[0]});if(!h.hasClass("active")){if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(l);
if(l.isDefaultPrevented())return;h.addClass(a);h[0].offsetWidth;f.addClass(e);h.addClass(e);this.$element.one(d.support.transition.end,function(){h.removeClass([a,e].join(" ")).addClass("active");f.removeClass(["active",e].join(" "));n.sliding=!1;setTimeout(function(){n.$element.trigger("slid")},0)})}else{this.$element.trigger(l);if(l.isDefaultPrevented())return;f.removeClass("active");h.addClass("active");this.sliding=!1;this.$element.trigger("slid")}c&&this.cycle();return this}}};d.fn.carousel=
function(a){return this.each(function(){var b=d(this),f=b.data("carousel"),h=d.extend({},d.fn.carousel.defaults,"object"==typeof a&&a),c="string"==typeof a?a:h.slide;f||b.data("carousel",f=new g(this,h));if("number"==typeof a)f.to(a);else if(c)f[c]();else h.interval&&f.cycle()})};d.fn.carousel.defaults={interval:5E3,pause:"hover"};d.fn.carousel.Constructor=g;d(document).on("click.carousel.data-api","[data-foundry-slide]",function(a){var b=d(this),f,h=d(b.attr("data-target")||(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,
"")),b=d.extend({},h.data(),b.data());h.carousel(b);a.preventDefault()})}(g);!function(d){var g=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.collapse.defaults,b);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};g.prototype={constructor:g,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,b,f,h;if(!this.transitioning){a=this.dimension();b=d.camelCase(["scroll",a].join("-"));if((f=this.$parent&&
this.$parent.find("> .accordion-group > .in"))&&f.length){if((h=f.data("collapse"))&&h.transitioning)return;f.collapse("hide");h||f.data("collapse",null)}this.$element[a](0);d.support.transition&&this.$element[a](this.$element[0][b]);this.transition("addClass",d.Event("bootstrap-show"),"shown")}},hide:function(){var a;this.transitioning||(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",d.Event("bootstrap-hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=
this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth;this.$element[null!==a?"addClass":"removeClass"]("collapse");return this},transition:function(a,b,f){var h=this,c=function(){"bootstrap-show"==b.type&&h.reset();h.transitioning=0;h.$element.trigger(f)};this.$element.trigger(b);b.isDefaultPrevented()||(this.transitioning=1,this.$element[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,c):c())},toggle:function(){this[this.$element.hasClass("in")?
"hide":"show"]()}};d.fn.collapse=function(a){return this.each(function(){var b=d(this),f=b.data("collapse"),h="object"==typeof a&&a;f||b.data("collapse",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=g;d(document).on("click.collapse.data-api","[data-foundry-toggle=collapse]",function(a){var b=d(this),f;a=b.attr("data-target")||a.preventDefault()||(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");f=d(a).data("collapse")?"toggle":b.data();
b[d(a).hasClass("in")?"addClass":"removeClass"]("collapsed");d(a).collapse(f)})}(g);!function(d){function g(f){d(b).each(function(){var b=a(d(this)),e=b.hasClass("open");b.removeClass("open");e&&b.trigger("dropdownClose",[f.target])})}function a(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));b=d(b);b.length||(b=a.parent());return b}var b="[data-foundry-toggle=dropdown]",f=function(a){var b=d(a).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",
function(){b.parent().removeClass("open")})};f.prototype={constructor:f,toggle:function(b){var c=d(this),e,f;if(!c.is(".disabled, :disabled"))return e=a(c),f=e.hasClass("open"),g(b),f||(e.toggleClass("open"),e.trigger("dropdownOpen",[b.target]),c.focus()),!1},keydown:function(b){var c,e,f;if(/(38|40|27)/.test(b.keyCode)&&(c=d(this),b.preventDefault(),b.stopPropagation(),!c.is(".disabled, :disabled"))){e=a(c);f=e.hasClass("open");if(!f||f&&27==b.keyCode)return c.click();c=d("[role=menu] li:not(.divider) a",
e);c.length&&(e=c.index(c.filter(":focus")),38==b.keyCode&&0<e&&e--,40==b.keyCode&&e<c.length-1&&e++,~e||(e=0),c.eq(e).focus())}}};d.fn.dropdown=function(a){return this.each(function(){var b=d(this),e=b.data("dropdown");e||b.data("dropdown",e=new f(this));"string"==typeof a&&e[a].call(b)})};d.fn.dropdown.Constructor=f;d(document).on("click.dropdown.data-api",g).on("click.dropdown",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,f.prototype.toggle).on("keydown.dropdown.data-api",
b+", [role=menu]",f.prototype.keydown)}(g);!function(d){var g=function(a,b){this.options=b;this.$element=d(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};g.prototype={constructor:g,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,b=d.Event("show");this.$element.trigger(b);this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var b=
d.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body);a.$element.show();b&&a.$element[0].offsetWidth;a.$element.addClass("in").attr("aria-hidden",!1).focus();a.enforceFocus();b?a.$element.one(d.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")}))},hide:function(a){a&&a.preventDefault();a=d.Event("hide");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,
this.escape(),d(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;d(document).on("focusin.modal",function(b){a.$element[0]===b.target||a.$element.has(b.target).length||a.$element.focus()})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()});
else this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,b=setTimeout(function(){a.$element.off(d.support.transition.end);a.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(b);a.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var f=d.support.transition&&b;this.$backdrop=d('<div class="modal-backdrop '+b+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");f?this.$backdrop.one(d.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,
d.proxy(this.removeBackdrop,this)):this.removeBackdrop()):a&&a()}};d.fn.modal=function(a){return this.each(function(){var b=d(this),f=b.data("modal"),h=d.extend({},d.fn.modal.defaults,b.data(),"object"==typeof a&&a);f||b.data("modal",f=new g(this,h));if("string"==typeof a)f[a]();else h.show&&f.show()})};d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};d.fn.modal.Constructor=g;d(document).on("click.modal.data-api",'[data-foundry-toggle="modal"]',function(a){var b=d(this),f=b.attr("href"),h=d(b.attr("data-target")||
f&&f.replace(/.*(?=#[^\s]+$)/,"")),f=h.data("modal")?"toggle":d.extend({remote:!/#/.test(f)&&f},h.data(),b.data());a.preventDefault();h.modal(f).one("hide",function(){b.focus()})})}(g);!function(d){var g=function(a,b){this.init("tooltip",a,b)};g.prototype={constructor:g,init:function(a,b,f){this.type=a;this.$element=d(b);this.options=this.getOptions(f);this.enabled=!0;if("click"==this.options.trigger)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else"manual"!=
this.options.trigger&&(a="hover"==this.options.trigger?"mouseenter":"focus",b="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,a,this.$element.data());a.delay&&"number"==
typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();
b.hoverState="out";this.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)},show:function(){var a,b,f,h,c,e,l;if(this.hasContent()&&this.enabled){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");e="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;b=/in/.test(e);a.detach().css({top:0,left:0,display:"block"});switch(this.options.container||"parent"){case "parent":a.insertAfter(this.$element);
break;case "body":a.appendTo(document.body);break;default:f=d(this.options.container),f.length?a.appendTo(f):a.insertAfter(this.$element)}f=this.getPosition(b);h=a[0].offsetWidth;c=a[0].offsetHeight;switch(b?e.split(" ")[1]:e){case "bottom":l={top:f.top+f.height,left:f.left+f.width/2-h/2};break;case "top":l={top:f.top-c,left:f.left+f.width/2-h/2};break;case "left":l={top:f.top+f.height/2-c/2,left:f.left-h};break;case "right":l={top:f.top+f.height/2-c/2,left:f.left+f.width}}a.offset(l).addClass(e).addClass("in")}},
setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var a=setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(a);b.detach()})}var b=this.tip();b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();return this},fixTitle:function(){var a=this.$element;(a.attr("title")||
"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=
this.$tip||d(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=d(a.currentTarget)[this.type](this._options).data(this.type);a[a.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};d.fn.tooltip=function(a){return this.each(function(){var b=
d(this),f=b.data("tooltip"),h="object"==typeof a&&a;f||b.data("tooltip",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.tooltip.Constructor=g;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1,container:"parent"}}(g);!function(d){var g=function(a,b){this.init("popover",a,b)};g.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:g,
setContent:function(){var a=this.tip(),b=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content > *")[this.options.html?"html":"text"](f);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},tip:function(){this.$tip||(this.$tip=
d(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});d.fn.popover=function(a){return this.each(function(){var b=d(this),f=b.data("popover"),h="object"==typeof a&&a;f||b.data("popover",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.popover.Constructor=g;d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover popover-fd"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(g);
!function(d){function g(a,b){var f=d.proxy(this.process,this),h=d(a).is("body")?d(window):d(a),c;this.options=d.extend({},d.fn.scrollspy.defaults,b);this.$scrollElement=h.on("scroll.scroll-spy.data-api",f);this.selector=(this.options.target||(c=d(a).attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.refresh();this.process()}g.prototype={constructor:g,refresh:function(){var a=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).map(function(){var a=
d(this),a=a.data("target")||a.attr("href"),f=/^#\w/.test(a)&&d(a);return f&&f.length&&[[f.position().top,a]]||null}).sort(function(a,f){return a[0]-f[0]}).each(function(){a.offsets.push(this[0]);a.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),f=this.offsets,d=this.targets,c=this.activeTarget,e;if(a>=b)return c!=(e=d.last()[0])&&this.activate(e);for(e=
f.length;e--;)c!=d[e]&&a>=f[e]&&(!f[e+1]||a<=f[e+1])&&this.activate(d[e])},activate:function(a){this.activeTarget=a;d(this.selector).parent(".active").removeClass("active");a=d(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parent("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));a.trigger("activate")}};d.fn.scrollspy=function(a){return this.each(function(){var b=d(this),f=b.data("scrollspy"),h="object"==typeof a&&a;
f||b.data("scrollspy",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.scrollspy.Constructor=g;d.fn.scrollspy.defaults={offset:10};d(window).on("load",function(){d('[data-foundry-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(g);!function(d){var g=function(a){this.element=d(a)};g.prototype={constructor:g,show:function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),f=a.attr("data-target"),h,c;f||(f=(f=a.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));a.parent("li").hasClass("active")||
(h=b.find(".active:last a")[0],c=d.Event("show",{relatedTarget:h}),a.trigger(c),c.isDefaultPrevented()||(f=d(f),this.activate(a.parent("li"),b),this.activate(f,f.parent(),function(){a.trigger({type:"shown",relatedTarget:h})})))},activate:function(a,b,f){function h(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");a.addClass("active");e?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active");
f&&f()}var c=b.find("> .active"),e=f&&d.support.transition&&c.hasClass("fade");e?c.one(d.support.transition.end,h):h();c.removeClass("in")}};d.fn.tab=function(a){return this.each(function(){var b=d(this),f=b.data("tab");f||b.data("tab",f=new g(this));if("string"==typeof a)f[a]()})};d.fn.tab.Constructor=g;d(document).on("click.tab.data-api",'[data-foundry-toggle="tab"], [data-foundry-toggle="pill"]',function(a){a.preventDefault();d(this).tab("show")})}(g);!function(d){var g=function(a,b){this.$element=
d(a);this.options=d.extend({},d.fn.typeahead.defaults,b);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=d(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=!1;this.listen()};g.prototype={constructor:g,select:function(){var a=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(a)).change();
return this.hide()},updater:function(a){return a},show:function(){var a=d.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:a.top+a.height,left:a.left});this.$menu.show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(a){this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(a=d.isFunction(this.source)?this.source(this.query,d.proxy(this.process,
this)):this.source)?this.process(a):this},process:function(a){var b=this;a=d.grep(a,function(a){return b.matcher(a)});a=this.sorter(a);return a.length?this.render(a.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b=[],f=[],d=[],c;c=a.shift();)c.toLowerCase().indexOf(this.query.toLowerCase())?~c.indexOf(this.query)?f.push(c):d.push(c):b.push(c);return b.concat(f,d)},highlighter:function(a){var b=
this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var b=this;a=d(a).map(function(a,h){a=d(b.options.item).attr("data-value",h);a.find("a").html(b.highlighter(h));return a[0]});a.first().addClass("active");this.$menu.html(a);return this},next:function(a){a=this.$menu.find(".active").removeClass("active").next();a.length||(a=d(this.$menu.find("li")[0]));a.addClass("active")},prev:function(a){a=
this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",d.proxy(this.keydown,this));this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",d.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;
b||(this.$element.setAttribute(a,"return;"),b="function"===typeof this.$element[a]);return b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=!~d.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;
case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active");d(a.currentTarget).addClass("active")}};d.fn.typeahead=function(a){return this.each(function(){var b=d(this),f=b.data("typeahead"),
h="object"==typeof a&&a;f||b.data("typeahead",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};d.fn.typeahead.Constructor=g;d(document).on("focus.typeahead.data-api",'[data-foundry-provide="typeahead"]',function(a){var b=d(this);b.data("typeahead")||(a.preventDefault(),b.typeahead(b.data()))})}(g);!function(d){var g=function(a,b){this.options=d.extend({},d.fn.affix.defaults,
b);this.$window=d(window).on("scroll.affix.data-api",d.proxy(this.checkPosition,this)).on("click.affix.data-api",d.proxy(function(){setTimeout(d.proxy(this.checkPosition,this),1)},this));this.$element=d(a);this.checkPosition()};g.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=d(document).height(),b=this.$window.scrollTop(),f=this.$element.offset(),h=this.options.offset,c=h.bottom,e=h.top;"object"!=typeof h&&(c=e=h);"function"==typeof e&&(e=h.top());"function"==typeof c&&
(c=h.bottom());a=null!=this.unpin&&b+this.unpin<=f.top?!1:null!=c&&f.top+this.$element.height()>=a-c?"bottom":null!=e&&b<=e?"top":!1;this.affixed!==a&&(this.affixed=a,this.unpin="bottom"==a?f.top-b:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(a?"-"+a:"")))}};d.fn.affix=function(a){return this.each(function(){var b=d(this),f=b.data("affix"),h="object"==typeof a&&a;f||b.data("affix",f=new g(this,h));if("string"==typeof a)f[a]()})};d.fn.affix.Constructor=g;d.fn.affix.defaults=
{offset:0};d(window).on("load",function(){d('[data-foundry-spy="affix"]').each(function(){var a=d(this),b=a.data();b.offset=b.offset||{};b.offsetBottom&&(b.offset.bottom=b.offsetBottom);b.offsetTop&&(b.offset.top=b.offsetTop);a.affix(b)})})}(g);!function(d){var g=function(a,b){this.$element=d(a);this.$note=d('<div class="alert"></div>');this.options=d.extend(!0,d.fn.notify.defaults,b);this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):
this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in");this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success");this.options.message||""===this.$element.data("message")?"object"===typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message"));
if(this.options.closable)var f=d('<a class="close pull-right" href="javascript: void(0);">&times;</a>');d(f).on("click",d.proxy(onClose,this));this.$note.prepend(f);return this};onClose=function(){this.options.onClose();d(this.$note).remove();this.options.onClosed()};g.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this));this.$element.append(this.$note);this.$note.alert()};g.prototype.hide=function(){this.options.fadeOut.enabled?
this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this)):onClose.call(this)};d.fn.notify=function(a){return new g(this,a)};d.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3E3},message:null,onClose:function(){},onClosed:function(){}}}(g)});
FD31.plugin("responsive",function(g){g.responsive=function(b,f){return new a(b,f)};g.fn.responsive=function(a){a&&g.responsive(this,{elementWidth:function(a){return a.outerWidth(!0)},conditions:a});return this};var d=g(window),m=g.isFunction,a=function(a,f){var h=this;a=g(a);var c=a.data("$responsive");c&&c.destroy();g.extend(h,{elem:a,options:f,conditions:g.sortBy(g.makeArray(f.conditions),function(a){return a.at}),event:"resize.responsive"+g.uid(),handler:g.debounce(function(){h.set()},250)});delete f.conditions;
a.data("$responsive",h);g(function(){d.on(h.event,h.handler);h.set()});g(window).load(function(){h.set()})};g.extend(a.prototype,{set:function(){var a=this,f=a.options.elementWidth;a.elem.each(function(){var d=g(this),c=m(f)?f(d):f;a.removeCondition(d.data("currentCondition"),d);g.each(a.conditions,function(e,f){if(c<=f.at)return a.applyCondition(f,d),!1})})},applyCondition:function(a,f){var d,c,e,l;(d=a.switchTo)&&f.addClass(d);(c=a.alsoSwitch)&&g.each(c,function(a,b){g(a).addClass(b)});(e=a.switchStylesheet)&&
g.each(g.makeArray(e),function(a,b){1>g('link[href$="'+b+'"]').length&&g("<link/>").attr({rel:"stylesheet",type:"text/css",href:b}).appendTo("head")});(l=a.whenApplied)&&m(l)&&l();f.data("currentCondition",a).trigger("responsive",[a])},removeCondition:function(a,f){if(a){var d,c,e,l;(d=a.switchTo)&&f.removeClass(d);(c=a.alsoSwitch)&&g.each(c,function(a,b){g(a).removeClass(b)});(e=a.switchStylesheet)&&g.each(g.makeArray(e),function(a,b){g('link[href$="'+b+'"]').remove()});(l=a.whenRemoved)&&m(l)&&
l();f.removeData("currentCondition")}},resetToDefault:function(a){var f=this,d=f.elem;g.each(f.conditions,function(c,e){a&&c==a||f.removeCondition(e,d)})},destroy:function(){d.off(this.event);var a=this;a.elem.each(function(){var f=g(this);a.removeCondition(f.data("currentCondition"),f)})}})});
FD31.plugin("utils",function(g){g.IE=function(){if(-1!=navigator.appVersion.indexOf("MSIE 10"))return 10;for(var d=3,g=document.createElement("div"),a=g.getElementsByTagName("i");d++,g.innerHTML="\x3c!--[if gt IE "+d+"]><i></i><![endif]--\x3e",a[0];);return 4<d?d:void 0}();g.uid=function(d,g){return(d?d:"")+Math.random().toString().replace(".","")+(g?g:"")};g.isDeferred=function(d){return d&&g.isFunction(d.always)};g.distinct=function(d){var m=g.unique;if(!(1>d.length)){if(d[0].nodeType)return m.apply(this,
arguments);if("object"==typeof d[0]){var a=Math.random(),b=[];g.each(d,function(f){d[f][a]||(b.push(d[f]),d[f][a]=!0)});g.each(b,function(f){delete b[f][a]});return b}return g.grep(d,function(a,b){return g.inArray(a,d)===b})}};g.trimSeparators=function(d,m,a){d=d.replace(RegExp("^["+m+"\\s]+|["+m+",\\s]+$","g"),"").replace(RegExp(m+"["+m+"\\s]*"+m,"g"),m).replace(RegExp("[\\s]+"+m,"g"),m).replace(RegExp(m+"[\\s]+","g"),m);a&&(d=g.distinct(d.split(m)).join(m));return d};g.isNumeric=function(d){return!isNaN(parseFloat(d))&&
isFinite(d)};g.Number={rotate:function(d,g,a,b){void 0===b&&(b=0);d+=b;d<g?d+=a+1:d>a&&(d-=a+1);return d}};g.fn.stretchToFit=function(){return g.each(this,function(){var d=g(this);d.css("width","100%").css("width",2*d.width()-d.outerWidth(!0)-parseInt(d.css("borderLeftWidth"))-parseInt(d.css("borderRightWidth")))})};g.fn.serializeObject=function(){var d={};g.each(g(this).serializeArray(),function(m,a){d.hasOwnProperty(a.name)?(g.isArray(d[a.name])||(d[a.name]=[d[a.name]]),d[a.name].push(a.value)):
d[a.name]=a.value});return d};g.fn.serializeJSON=function(){return JSON.stringify(g(this).serializeObject())};g.toHTML=function(d){return g("<div>").html(d).html()};g.fn.toHTML=function(){return g.toHTML(this.clone())};(function(){var d=function(d){this.items=d;this.start=0;this.end=d.length-1;this.node=null;this.stopped=!1};g.extend(d.prototype,{isLooping:function(){return this.stopped?!1:1<Math.abs(this.start-this.end)?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(d){d?this.end=
this.node-1:this.start=this.node+1},stop:function(){this.stop=!0}});g.Bloop=function(g){return new d(g)}})();g.remap=function(d,m,a){g.each(a,function(a,f){d[f]=m[f]});return obj};g.deletes=function(d,m){g.each(m,function(a,b){delete d[b]})};(function(){var d=function(d){this.threads=[];this.threadCount=0;this.threadLimit=d.threadLimit||1;this.threadDelay=d.threadDelay||0};g.extend(d.prototype,{add:function(d,a){g.isFunction(d)&&(d.type=a||"normal","deferred"==a&&(d.deferred=g.Deferred().always(g.proxy(this.next,
this))),this.threads.push(d),this.run())},addDeferred:function(d){return this.add(d,"deferred")},next:function(){this.threadCount--;this.run()},run:function(){var d=this;setTimeout(function(){if(!(1>d.threads.length)&&d.threadCount<d.threadLimit){d.threadCount++;var a=d.threads.shift();try{a.call(a,a.deferred)}catch(b){console.error(b)}!a.deferred&&d.next()}},d.threadDelay)}});g.Threads=function(g){return new d(g)}})();(function(){var d=g.isFunction,m=function(){this.lastId=0};m.prototype.queue=function(a){var b=
this,f=g.uid();b.lastId=f;return function(){if(b.lastId===f){var h=arguments,h=d(a)?a.apply(this,h):h;return d(b.fn)?b.fn.apply(this,h):h}}};g.Enqueue=function(a){var b=new m;g.isFunction(a)&&(b.fn=a);a=g.proxy(b.queue,b);a.reset=function(){b.lastId=0};return a}})();(function(){var d=["on","off","fire"],m=function(a){this.fnList={};this.events={};this.mode=a};g.extend(m.prototype,{createEvent:function(a){return this.events[a]=g.Callbacks(this.mode)},on:function(a,b){if(!a||!g.isFunction(b))return this;
var f=this.fnList;(f[a]||(f[a]=[])).push(b);f=a.split(".")[0];(this.events[f]||this.createEvent(f)).add(b);return this},off:function(a){if(!a)return this;var b=a.split(".")[0],f=this.events[b];if(!f)return this;var d=function(a){g.each(a,function(a,b){f.remove(b)})};b!==a?g.each(this.fnList,function(a,e){-1<a.indexOf(b)&&d(e)}):d(this.fnList[a]);return this},fire:function(a){var b=this.events[a];if(b)return b.fire.apply(b,g.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()}});
g.eventable=function(a,b){var f=a.___eventable;if(f&&"destroy"===b)return f.destroy(),g.deletes(a,d),delete a.___eventable;f=a.___eventable=new m(b);a.on=g.proxy(f.on,f);a.off=g.proxy(f.off,f);a.fire=g.proxy(f.fire,f);return a}})();g.Chunk=function(d,m){g.isArray(d)&&(d=[]);m=g.extend({},{size:256,every:1E3},m);var a=g.extend(g.Deferred(),{size:m.size,every:m.every,from:0,to:d.length,process:function(b){a.process.fn=b;return a},chunkStart:function(b){a.chunkStart.fn=b;return a},chunkEnd:function(b){a.chunkEnd.fn=
b;return a},start:function(){a.stopped=!1;a.iterate();return a},iterate:function(){if(!a.stopped){var b=a.process.fn;if(b){a.to=from.size+a.size;var f=d.length;a.to>f&&(a.to=f);var f=a.from,h=a.to;for(a.chunkStart.fn&&a.chunkStart.fn.call(a,f,h);a.from<a.to&&!a.stopped;)b.call(a,d[a.from]),a.from++;a.chunkEnd.fn&&a.chunkEnd.fn.call(a,f,h);a.completed=a.from>=d.length-1;a.completed?a.resolveWith(a):a.nextIteration=setTimeout(a.iterate,a.every);return a}}},pause:function(){a.stopped=!0;clearTimeout(a.nextIteration);
return a},restart:function(){if("rejected"===a.state())return a;a.from=0;a.start();return a},stop:function(){a.pause();a.rejectWith(a,[a.from]);return a}});return a};g.fn.disabled=function(d){return void 0===d?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!d).toggleClass("disabled",!!d)};g.fn.enabled=function(d){return void 0===d?!this.disabled():this.disabled(!d)};(function(){var d=g.Ajax=function(m){var a=g.Deferred(),b=arguments;g.isPlainObject(m)&&g.isFunction(m.beforeCreate)&&
m.beforeCreate(a);d.queue.addDeferred(function(f){a.xhr=g.ajax.apply(null,b).pipe(a.resolve,a.reject,a.notify);setTimeout(f.resolve,d.requestInterval)});return a};d.queue=g.Threads({threadLimit:1});d.requestInterval=1200})();g.callback=function(d,m){if(g.isFunction(d)){var a=g.uid("cb");window[a]=function(){m||delete window[a];return d.apply(null,arguments)};return a}if(g.isString(d))switch(d){case "destroy":a=m,delete window[a]}};g.fn.visible=function(d){var m=g(this),a=g(window);if(!(1>m.length)){var b=
a.scrollTop(),a=b+a.height(),f=m.offset().top,m=f+m.height();return(!0===d?f:m)<=a&&(!0===d?m:f)>=b}};g.fn.selectAll=function(){return this.each(function(){this.select()})};g.fn.unselect=function(){return this.each(function(){var d=this.value;this.value+=" ";this.value=d})};g.fn.addTransitionClass=function(d,g){var a=this.addClass(d);setTimeout(function(){a.removeClass(d)},g||0);return this};g.fn.switchClass=function(d,m){m=m||"-";var a=d.split(m)[0]+m,b=a.length;return this.each(function(){var f=
g(this),h=g.map(f.attr("class").split(" "),function(c){return c.slice(0,b)==a||""==c?null:c});h.push(d);f.attr("class",h.join(" "))})};g.sanitizeHTML=function(d){return g(g.parseHTML(d,document,!0)).toHTML()};g.buildHTML=function(d,m){if(d instanceof g)return d;d=g.trim(d);var a=[],b=g.buildFragment([d],document,a),b=g.merge([],b.childNodes);if(!m&&0<a.length){var f=document.createElement("script");f.text=g.callback(function(){g(a).remove()})+"();";for(var h=b.length-1,c,e;(c=b[h--])&&("SCRIPT"===
c.nodeName?e=b.push(f):1===c.nodeType&&(e=c.appendChild(f)),!e););e||b.push(f);a.push(f)}return g(b)};g.fn.filterBy=function(d,g,a){a=a||"=";d="[data-"+d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+a+g+"]";return this.filter(d)};g.intersects=function(d,m){g.isArray(m)&&(m={top:m.y,left:m.x,bottom:m.y,right:m.x});return m.left<=d.right&&d.left<=m.right&&m.top<=d.bottom&&d.top<=m.bottom};g.fn.intersectsWith=function(d,m,a,b){var f=this.offset(),f={top:f.top,left:f.left,bottom:f.top+(sourceHeight=
this.height()),right:f.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight};d={top:d,left:m,bottom:d+(b||(b=0)),right:m+(a||(a=0)),width:a,height:b};return g.intersects(f,d)?{reference:f,subject:d}:!1};g.download=function(d){return g("<iframe>").hide().appendTo("body").bind("load",function(){g(this).remove()}).attr("src",d)}});
FD31.plugin("uri",function(g){g.isUrl=function(a){return/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)};var d=function(a){var b=function(a){var b=[],c,f,d,h;if("undefined"===typeof a||null===a||""===a)return b;0===a.indexOf("?")&&(a=a.substring(1));c=a.toString().split(/[&;]/);for(a=0;a<c.length;a++)f=c[a],d=f.split("="),h=d[0],f=-1===f.indexOf("=")?null:null===d[1]?"":d[1],b.push([h,f]);return b}(a),f=function(a){a=decodeURIComponent(a);return a=a.replace("+",
" ")},d=function(a,c){var d=[],h,g,m,w;for(h=0;h<b.length;h++)g=b[h],m=f(g[0])===f(a),w=f(g[1])===f(c),(1===arguments.length&&!m||2===arguments.length&&!m&&!w)&&d.push(g);b=d;return this},c=function(a,c,f){3===arguments.length&&-1!==f?(f=Math.min(f,b.length),b.splice(f,0,[a,c])):0<arguments.length&&b.push([a,c]);return this};return{getParamValue:function(a){var c,d;for(d=0;d<b.length;d++)if(c=b[d],f(a)===f(c[0]))return c[1]},getParamValues:function(a){var c=[],d,h;for(d=0;d<b.length;d++)h=b[d],f(a)===
f(h[0])&&c.push(h[1]);return c},deleteParam:d,addParam:c,replaceParam:function(a,l,n){var g=-1,m,s;if(3===arguments.length){for(m=0;m<b.length;m++)if(s=b[m],f(s[0])===f(a)&&decodeURIComponent(s[1])===f(n)){g=m;break}d(a,n).addParam(a,l,g)}else{for(m=0;m<b.length;m++)if(s=b[m],f(s[0])===f(a)){g=m;break}d(a);c(a,l,g)}return this},toString:function(){var a="",c,f;for(c=0;c<b.length;c++)f=b[c],0<a.length&&(a+="&"),a=null===f[1]?a+f[0]:a+f.join("=");return 0<a.length?"?"+a:a}}},m=function(a){var b=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,
f=function(a){var b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);for(var c={},e=14;e--;)c[b[e]]=a[e]||"";c.queryKey={};c[b[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,b,e){b&&(c.queryKey[b]=e)});return c}(a||""),h=new d(f.query),
c=function(a){"undefined"!==typeof a&&(f.protocol=a);return f.protocol},e=null,l=function(a){"undefined"!==typeof a&&(e=a);return null===e?-1!==f.source.indexOf("//"):e},n=function(a){"undefined"!==typeof a&&(f.userInfo=a);return f.userInfo},g=function(a){"undefined"!==typeof a&&(f.host=a);return f.host},q=function(a){"undefined"!==typeof a&&(f.port=a);return f.port},s=function(a){"undefined"!==typeof a&&(f.path=a);return f.path},w=function(a){"undefined"!==typeof a&&(h=new d(a));return h},t=function(a){"undefined"!==
typeof a&&(f.anchor=a);return f.anchor},u=function(){var a="",b=function(a){return null!==a&&""!==a};b(c())?(a+=c(),c().indexOf(":")!==c().length-1&&(a+=":"),a+="//"):l()&&b(g())&&(a+="//");b(n())&&b(g())&&(a+=n(),n().indexOf("@")!==n().length-1&&(a+="@"));b(g())&&(a+=g(),b(q())&&(a+=":"+q()));b(s())?a+=s():b(g())&&(b(w().toString())||b(t()))&&(a+="/");b(w().toString())&&(0!==w().toString().indexOf("?")&&(a+="?"),a+=w().toString());b(t())&&(0!==t().indexOf("#")&&(a+="#"),a+=t());return a};return{protocol:c,
hasAuthorityPrefix:l,userInfo:n,host:g,port:q,path:s,query:w,anchor:t,setProtocol:function(a){c(a);return this},setHasAuthorityPrefix:function(a){l(a);return this},setUserInfo:function(a){n(a);return this},setHost:function(a){g(a);return this},setPort:function(a){q(a);return this},setPath:function(a){s(a);return this},setQuery:function(a){w(a);return this},setAnchor:function(a){t(a);return this},getQueryParamValue:function(a){return w().getParamValue(a)},getQueryParamValues:function(a){return w().getParamValues(a)},
deleteQueryParam:function(a,b){2===arguments.length?w().deleteParam(a,b):w().deleteParam(a);return this},addQueryParam:function(a,b,c){3===arguments.length?w().addParam(a,b,c):w().addParam(a,b);return this},replaceQueryParam:function(a,b,c){3===arguments.length?w().replaceParam(a,b,c):w().replaceParam(a,b);return this},extract:function(c){var e=a.match(b)||[];return void 0===c?e:e[c]||""},toPath:function(a){if(void 0===a)return f.path;if("/"==a.substring(0,1))return f.path=a;var b=f.path.split("/");
a=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var c;c=a.shift();)switch(c){case "..":1<b.length&&b.pop();break;case ".":break;default:b.push(c)}f.path=b.join("/");return this},toString:u,clone:function(){return new m(u())}}};g.uri=function(a){return new m(a)}});
FD31.plugin("mvc",function(g){(function(){var d={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},m=function(a,b,e){return void 0!==a[b]?a[b]:e&&(a[b]={})},a=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},b,f=g.String=g.extend(g.String||{},{getObject:b=function(b,c,e){b=b?b.split(d.dot):[];var f=b.length,n,p,q,s=0;c=g.isArray(c)?c:[c||window];if(0==f)return c[0];for(;n=c[s++];){for(q=0;q<
f-1&&a(n);q++)n=m(n,b[q],e);if(a(n)&&(p=m(n,b[q],e),void 0!==p))return!1===e&&delete n[b[q]],p}},capitalize:function(a,b){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=f.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){for(var e=a.split(d.undHash),l=0;l<e.length;l++)e[l]=f.capitalize(e[l]);return e.join(b||"")},niceName:function(a){return f.classize(a," ")},underscore:function(a){return a.replace(d.colons,"/").replace(d.words,"$1_$2").replace(d.lowUp,
"$1_$2").replace(d.dash,"_").toLowerCase()},sub:function(a,c,e){var f=[];f.push(a.replace(d.replacer,function(a,d){var h=b(a,c,"boolean"==typeof e?!e:e)||b(d,c,"boolean"==typeof e?!e:e),g=typeof h;if("object"!==g&&"function"!==g||null===g)return""+h;f.push(h);return""}));return 1>=f.length?f[0]:f},_regs:d})})();(function(){g.String.rsplit=function(d,g){for(var a=g.exec(d),b=[],f;null!==a;)f=a.index,0!==f&&(b.push(d.substring(0,f)),d=d.slice(f)),b.push(a[0]),d=d.slice(a[0].length),a=g.exec(d);""!==
d&&b.push(d);return b}})();(function(){var d=/^\d+$/,m=/([^\[\]]+)|(\[\])/g,a=/\+/g,b=/([^?#]*)(#.*)?$/;g.String=g.extend(g.String||{},{deparam:function(f){if(!f||!b.test(f))return{};var h={};f=f.split("&");for(var c,e=0;e<f.length;e++){c=h;var l=f[e].split("=");2!=l.length&&(l=[l[0],l.slice(1).join("=")]);for(var g=decodeURIComponent(l[0].replace(a," ")),l=decodeURIComponent(l[1].replace(a," ")),g=g.match(m),p=0;p<g.length-1;p++){var q=g[p];c[q]||(c[q]=d.test(g[p+1])||"[]"==g[p+1]?[]:{});c=c[q]}lastPart=
g[g.length-1];"[]"==lastPart?c.push(l):c[lastPart]=l}return h}})})();(function(){var d=g.cleanData;g.cleanData=function(m){for(var a=0,b;void 0!==(b=m[a]);a++)g(b).triggerHandler("destroyed");d(m)}})();(function(){var d=g.fn.closest;g.fn.closest=function(m,a){var b={},f,h,c,e,l=!0,n=m;"string"==typeof m&&(n=[m]);g.each(n,function(a,c){if(0==c.indexOf(">")){if(-1!=c.indexOf(" "))throw" closest does not work with > followed by spaces!";b[n[a]=c.substr(1)]=c;"string"==typeof m&&(m=c.substr(1));l=!1}});
f=d.call(this,m,a);if(l)return f;for(c=0;c<f.length;){h=f[c];e=h.selector;if(void 0!==b[e]&&(h.selector=b[e],b[e]=!1,"string"!==typeof h.selector||h.elem.parentNode!==a)){f.splice(c,1);continue}c++}return f}})();(function(){g.cookie=function(d,g,a){if("undefined"!=typeof g){a=a||{};null===g&&(g="",a.expires=-1);"object"==typeof g&&jQuery.toJSON&&(g=jQuery.toJSON(g));var b="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(b=new Date,b.setTime(b.getTime()+
864E5*a.expires)):b=a.expires,b="; expires="+b.toUTCString());var f=a.path?"; path="+a.path:"",h=a.domain?"; domain="+a.domain:"";a=a.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(g),b,f,h,a].join("")}else{g=null;if(document.cookie&&""!=document.cookie)for(a=document.cookie.split(";"),b=0;b<a.length;b++)if(f=jQuery.trim(a[b]),f.substring(0,d.length+1)==d+"="){g=decodeURIComponent(f.substring(d.length+1));break}if(jQuery.evalJSON&&g&&g.match(/^\s*\{/))try{g=jQuery.evalJSON(g)}catch(c){}return g}}})();
(function(){var d=!1,m=g.makeArray,a=g.isFunction,b=g.isArray,f=g.extend,h=g.String.getObject,c=function(a,b){return a.concat(m(b))},e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,l=function(b,c,f){f=f||b;for(var d in b)f[d]=a(b[d])&&a(c[d])&&e.test(b[d])?function(a,b){return function(){var e=this._super,f;this._super=c[a];f=b.apply(this,arguments);this._super=e;return f}}(d,b[d]):b[d]};clss=g.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};f(clss,{proxy:function(a){var e=m(arguments),
f;a=e.shift();b(a)||(a=[a]);f=this;return function(){for(var d=c(e,arguments),l,h=a.length,g=0,m;g<h;g++)if(m=a[g])(l="string"==typeof m)&&f._set_called&&(f.called=m),d=(l?f[m]:m).apply(f,d||[]),g<h-1&&(d=!b(d)||d._use_call?[d]:d);return d}},newInstance:function(){var a=this.rawInstance(),c;a.setup&&(c=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b(c)?c:arguments);return a},setup:function(a,b){this.defaults=f(!0,{},a.defaults,this.defaults);return arguments},rawInstance:function(){d=!0;var a=
new this;d=!1;return a},extend:function(a,b,e){function m(){if(!d)return this.constructor!==m&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof a&&(e=b,b=a,a=null);e||(e=b,b=null);e=e||{};var w=this.prototype,t,u,r,z;d=!0;z=new this;d=!1;l(e,w,z);for(t in this)this.hasOwnProperty(t)&&(m[t]=this[t]);l(b,this,m);if(a){var v;b&&b.root&&(v=b.root,g.isString(v)&&(v=h(v,window,!0)));r=a.split(/\./);u=r.pop();r=
v=h(r.join("."),v||window,!0);f(!0,m,v[u]);v[u]=m}f(m,{prototype:z,namespace:r,shortName:u,constructor:m,fullName:a});m.prototype.Class=m.prototype.constructor=m;u=m.setup.apply(m,c([this],arguments));m.init&&m.init.apply(m,u||c([this],arguments));return m}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();(function(){var d=function(a,c,e){var f,d=a.bind&&a.unbind?a:g(b(a)?[a]:a);0===c.indexOf(">")&&(c=c.substr(1),f=function(b){b.target===a&&e.apply(this,arguments)});d.bind(c,
f||e);return function(){d.unbind(c,f||e);a=c=e=f=null}},m=g.makeArray,a=g.isArray,b=g.isFunction,f=g.isString,h=g.extend,c=g.String,e=g.each,l=c.getObject,n=Array.prototype.slice,p=function(a,c,e,f){0===c.indexOf(">")&&(c=(a.data("directSelector")+" "||"")+c);var d=a.delegate&&a.undelegate?a:g(b(a)?[a]:a);d.delegate(c,e,f);return function(){d.undelegate(c,e,f);d=a=e=f=c=null}},q=function(a,b,c,e){return e?p(a,e,b,c):d(a,b,c)},s=function(a,b){var c="string"==typeof b?a[b]:b;return function(){a.called=
b;return c.apply(a,[this.nodeName?g(this):this].concat(n.call(arguments,0)))}},w=/\./g,t=/_?controllers?/ig,u=function(a){return c.underscore(a.replace(g.globalNamespace+".","").replace(w,"_").replace(t,""))},r=/^\S(.*)\s(.*)/,z=/\{([^\}]+)\}/g,v=/\{([^\.]+[\.][^\.]+)\}/g,y=/^(?:(.*?)\s)?([\w\.\:>]+)$/,D,C=function(a,b){return g.data(a,"controllers",b)},M=g.globalNamespace+".Controller";g.Controller=function(a){var b=m(arguments),c={root:M};2<b.length?(c=g.extend(c,b[1]),b=b[2]):b=b[1];c.namespace&&
(a=c.namespace+"."+a);return g.Controller.Class(a,c,b)};var I=M+".Class";g.Class(I,{setup:function(a,c){this._super.apply(this,arguments);if(this.shortName&&this.fullName!=I){this._fullName=u(this.fullName);this._shortName=u(this.shortName);var e=this,d;if(f(this.pluginName)){var l=this._fullName,h=this.pluginName;g.fn[h]||(g.fn[h]=function(a){var b=m(arguments);if(g.isString(a)&&"controller"===a){var c=C(this[0]);return c&&c[l]}return this.each(function(){var c=C(this);if(c=c&&c[l])if(g.isString(a)){var f=
c[a];g.isFunction(f)&&f.apply(c,b.slice(1))}else c.update.apply(c,b);else e.newInstance.apply(e,[this].concat(b))})})}var n=m(arguments),h=this.prototype,n=n[3<n.length?3:2];b(n)&&(this.protoFactory=n,h=this.protoFactory.call(this,null));this.actions={};for(d in h)"constructor"!=d&&b(h[d])&&this._isAction(d)&&(this.actions[d]=this._action(d));g.module("$:/Controllers/"+this.fullName).resolve(this)}},hookup:function(a){return new this(a)},_isAction:function(a){return r.test(a)?!0:-1<g.inArray(a,this.listensTo)||
g.event.special[a]||P[a]},_action:function(b,e){z.lastIndex=0;if(!e&&z.test(b))return null;var f=b=b.replace("{self} ","");if(e){var d=!1;if(v.test(b))var l,h="",f=b.replace(v,function(a,b){var c=b.split(".");l=e["{"+c[0]+"}"]||{};g.isControllerInstance(l)&&(h=(l[c[1]]||{}).selector);return h}).match(y),d=!!h,f=[l.element].concat(f||[]);d||(f=c.sub(b,[e,window]))}var d=a(f),n=(d?f[1]:f).match(y);return{processor:P[n[2]]||D,parts:n,delegate:d?f[0]:void 0}},processors:{},listensTo:[],defaults:{},hostname:"parent"},
{setup:function(a,b){var c=this,d=c.constructor,l=c.prototype,n=d._fullName;c.instanceId=g.uid(n+"_");var p=c.options=h(!0,{},d.defaults,d.defaultOptions,b),q=c.element=g(a);d.protoFactory&&(l=d.protoFactory.apply(d,[c,p,q]),h(!0,c,l));(C(a)||C(a,{}))[n]=c;q.data("directSelector")||(l=g.uid("DS"),q.addClass(l).data("directSelector","."+l));for(name in p)name.match(/^\{.+\}$/)&&(l=name.replace(/^\{|\}$/g,""),n=p[name],f(n)?c[l]=function(a,b,c){b=/^(\.|\#)$/.test(b)?b+c:b;var e=function(c){var e=a.element.find(b);
c&&(e=e.filter(c));return e};e.selector=b;e.css=function(){var a=e.cssRule;if(!a){var c=q.data("directSelector"),a=g.map(b.split(","),function(a){return c+" "+a}),a=e.cssRule=g.cssRule(a);a.important=!0}return arguments.length?a.css.apply(a,arguments):a};return e}(c,n,l):c[l]=n);var l=p.view,r=c.view;c.view=function(){return r.apply(this,arguments)};e(l||{},function(a,b){c.view[a]=function(b){var e=m(arguments);g.isBoolean(b)?e=e.slice(1):b=!1;return c.view.apply(c,[b,a].concat(e))}});g.extend(c,
p.controller);c.pluginInstances={};c.called="init";c._bind();var s=c.init||g.noop;c.init=function(){c.init=s;result=s.apply(c,arguments);c.trigger("init."+d.fullName.toLowerCase(),[c]);return result};return[q,p].concat(m(arguments).slice(2))},on:function(a){var b=m(arguments),c=this.element,e=b.length;return 2==e?this._binder(c,a,b[1]):3==e&&f(b[1])?this._binder(c,a,b[2],b[1]):this._binder(b[1],a,b[2])},_bind:function(){var a=this,b=a.constructor,c=b.actions,f=a._bindings=[],d=a.element;e(c||{},function(e,
l){if(c.hasOwnProperty(e)){var h=b.actions[e]||b._action(e,a.options);g.isControllerInstance(h.delegate)&&(h.delegate=h.delegate.element);f.push(h.processor(h.delegate||d,h.parts[2],h.parts[1],e,a))}});var l=s(this,"destroy");d.bind("destroyed",l);f.push(function(a){g(a).unbind("destroyed",l)});return f.length},_binder:function(a,b,c,e){"string"==typeof c&&(c=s(this,c));this._bindings.push(q(a,b,c,e));return this._bindings.length},_unbind:function(){var a=this.element[0];e(this._bindings,function(b,
c){c(a)});this._bindings=[]},trigger:function(a){var b=this.element;if(b){var c=g.Event(a);b.trigger.apply(b,[c].concat(g.makeArray(arguments).slice(1)));return c}},delegate:function(a,b,c,e){"string"==typeof a&&(e=c,c=b,b=a,a=this.element);return this._binder(a,c,e,b)},update:function(a){h(this.options,a);this._unbind();this._bind()},destroy:function(){if(!this._destroyed){var a=this.constructor._fullName;for(pname in this.pluginInstances)this.removePlugin(pname);this._destroyed=!0;this.element.removeClass(a);
this._unbind();delete this._actions;delete this.element.data("controllers")[a];g(this).triggerHandler("destroyed");this.element=g()}},find:function(a){return this.element.find(a)},view:function(){var a=m(arguments),b=a,c=!1,e=this.constructor.component||g,f="",f=this.options.view||{};"boolean"==typeof a[0]&&(c=a[0],b=a.slice(1));if(void 0==(b[0]=f[b[0]]))return c?"":g("");f=e.View.apply(e,b);return c?f:g(g.parseHTML(g.trim(f)))},getPlugin:function(a){return this.pluginInstances[a]},addSubscriber:function(a){a=
g.isArray(a)?a:[a||{}];var b=this,c=this.Class.hostname,e={};e["{"+c+"}"]=b;g.map(a,function(a,f){if(!g.isControllerInstance(a))return!1;if(a.options[c]===this)return a;a[c]=b;return a.update(e)});return a},addPlugin:function(a,c,e){if(a){if(!c&&!e||g.isPlainObject(c))e=c,c=[this.Class.root,this.Class.fullName,g.String.capitalize(a)].join(".");g.isString(c)&&(c=g.getController(c));var f=g.isControllerInstance(c);if(b(c)||f){e=g.extend(!0,{element:this.element},e,(this.options.plugin||{})[a]||{});
f=f?"instance":g.isController(c)?"controller":"function";this.trigger("addPlugin",[a,c,e,f]);var d=this.Class.hostname;e["{"+d+"}"]=this;var l;switch(f){case "instance":l=c;c.update(e);c[d]=this;break;case "controller":l=e.element.addController(c,e);break;case "function":l=c(this,e)}if(l)return this.pluginInstances[a]=l,"function"!==f&&(c={},c["{"+a+"}"]=l,this.update(c)),this.trigger("registerPlugin",[a,l,e,f]),l}}},removePlugin:function(a){var b=this.getPlugin(a);if(b)return this.trigger("removePlugin",
[a,b]),delete this.pluginInstances[a],g.isFunction(b.destroy)?b.destroy():null},invokePlugin:function(a,b,c){var e=this.getPlugin(a);if(e&&g.isFunction(e[b]))return this.trigger("invokePlugin",[a,e,c]),e[b].apply(this,c)},getMessageGroup:function(){var a=g.isFunction(this.messageGroup)?this.messageGroup():this.element.find("[data-message-group]");1>a.length&&(a=g("<div data-message-group></div>").prependTo(this.element));return a},setMessage:function(a,b){var c={type:"warning",message:"",parent:this.getMessageGroup(),
element:g('<div class="alert fade in"><button type="button" class="close" data-foundry-dismiss="alert">\u00d7</button></div>')},e={},e=g.isDeferred(a),e=g.isPlainObject(a)&&!e?a:{message:a,type:b||"warning"},f=g.extend({},c,e),d=f.element;if(g.isDeferred(a)){var l=arguments.callee,h=this;a.done(function(a,b){f.message=a;f.type=b||"warning";l.call(h,f);d.show()})}else d.addClass("alert-"+f.type).append(f.message),1>g("html").has(d).length&&d.appendTo(f.parent);return d},clearMessage:function(){this.getMessageGroup().empty()},
_set_called:!0});var P=g.Controller.Class.processors;D=function(a,b,c,e,f){return q(a,b,s(f,e),c)};e("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,b){P[b]=D});var ba=function(a){f(a)&&(a=a.replace("$.Controller",M),a=l(a)||l(M+"."+a));if(ea(a))return a},ea=function(a){return b(a)&&a.hasOwnProperty("_fullName")},la=function(b){return g.map(b,function(b){return a(b)?
la(b):ba(b)})};g.getController=ba;g.isController=function(a){return!!ba(a)};g.isControllerInstance=function(a){return a&&a.constructor&&ea(a.constructor)};g.isControllerOf=function(b,c){if(!c)return!1;a(c)||(c=[c]);for(var e=0;e<c.length;e++){var f=ba(c[e]);if(b instanceof f)return!0}return!1};g.fn.extend({controllers:function(){var a=la(m(arguments)),b=[];this.each(function(){var c=g.data(this,"controllers");e(c||{},function(e,f){c.hasOwnProperty(e)&&(a.length&&!g.isControllerOf(f,a)||b.push(f))})});
return b},controller:function(a,b){if(void 0===b)return this.controllers(a)[0];this.addController.apply(this,arguments);return this},hasController:function(a){return(a=(ba(a)||{})._fullName||(f(a)?u(a.replace("$.Controller",M)):""))?(g(this).data("controllers")||{}).hasOwnProperty(a):!1},addController:function(a,c,e){var f=ba(a);if(f){var d=[];this.each(function(){if(1===this.nodeType&&"SCRIPT"!=this.nodeName){var l=g(this).controller(a);l||(l=new f(this,c),b(e)&&e.apply(l,[g(this),l]));d.push(l)}});
return 1<d.length?d:d[0]}},removeController:function(a){this.each(function(){for(var b=g(this).controllers(a);b.length;)b.shift().destroy()});return this},addControllerWhenAvailable:function(a){var b=this,c=arguments,e=g.Deferred();g.isController(a)&&(a=a.fullName);if(!f(a))return e.reject();g.module("$:/Controllers/"+a).pipe(function(){var a=b.addController.apply(b,c);e.resolveWith(a,[b,a])},e.reject,e.fail);return e},implement:function(){this.addController.apply(this,arguments);return this}})})();
(function(){var d=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},m=g.makeArray,a=1,b=g.View=function(a,b,f,d){"function"===typeof f&&(d=f,f=void 0);var l=c(b);if(l.length){var n=g.Deferred();l.push(g.ajax({url:a,dataType:"view",async:!0}));g.when.apply(g,l).then(function(a){var c=m(arguments),l=c.pop()[0];if(h(b))b=e(a);else for(var g in b)h(b[g])&&(b[g]=e(c.shift()));c=l(b,f);n.resolve(c);d&&d(c)});return n.promise()}var p,l="function"===typeof d,n=g.ajax({url:a,dataType:"view",
async:l});l?(p=n,n.done(function(a){d(a(b,f))})):n.done(function(a){p=a(b,f)});return p},f=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b;},h=function(a){return a&&g.isFunction(a.always)},c=function(a){var b=[];if(h(a))return[a];for(var c in a)h(a[c])&&b.push(a[c]);return b},e=function(a){return g.isArray(a)&&3===a.length&&"success"===a[1]?a[0]:a};g.ajaxTransport("view",function(a,c){var e=c.url,l=e.match(/\.[\w\d]+$/),h,n,p,m,q=function(a){a=
h.renderer(p,a);b.cache&&(b.cached[p]=a);return{view:a}};if(n=document.getElementById(e))l="."+n.type.match(/\/(x\-)?(.+)/)[2];l||(l=b.ext,e+=b.ext);p=d(e);if(e.match(/^\/\//))var s=e.substr(2),e="undefined"===typeof steal?e="/"+s:steal.root.mapJoin(s)+"";h=b.types[l];var u=g.template()[c.url];return{send:function(a,d){if(u)return h=b.types["."+u.type],d(200,"success",q(u.content));if(b.cached[p])return d(200,"success",{view:b.cached[p]});n?d(200,"success",q(n.innerHTML)):m=g.ajax({async:c.async,
url:e,dataType:"text",error:function(){f("",e);d(404)},success:function(a){f(a,e);d(200,"success",q(a))}})},abort:function(){m&&m.abort()}}});g.extend(b,{hookups:{},hookup:function(c){var e=++a;b.hookups[e]=c;return e},cached:{},cache:!0,register:function(a){this.types["."+a.suffix]=a;window.steal&&steal.type(a.suffix+" view js",function(a,c,e){e=b.types["."+a.type];var f=d(a.rootSrc+"");a.text=e.script(f,a.text);c()})},types:{},ext:".ejs",registerScript:function(a,c,e){return"$.View.preload('"+c+
"',"+b.types["."+a].script(c,e)+");"},preload:function(a,c){b.cached[a]=function(a,b){return c.call(a,a,b)}}});window.steal&&steal.type("view js",function(a,c,e){e=b.types["."+a.type];var f=d(a.rootSrc+"");a.text="steal('"+(e.plugin||"jquery/view/"+a.type)+"').then(function($){$.View.preload('"+f+"',"+a.text+");\n})";c()});var l,n,p,q,s,w,t,u={val:!0,text:!0};l=function(a){var c=g.fn[a];g.fn[a]=function(){var e=m(arguments),f,d,l=this;if(h(e[0]))return e[0].done(function(a){n.call(l,[a],c)}),this;
if(p(e)){if(f=w(e))return d=e[f],e[f]=function(a){n.call(l,[a],c);d.call(l,a)},b.apply(b,e),this;e=b.apply(b,e);if(h(e))return e.done(function(a){n.call(l,[a],c)}),this;e=[e]}return u[a]?c.apply(this,e):n.call(this,e,c)}};n=function(a,c){var e,f;for(e in b.hookups)break;e&&a[0]&&q(a[0])&&(f=b.hookups,b.hookups={},a[0]=g(a[0]));e=c.apply(this,a);f&&t(a[0],f);return e};p=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!s(a[1])};s=function(a){return a.nodeType||
a.jquery};q=function(a){return s(a)?!0:"string"===typeof a?(a=g.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&3<=a.length):!1};w=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};t=function(a,c){var e,f,d=0,l,h;a=a.filter(function(){return 3!=this.nodeType});e=a.add("[data-view-id]",a);for(f=e.length;d<f;d++)e[d].getAttribute&&(l=e[d].getAttribute("data-view-id"))&&(h=c[l])&&(h(e[d],l),delete c[l],e[d].removeAttribute("data-view-id"));g.extend(b.hookups,c)};g.fn.hookup=
function(){var a=b.hookups;b.hookups={};t(this,a);return this};g.each("prepend append after before text html replaceWith val".split(" "),function(a,b){l(b)})})();(function(){var d=function(a){eval(a)},m=g.String.rsplit,a=g.extend,b=g.isArray,f=/\r\n/g,h=/\r/g,c=/\n/g,e=/\n/,l=/\\/g,n=/"/g,p=/'/g,q=/\t/g,s=/\{/g,w=/\}/g,t=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,u=function(a){return a.replace(l,"\\\\").replace(c,"\\n").replace(n,'\\"').replace(q,"\\t")},r=g.View,z=function(a){var b=a.match(s);a=a.match(w);
return(b?b.length:0)-(a?a.length:0)},v=function(b){if(this.constructor!=v){var c=new v(b);return function(a,b){return c.render(a,b)}}"function"==typeof b?this.template={fn:b}:(a(this,v.options,b),this.template=C(this.text,this.type,this.name))};g&&(g.EJS=v);v.prototype.render=function(a,b){a=a||{};this._extra_helpers=b;var c=new v.Helpers(a,b||{});return this.template.fn.call(a,a,c)};a(v,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var c=a.hookup&&function(b,c){a.hookup.call(a,
b,c)}||"function"==typeof a&&a||b(a)&&function(b,c){for(var e=0;e<a.length;e++)a[e].hookup?a[e].hookup(b,c):a[e](b,c)};return c?"data-view-id='"+r.hookup(c)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(n,"&#34;").replace(p,"&#39;"):"number"==typeof a?a:v.text(a)},options:{type:"[",ext:".ejs"}});var y=function(a,b,c){b=m(b,e);for(var f=0;f<b.length;f++){var d=a,l=b[f],h=c;d.lines++;for(var l=m(l,
d.splitter),g=void 0,n=0;n<l.length;n++)g=l[n],null!==g&&h(g,d)}},D=function(b,c){var e={};a(e,{left:b+"%",right:"%"+c,dLeft:b+"%%",dRight:"%%"+c,eeLeft:b+"%==",eLeft:b+"%=",cmnt:b+"%#",cleanLeft:b+"%~",scan:y,lines:0});e.splitter=RegExp("("+[e.dLeft,e.dRight,e.eeLeft,e.eLeft,e.cmnt,e.left,e.right+"\n",e.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return e},C=function(a,b,c){a=a.replace(f,"\n").replace(h,"\n");b=b||"[";var e=new v.Buffer(["var ___v1ew = [];"],[]),l="",n=
null,p=[];y(D(b,"["===b?"]":">"),a||"",function(a,b){var c;if(null===n)switch(a){case "\n":l+="\n";e.push("___v1ew.push(",'"',u(l),'");');e.cr();l="";break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:n=a;0<l.length&&e.push("___v1ew.push(",'"',u(l),'");');l="";break;case b.dLeft:l+=b.left;break;default:l+=a}else switch(a){case b.right:switch(n){case b.left:c=z(l);var f=p.length&&-1==c?p.pop():";";"));"===f&&e.push("return ___v1ew.join('')");e.push(l,f);1===c&&p.push(";");break;case b.eLeft:(c=
z(l))&&p.push("));");t.test(l)&&(f=l.match(t),l="function(__){var "+f[1]+"=$(__);"+f[2]+"}");e.push("___v1ew.push(",g.globalNamespace+".EJS.clean(",l,c?"var ___v1ew = [];":"));");break;case b.eeLeft:(c=z(l))&&p.push("));"),e.push("___v1ew.push(",g.globalNamespace+".EJS.text(",l,c?"var ___v1ew = [];":"));")}n=null;l="";break;case b.dRight:l+=b.right;break;default:l+=a}});0<l.length&&e.push("___v1ew.push(",'"',u(l)+'");');a={out:"try { with(_VIEW) { with (_CONTEXT) {"+e.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};
d.call(a,"this.fn = (function(_CONTEXT,_VIEW){ var $ = "+g.globalNamespace+";"+a.out+"});");return a};v.Buffer=function(a,b){this.line=[];this.script=[];this.post=b;this.push.apply(this,a)};v.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){0<this.line.length&&(this.script.push(this.line.join("")),this.line=[]);this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};
v.Helpers=function(b,c){this._data=b;this._extras=c;a(this,c)};v.Helpers.prototype={plugin:function(a){var b=g.makeArray(arguments),c=b.shift();return function(a){a=g(a);a[c].apply(a,b)}},view:function(a,b,c){c=c||this._extras;b=b||this._data;return r(a,b,c)}};r.register({suffix:"ejs",script:function(a,b){return g.globalNamespace+".EJS(function(_CONTEXT,_VIEW) { "+(new v({text:b,name:a})).template.out+" })"},renderer:function(a,b){return v({text:b,name:a})}})})();(function(){var d=g.isArray,m=function(a){return"object"===
typeof a&&null!==a&&a},a=g.makeArray,b=g.each,f=function(a,b,c){a instanceof g.Observe?h([a],c._namespace):a=d(a)?new g.Observe.List(a):new g.Observe(a);a.bind("change"+c._namespace,function(e,f){var d=g.makeArray(arguments);e=d.shift();d[0]="*"===b?c.indexOf(a)+"."+d[0]:b+"."+d[0];g.event.trigger(e,d,c)});return a},h=function(a,b){for(var c,e=0;e<a.length;e++)(c=a[e])&&c.unbind&&c.unbind("change"+b)},c=0,e=null,l=function(){if(!e)return e=[],!0},n=function(a,b,c){if(!a._init)if(e)e.push({t:a,ev:b,
args:c});else return g.event.trigger(b,c,a,!0)},p=0,q=function(){var a=e.length,b=e.slice(0),c;e=null;p++;for(var f=0;f<a;f++)c=b[f],g.event.trigger({type:c.ev,batchNum:p},c.args,c.t)},s=function(a,b,c){a.each(function(a,e){c[a]=m(e)&&"function"==typeof e[b]?e[b]():e});return c};g.Class(g.globalNamespace+".Observe",{init:function(a){this._data={};this._namespace=".observe"+ ++c;this._init=!0;this.attrs(a);delete this._init},attr:function(a,b){if(void 0===b)return this._get(a);this._set(a,b);return this},
each:function(){return b.apply(null,[this.__get()].concat(a(arguments)))},removeAttr:function(a){a=d(a)?a:a.split(".");var b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);delete this._data[b];n(this,"change",[b,"remove",void 0,c]);return c},_get:function(a){a=d(a)?a:(""+a).split(".");var b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var c=d(a)?a:(""+a).split("."),e=c.shift(),l=this.__get(e);if(m(l)&&
c.length)l._set(c,b);else{if(c.length)throw"jQuery.Observe: set a property on an object that does not exist";b!==l&&(c=this.__get().hasOwnProperty(e)?"set":"add",this.__set(e,m(b)?f(b,e,this):b),n(this,"change",[e,c,b,l]),l&&h([l],this._namespace))}},__set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:function(a,b){g.fn.bind.apply(g([this]),arguments);return this},unbind:function(a,b){g.fn.unbind.apply(g([this]),arguments);return this},serialize:function(){return s(this,
"serialize",{})},attrs:function(a,b){if(void 0===a)return s(this,"attrs",{});a=g.extend(!0,{},a);var c,e=l();for(c in this._data){var f=this._data[c],d=a[c];void 0===d?b&&this.removeAttr(c):(m(f)&&m(d)?f.attrs(d,b):f!=d&&this._set(c,d),delete a[c])}for(c in a)d=a[c],this._set(c,d);e&&q()}});var w=g.Observe(g.globalNamespace+".Observe.List",{init:function(b,e){this.length=0;this._namespace=".list"+ ++c;this._init=!0;this.bind("change",this.proxy("_changes"));this.push.apply(this,a(b||[]));g.extend(this,
e);this.comparator&&this.sort();delete this._init},_changes:function(a,b,c,e,f){if(this.comparator&&/^\d+./.test(b)){var d=+/^\d+/.exec(b)[0],l=this[d],h=this.sortedIndex(l);if(h!==d){[].splice.call(this,d,1);[].splice.call(this,h,0,l);n(this,"move",[l,h,d]);a.stopImmediatePropagation();n(this,"change",[b.replace(/^\d+/,h),c,e,f]);return}}-1===b.indexOf(".")&&("add"===c?n(this,c,[e,+b]):"remove"===c&&n(this,c,[f,+b]))},sortedIndex:function(a){var b=a.attr(this.comparator),c=0,e;for(e=0;e<this.length;e++)if(a===
this[e])c=-1;else if(b<=this[e].attr(this.comparator))break;return e+c},__get:function(a){return a?this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return s(this,"serialize",[])},splice:function(b,c){var e=a(arguments),d;for(d=2;d<e.length;d++){var l=e[d];m(l)&&(e[d]=f(l,"*",this))}void 0===c&&(c=e[1]=this.length-b);d=[].splice.apply(this,e);0<c&&(n(this,"change",[""+b,"remove",void 0,d]),h(d,this._namespace));2<e.length&&n(this,"change",[""+b,"add",e.slice(2),d]);return d},attrs:function(a,
b){if(void 0===a)return s(this,"attrs",[]);a=a.slice(0);for(var c=Math.min(a.length,this.length),e=l(),f=0;f<c;f++){var d=this[f],h=a[f];m(d)&&m(h)?d.attrs(h,b):d!=h&&this._set(f,h)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length);e&&q()},sort:function(a,b){var c=this.comparator;[].sort.apply(this,c?[function(a,b){a=a[c];b=b[c];return a===b?0:a<b?-1:1}]:[]);!b&&n(this,"reset")}}),t=function(b){return b[0]&&g.isArray(b[0])?b[0]:a(b)};b({push:"length",
unshift:0},function(a,b){w.prototype[a]=function(){for(var c=t(arguments),e=b?this.length:0,d=0;d<c.length;d++){var l=c[d];m(l)&&(c[d]=f(l,"*",this))}if(1==c.length&&this.comparator)return e=this.sortedIndex(c[0]),this.splice(e,0,c[0]),this.length;d=[][a].apply(this,c);this.comparator&&1<c.length?(this.sort(null,!0),n(this,"reset",[c])):n(this,"change",[""+e,"add",c,void 0]);return d}});b({pop:"length",shift:0},function(a,b){w.prototype[a]=function(){var c=t(arguments),e=b&&this.length?this.length-
1:0,c=[][a].apply(this,c);n(this,"change",[""+e,"remove",void 0,[c]]);c&&c.unbind&&c.unbind("change"+this._namespace);return c}});w.prototype.indexOf=[].indexOf||function(a){return g.inArray(a,this)};g.O=function(a,b){return d(a)||a instanceof g.Observe.List?new g.Observe.List(a,b):new g.Observe(a,b)}})()});
FD31.plugin("joomla",function(g){var d={squeezebox:function(){return m.isJoomla15?window.parent.document.getElementById("sbox-window"):window.parent.SqueezeBox}},m=g.Joomla=function(a,f){if(g.isFunction(f))m.isJoomla15?window[a]=f:window.Joomla[a]=f;else if(a=d[a]||(m.isJoomla15?window[a]:window.Joomla[a]),g.isFunction(a))return a.apply(window,f)},a=parseFloat(g.joomla.version);m.isJoomla15=1.5>=a;m.isJoomla25=1.6<=a&&2.5>=a;m.isJoomla30=3<=a});
FD31.plugin("module",function(g){var d=function(d){var a=this,b=g.Callbacks("once memory");g.extend(this,g.Deferred(),{name:d,status:"pending",ready:function(f){!0===f&&b.fire.call(a,g);g.isFunction(f)&&b.add(f)}});a.then(function(){a.exports=this;a.status="resolved"},function(){a.status="rejected"});var f=a.done;a.done=function(){a.required=!0;var b=a.factory;b&&"ready"===a.status&&b.call(a,g);a.done=f;return a.done.apply(this,arguments)}};g.module=function(){var m=function(a,b){var f;if("string"===
typeof a){f=m.get(a);if(void 0===b)return f;if(g.isFunction(b)){if("resolved"==f.status)return f;f.factory=b;f.status="ready";f.ready("true");f.required&&(f.status="executing",b.call(f,g));return f}}g.isArray(a)&&(f=g.map(a,function(a){var b=m.get(g.isString(a)?a:a.name);if(b&&("pending"===b.status&&(b.status="ready"),g.isPlainObject(a)))return a}),g.each(f,function(a,b){m(b.name,b.factory)}))};g.extend(m,{registry:{},get:function(a){if(a)return g.isModule(a)&&(a=a.replace("module://","")),m.registry[a]||
m.create(a)},create:function(a){return m.registry[a]=new d(a)},remove:function(a){delete m.registry[a]}});return m}();g.isModule=function(m){return g.isString(m)?!!m.match("module://"):m&&m instanceof d}});
FD31.plugin("script",function(g){g.script=function(){var d=function(a){a=g.extend(this,a);a.manager=g.Deferred();g.extend(a,a.manager.promise());a.load()},m=document.getElementsByTagName("head")[0];document.getElementsByTagName("base");g.extend(d.prototype,{timeout:7E3,retry:3,retryCount:1,type:"text/javascript",async:!1,charset:"UTF-8",verbose:!1,insert:function(){m.appendChild(this.node)},remove:function(){var a=this.node;setTimeout(function(){a.onload=a.onerror=a.onreadystatechange=null;try{m.removeChild(a)}catch(b){}},
1E3)},load:function(){var a;this.endTime=void 0;this.startTime=new Date;this.node=a=document.createElement("script");this.insert();this._ready=g.proxy(this.ready,this);this._error=g.proxy(this.error,this);a.attachEvent&&!g.browser.opera?(a.attachEvent("onreadystatechange",this._ready),a.attachEvent("onerror",this._error)):(a.addEventListener("load",this._ready,!1),a.addEventListener("error",this._error,!1));g(a).attr({type:this.type,async:this.async,charset:this.charset,src:this.url});this.monitor()},
monitor:function(){var a=this;a.retryCount>a.retry?a._error():setTimeout(function(){"resolved"!==a.state()&&(a.verbose&&console.warn("$.script: Load timeout. [Retry: "+a.retryCount+"]",a),a.remove(),a.retryCount++,a.load())},a.timeout*a.retryCount)},ready:function(a){var b=this.node;if("load"===a.type||/loaded|complete/.test(b.readyState))this.complete.call(this,a),this.manager.resolve(this)},error:function(a){this.verbose&&console.error("$.script: Unable to load ",this);this.complete.call(this,a);
this.remove();this.manager.reject(this)},complete:function(a){a=this.node;this.endTime=new Date;a.detachEvent&&!g.browser.opera?(a.detachEvent("onreadystatechange",this._ready),a.detachEvent("onerror",this._error)):(a.removeEventListener("load",this._ready,!1),a.removeEventListener("error",this._error,!1))}});return function(a){if(void 0!==a)return"string"===typeof a&&(a={url:a}),new d(a)}}()});
FD31.plugin("stylesheet",function(g){var d=document.getElementsByTagName("head")[0],m=document.styleSheets,a=document.createStyleSheet;g.stylesheet=function(){var b=function(a,d){var c={};g.extend(c,b.defaultOptions,g.isPlainObject(a)?a:{url:a,attr:d||{}});return void 0===c.url?b.create(c):b.load(c)};g.extend(b,{defaultOptions:{type:"text/css",rel:"stylesheet",media:"all",title:"",forceInject:!1,xhr:!1},setup:function(a){g.extend(b.defaultOptions,a)},availability:function(){var a={},d=g('link[rel*="stylesheet"]');
styles=g("style");a.groups=31-d.length-styles.length;a.slots=31*a.groups;b.currentGroup&&(a.slots+=31-b.currentGroup.imports.length);return a},get:function(a){for(var b=0;b<m.length;b++){var c=m[b];if((c.ownerNode||c.owningElement)==a)return c}},create:function(b){var h,c;c=m.length;if(a){if(31<=c)return;h=document.createStyleSheet();c=h.ownerNode||h.owningElement}else c=document.createElement("style"),d.appendChild(c);g.extend(c,{type:b.type,title:b.title,media:b.media,rel:b.rel});b=b.content;void 0!==
b&&(a?h.cssText=b:c.appendChild(document.createTextNode(b)));return c},nextAvailable:function(f){var d,c=m.length;if(c)for(;c--;0>c)if(d=m[c],a&&4095<=(d.cssRules||d.rules).length)d=void 0;else break;return d.ownerNode||d.owningElement||(f?b():void 0)},load:function(a){return g.browser.msie&&!a.forceInject?b._import(a):g("<link>").attr({href:a.url,type:a.type,rel:a.rel,media:a.media}).appendTo("head")[0]},_import:function(a){var d;if(void 0===b.currentGroup){var c;try{c=document.createStyleSheet(),
c.media="all",c.title="jquery_stylesheet"}catch(e){d=!0,a.verbose&&console.error("There is not enough slots left to create a new stylesheet group.")}if(d)return!1;b.currentGroup=c}try{b.currentGroup.addImport(a.url)}catch(l){d=!0,a.verbose&&console.info("Import slots exceeded. Creating a new stylesheet group.")}return d?(b.currentGroup=void 0,b._import(a)):!0}});return b}();(function(){var a=function(a,b,e){g.extend(this,{id:g.uid(),style:e,selectors:[],preRule:"",rules:{},legacy:8===g.IE,important:!1});
a&&this.set(a,b)};g.extend(a.prototype,{set:function(a,b){g.isString(a)?this.selectors=a.split(","):this.selectors=a;g.isString(b)?(this.preRule=b+"\n",this.rules={}):(this.preRule="",this.rules=b||this.rules);this.update();return this},cssText:function(){return this.selectors.join(",")+"{"+this.ruleText()+"}\n"},ruleText:function(){var a=this.important;return this.preRule+(this.legacy?"-rule-id:"+this.id+";":"")+g.map(this.rules,function(b,e){g.isNumeric(b)&&!g.cssNumber[e]&&(b+="px");a&&(b+=" !important");
return e+":"+b}).join(";")},update:function(){if(this.legacy)return this.updateLegacy();var a=this.cssText();void 0===this.textNode?(this.textNode=document.createTextNode(a),this.style.appendChild(this.textNode)):this.textNode.nodeValue=a;return this},updateLegacy:function(){this.removeLegacy();for(var a=g.stylesheet.get(this.style),b=this.selectors,e=this.ruleText(),f=0;f<b.length;f++)a.addRule(b[f],e);return this},remove:function(){if(this.legacy)return this.removeLegacy();void 0!==this.textNode&&
(this.style.removeChild(this.textNode),delete this.textNode);return this},removeLegacy:function(){for(var a=g.stylesheet.get(this.style),b=a.rules,e=0;e<b.length;e++)null!==b[e].cssText.match(this.id)&&a.removeRule(e);return this},css:function(a,b){if(g.isString(a)&&void 0===b)return this.rules[a];g.isPlainObject(a)?g.extend(this.rules,a):this.rules[a]=b;this.update();return this}});var f=g.cssRule=function(d,c,e){if(e=e||f.style||g.stylesheet.nextAvailable(!0))return new a(d,c,e)};f.style=g.stylesheet()})();
(function(){g.cssUrl=function(a){return'url("'+encodeURI(a)+'")'}})()});
FD31.plugin("language",function(g){g.sprintf=function(){var d=arguments,a=0,b=function(a,b,f,d){f||(f=" ");b=a.length>=b?"":Array(1+b-a.length>>>0).join(f);return d?a+b:b+a},f=function(a,e,f,d,h,g){var m=d-a.length;0<m&&(a=f||!h?b(a,d,g,f):a.slice(0,e.length)+b("",m,"0",!0)+a.slice(e.length));return a},h=function(a,e,d,h,g,m,s){a>>>=0;d=d&&a&&{2:"0b",8:"0",16:"0x"}[e]||"";a=d+b(a.toString(e),m||0,"0",!1);return f(a,d,h,g,s)};return d[a++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,
function(c,e,l,g,p,q,s){var w,t;if("%%"==c)return"%";var u=!1;t="";var r=p=!1;w=" ";for(var z=l.length,v=0;l&&v<z;v++)switch(l.charAt(v)){case " ":t=" ";break;case "+":t="+";break;case "-":u=!0;break;case "'":w=l.charAt(v+1);break;case "0":p=!0;break;case "#":r=!0}g=g?"*"==g?+d[a++]:"*"==g.charAt(0)?+d[g.slice(1,-1)]:+g:0;0>g&&(g=-g,u=!0);if(!isFinite(g))throw Error("sprintf: (minimum-)width must be finite");q=q?"*"==q?+d[a++]:"*"==q.charAt(0)?+d[q.slice(1,-1)]:+q:-1<"fFeE".indexOf(s)?6:"d"==s?0:
void 0;e=e?d[e.slice(0,-1)]:d[a++];switch(s){case "s":return s=String(e),null!=q&&(s=s.slice(0,q)),f(s,"",u,g,p,w);case "c":return s=String.fromCharCode(+e),null!=q&&(s=s.slice(0,q)),f(s,"",u,g,p,void 0);case "b":return h(e,2,r,u,g,q,p);case "o":return h(e,8,r,u,g,q,p);case "x":return h(e,16,r,u,g,q,p);case "X":return h(e,16,r,u,g,q,p).toUpperCase();case "u":return h(e,10,r,u,g,q,p);case "i":case "d":return w=+e|0,c=0>w?"-":t,e=c+b(String(Math.abs(w)),q,"0",!1),f(e,c,u,g,p);case "e":case "E":case "f":case "F":case "g":case "G":return w=
+e,c=0>w?"-":t,t=["toExponential","toFixed","toPrecision"]["efg".indexOf(s.toLowerCase())],s=["toString","toUpperCase"]["eEfFgG".indexOf(s)%2],e=c+Math.abs(w)[t](q),f(e,c,u,g,p)[s]();default:return c}})};var d=g.language=g.JText=function(g){return 2>arguments.length?d._(g):d.sprintf.apply(null,arguments)};g.extend(d,{lang:{},add:function(m,a){g.isPlainObject(m)?g.extend(d.lang,m):d.lang[m]=a},remove:function(g){delete d.lang[g]},_:function(g){return d.lang[g]||""},sprintf:function(){arguments[0]=
d.lang[arguments[0]];return g.sprintf.apply(null,arguments)}})});FD31.plugin("template",function(g){g.template=function(){var d={content:"",type:"ejs"},m=function(a,b){if(void 0===a)return m.templates;var f;if("string"==typeof b)return f=g.isPlainObject(b)?b:g.extend({},d,{name:a,content:b}),m.templates[a]=f;f=m.templates[a]||{};return f.content||""};g.extend(m,{templates:{},remove:function(a){delete m.templates[a]}});return m}()});
FD31.plugin("require",function(g){g.require=function(){var d=function(a){return g.uri(a).setAnchor("").setQuery("").toPath("../").toString()},m=function(a){a=new b(a);return m.batches[a.id]=a};g.extend(m,{defaultOptions:{path:function(){var a=g.path+"/scripts/"||g("[require-path]").attr("require-path")||d(g("script:last").attr("src"))||d(window.location.href);/^(\/|\.)/.test(a)&&(a=g.uri(window.location.href).toPath(a).toString());return a}(),timeout:1E4,retry:3,verbose:"development"==g.environment},
setup:function(a){g.extend(m.defaultOptions,a)},batches:{},status:function(a){g.each(m.batches,function(b,c){var e={pending:0,resolved:0,rejected:0,ready:0,total:0},d=[];g.each(c.tasks,function(a,b){state=b.module&&"ready"==b.module.status?"ready":b.state();e[state]++;e.total++;d.push({state:state,content:"["+state+"] "+b.name})});var n=c.id+": "+c.state()+" ["+e.resolved+"/"+e.total+"]";a&&1>e[a]||(g.IE?(console.log('$.require.batches["'+c.id+'"]'),g.each(d,function(a,b){console.log(b.content)}),
console.log("")):(console.groupCollapsed(n),console.log('$.require.batches["'+c.id+'"]',c),g.each(d,function(b,c){var e=c.state,d=c.content;if(!a||e==a)switch(e){case "pending":console.warn(d);break;case "rejected":console.error(d);break;default:console.info(d)}}),console.groupEnd(n)))});return"$.require.status(pending|resolved|rejected|ready);"},loaders:{},addLoader:function(a,d){m[a]=d;b.prototype[a]=function(){this.autoFinalize();d.apply(this,arguments);return this};m.loaders[a]=m[a]=d},removeLoader:function(a){delete b.prototype[a];
delete m[a]}});var a=0,b=function(b){var d=g.Callbacks("once memory"),c=!1;return g.extend(this,{id:++a,tasks:[],options:g.extend({},m.defaultOptions,b),autoFinalizeDuration:300,finalized:!1,required:function(a){!0===a&&(c=d.fire());g.isFunction(a)&&d.add(a);return c}})};g.extend(b.prototype,{addTask:function(a){g.isDeferred(a)&&!this.finalized&&(this.tasks.push(a),a.batch=this)},autoFinalize:function(){var a=this,b=a.autoFinalizeDuration;!1!==b&&(clearTimeout(a.autoFinalizeTimer),a.autoFinalizeTimer=
setTimeout(function(){a.finalize()},b))},finalize:function(){var a=this;if(!a.finalized){a.finalized=!0;var b=a.manager=g.when.apply(null,a.tasks),c=b.promise(),e=g.Callbacks();g.extend(a,c,{progress:e.add,notify:e.fire,done:function(){a.required(!0);a.done=c.done;return a.done.apply(a,arguments)}});var d=a.options.verbose;b.progress(function(a,b){d&&"rejected"==a&&console.warn("Require: Task "+b.name+" failed to load.",b)}).fail(function(){d&&console.warn("Require: Batch "+a.id+" failed.",a)});setTimeout(function(){g.each(a.tasks,
function(b,c){c.then(function(){a.notify("resolved",c)},function(){a.notify("rejected",c)},function(){a.notify("progress",c)})})},1)}},expand:function(a,b){a=g.makeArray(a);var c=b||{},e=[];g.isPlainObject(a[0])?(c=g.extend(a[0],b),e=a.slice(1)):e=a;return{options:c,names:e}}});g.each(["done","fail","progress","always","then"],function(a,d){b.prototype[d]=function(){this.finalize();return this[d].apply(this,arguments)}});return m}();g.require.addLoader("script",function(){var d=g.uri(g.indexUrl).host(),
m=g.uri(document.location.href).host();d!==m&&d.match("xn--")&&(g.support.cors=!0);document.createElement("script");var a=function(){var b=this,d=g.makeArray(arguments),h;g.isPlainObject(d[0])&&(h=d[0],d=d.slice(1));h=g.extend({},a.defaultOptions,b.options,h,{batch:b});var c;g.each(d,function(e,d){var f=new a.task(d,h,c);b.addTask(f);h.serial&&void 0!==c?c.always(f.start):f.start();c=f})};g.extend(a,{defaultOptions:{path:"",extension:"compressed"==g.mode?"min.js":"js",serial:!1,async:!1,xhr:!1},setup:function(){g.extend(a.defaultOptions,
options)},scripts:{},task:function(a,d,h){var c=g.extend(this,g.Deferred());c.name=a;c.options=d;c.taskBefore=h;g.isArray(a)&&(c.name=a[0]+"@"+a[1],c.moduleName=a[0],a[2]||(c.defineModule=!0,g.module.registry[c.moduleName]&&console.warn("$.require.script: "+c.moduleName+" exists! Using existing module instead."),c.options.xhr=!0),a=a[1],c.module=g.module(c.moduleName));g.isUrl(a)?c.url=a:/^(\/|\.)/.test(a)?c.url=g.uri(c.options.path).toPath(a).toString():(c.url=g.uri(c.options.path).toPath("./"+a+
"."+c.options.extension).toString(),c.module=g.module(a))}});g.extend(a.task.prototype,{start:function(){var a=this.module;a&&"pending"!==a.status?this.waitForModule():this.load()},waitForModule:function(){var a=this,d=a.module;d.then(a.resolve,a.reject,a.notify);a.batch.required(function(){d.done(a.resolve)})},load:function(){var b=this,d=b.taskBefore;b.script=a.scripts[b.url]||function(){var d=b.options.xhr?g.ajax({url:b.url,dataType:"text"}):g.script({url:b.url,type:"text/javascript",async:b.options.async,
timeout:b.batch.options.timeout,retry:b.batch.options.retry,verbose:b.batch.options.verbose});return a.scripts[b.url]=d}();b.script.done(function(a){if(b.options.xhr&&(b.defineModule&&(b.module=g.module(b.moduleName,function(){g.globalEval(a);this.resolveWith(a)})),!b.options.async||d)){d.done(function(){g.globalEval(a);b.module?b.waitForModule():b.resolve()});return}b.module?b.waitForModule():b.resolve()}).fail(function(){b.reject()})}});return a}());g.require.addLoader("stylesheet",function(){var d=
function(){var m=this,a=g.makeArray(arguments),b;g.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=g.extend({},d.defaultOptions,m.options,{path:g.path+"/styles/"},b,{batch:m});g.each(a,function(a,h){var c=new d.task(h,b),e=d.stylesheets[c.url],c=e||c;m.addTask(c);e||(d.stylesheets[c.url]=c,c.start())})};g.extend(d,{defaultOptions:{path:"",extension:"compressed"==g.mode?"min.css":"css",xhr:!1},setup:function(){g.extend(d.defaultOptions,options)},stylesheets:{},task:function(d,a){var b=g.extend(this,g.Deferred());
b.name=d;b.options=a;g.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=g.uri(b.options.path).toPath(d).toString():b.url=g.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString();b.options.url=b.url},loaders:{},loader:function(m){if(g.isArray(m))return g.map(m,function(a){return d.loader(a)});if(g.isPlainObject(m))return g.map(m,function(a,f){return d.loader(a).resolve(f)});var a=d.loaders[m];a||(a=d.loaders[m]=g.Deferred().done(function(a){g.isPlainObject(a)||g.stylesheet(a)}));return a}});
g.extend(d.task.prototype,{start:function(){var m=d.loaders[this.name];m||(m=d.loader(this.name),g.stylesheet(this.options)?m.resolve():m.reject());m.then(this.resolve,this.reject)}});return d}());g.require.addLoader("template",function(){var d=function(){var m=this,a=g.makeArray(arguments),b;g.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=g.extend({},d.defaultOptions,m.options,b,{batch:m});g.each(a,function(a,h){var c=new d.task(h,b);m.addTask(c);c.start()})};g.extend(d,{defaultOptions:{path:"",extension:"htm"},
setup:function(){g.extend(d.defaultOptions,options)},task:function(d,a){var b=g.extend(this,g.Deferred());b.name=d;b.options=a;g.isArray(d)&&(b.name=d[0],d=d[1]);g.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=g.uri(b.options.path).toPath(d).toString():b.url=g.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString()},loaders:{},loader:function(m){if(g.isArray(m))return g.map(m,function(a){return d.loader(a)});if(g.isPlainObject(m))return g.map(m,function(a,f){return d.loader(f).resolve(a)});
var a=d.loaders[m];a||(a=d.loaders[m]=g.Deferred().done(function(a){g.template(m,a)}));return a}});g.extend(d.task.prototype,{start:function(){var m=d.loaders[this.name];m||(m=d.loader(this.name),m.xhr=g.Ajax({url:this.url,dataType:"text"}).then(m.resolve,m.reject).then(this.resolve,this.reject));this.loader=m;return this}});return d}());g.require.addLoader("language",function(){var d=function(){var m=g.makeArray(arguments),a;g.isPlainObject(m[0])&&(a=m[0],m=m.slice(1));a=g.extend({},d.defaultOptions,
this.options,a,{batch:this});a=new d.task(m,a);this.addTask(a);a.start()};g.extend(d,{defaultOptions:{path:""},setup:function(){g.extend(d.defaultOptions,options)},loaders:{},task:function(d,a){var b=g.extend(this,g.Deferred());b.name=d.join(",");b.options=a;b.url=a.path;b.names=d},loaders:{},loader:function(m){if(g.isArray(m))return g.map(m,function(a){return d.loader(a)});if(g.isPlainObject(m))return g.map(m,function(a,f){return d.loader(f).resolve(a)});var a=d.loaders[m];a||(a=d.loaders[m]=g.Deferred().done(function(a){g.language.add(m,
a)}));return a}});g.extend(d.task.prototype,{start:function(){var m=this,a=g.map(m.names,function(a){var f=d.loader(a);f.push(f);return/resolved|rejected/.test(f.state())?null:a});m.fail(function(){g.each(a,function(a,f){d.loader(f).reject()})});g.when.apply(null,[]).then(m.resolve,m.reject);if(1>a.length)return m;m.xhr=g.Ajax({url:m.url,type:"POST",data:{keys:a}}).done(function(a){g.isPlainObject(a)?d.loader(a):m.reject()}).fail(function(){m.reject()});return m}});return d}());g.require.addLoader("library",
function(){var d=g.makeArray(arguments),m={};g.isPlainObject(d[0])&&(m=d[0],d=d.slice(1));g.extend(m,{path:g.scriptPath});return this.script.apply(this,[m].concat(d))});g.require.addLoader("image",function(){var d=function(){var m=this,a=g.makeArray(arguments),b;g.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=g.extend({},d.defaultOptions,m.options,b,{batch:m});g.each(a,function(a,h){var c=new d.task(h,b),e=d.images[c.url],c=e||c;m.addTask(c);e||(d.images[c.url]=c,c.start())})};g.extend(d,{defaultOptions:{path:""},
setup:function(){g.extend(d.defaultOptions,options)},images:{},task:function(d,a){var b=g.extend(this,g.Deferred());b.name=d;b.options=a;g.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=g.uri(b.options.path).toPath(d).toString():b.url=g.uri(b.options.path).toPath("./"+d).toString();b.options.url=b.url}});g.extend(d.task.prototype,{start:function(){var d=this;d.image=g(new Image).load(function(){d.resolve()}).error(function(){d.reject()}).attr("src",d.options.url)}});return d}())});
FD31.plugin("iframe-transport",function(g){g.ajaxPrefilter(function(d,g,a){if(d.iframe)return"iframe"});g.ajaxTransport("iframe",function(d,m,a){function b(){l&&n.replaceWith(function(a){return e.get(a)});f.remove();h.attr("src","javascript:false;").remove()}var f=null,h=null,c="iframe-"+g.now(),e=g(d.files).filter(":file:enabled"),l=0<e.length,n=null;d.dataTypes.shift();f=g("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:d.url,target:c});"string"===typeof d.data&&
0<d.data.length&&g.error("data must not be serialized");g.each(d.data||{},function(a,b){g.isPlainObject(b)&&(a=b.name,b=b.value);g.isArray(b)||(b=[b]);g.each(b,function(b,c){g("<input type='hidden' />").attr({name:a,value:c}).appendTo(f)})});g("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(f);l&&(n=e.after(function(a){return g(this).clone().prop("disabled",!0)}).next(),e.appendTo(f));return{send:function(a,e){h=g("<iframe src='javascript:false;' name='"+c+"' id='"+c+"' style='display:none'></iframe>");
h.bind("load",function(){h.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,c=a.documentElement?a.documentElement:a.body,d=c.getElementsByTagName("textarea")[0],a=d?d.getAttribute("data-type"):null,f=d?d.getAttribute("data-status"):200,l=d?d.getAttribute("data-statusText"):"OK",c={html:c.innerHTML,text:a?d.value:c?c.textContent||c.innerText:null};b();e(f,l,c,a?"Content-Type: "+a:null)});f[0].submit()});
g("body").append(f,h)},abort:function(){null!==h&&(h.unbind("load").attr("src","javascript:false;"),b())}}})});
FD31.plugin("server",function(g){var d=g.server=function(m){var a=g.Deferred(),b=g.extend(!0,{},d.defaultOptions,m,{success:function(){}});a.xhr=g.Ajax(b).done(function(b){if("string"===typeof b)try{b=g.parseJSON(b)}catch(h){a.rejectWith(a,["Unable to parse Ajax commands.","error"])}if(g.isArray(b)){var c=function(b){var c=b.type,c=d.parsers[c]||m[c];if(g.isFunction(c))return c.apply(a,b.data)};b=g.map(b,function(a){if("notify"==a.type)c(a);else return a});g.each(b,function(a,b){c(b)})}else a.rejectWith(a,
["Invalid ajax commands.","error"]);"pending"===a.state()&&a.resolveWith(a)}).fail(function(b,d,c){a.rejectWith(a,[c,d])});return a};d.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},dataType:"json"};d.parsers={script:function(){var d=g.makeArray(arguments);if("string"==typeof d[0])try{eval(d[0])}catch(a){}else{var b=window;g.each(d,function(a,d){"Foundry"===d.property&&(d.property=g.globalNamespace);"Foundry"===d.method&&(d.method=g.globalNamespace);try{switch(d.type){case "get":b=
b[d.property];break;case "set":b[d.property]=d.value;break;case "call":b=b[d.method].apply(b,d.args)}}catch(c){}})}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)},notify:function(){this.notifyWith(this,arguments)},redirect:function(d){window.location=d}}});
FD31.plugin("component",function(g){var d=g.Component=function(a,f){return 1>arguments.length?d.registry:2>arguments.length?d.registry[a]:d.register(a,f)};d.registry={};d.proxy=function(a,d,h){g.isFunction(h)?a[d]=g.proxy(h,a):a[d]=h};d.register=function(a,f){var h;g.isFunction(a)&&(h=a,a=h.className,f=h.options);var c=d.registry[a]=window[a]=function(a){return g.isFunction(a)?a(g):component};g.each(d.prototype,function(a,b){d.proxy(c,a,b)});c.$=g;c.options=f;c.className=a;c.identifier=a.toLowerCase();
c.componentName="com_"+c.identifier;c.prefix=c.identifier+"/";c.version=f.version;c.safeVersion=c.version.replace(/\./g,"");c.environment=f.environment||g.environment;c.mode=f.mode||g.mode;c.debug="development"===c.environment;c.console=d.console(c);c.language=f.language||g.locale.lang||"en";c.baseUrl=f.baseUrl||g.indexUrl+"?option="+c.componentName;c.ajaxUrl=f.ajaxUrl||g.basePath+"/?option="+c.componentName;c.scriptPath=f.scriptPath||g.rootPath+"/media/"+c.componentName+"/scripts/";c.stylePath=f.stylePath||
g.rootPath+"/media/"+c.componentName+"/styles/";c.templatePath=f.templatePath||f.scriptPath;c.languagePath=f.languagePath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=lang&task=getLanguage";c.viewPath=f.viewPath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=themes&task=getAjaxTemplate";c.optimizeResources=!0;c.resourcePath=f.resourcePath||c.ajaxUrl+"&tmpl=component&no_html=1&controller=foundry&task=getResource";c.resourceInterval=1200;c.scriptVersioning=f.scriptVersioning||!1;c.token=(h||{}).token;
c.tasks=[];FD31.component(a,c);if(h)if(c.debug)h.queue.execute();else{for(var e,l=FD31.installer(a);e=l.shift();)c.install.apply(c,e);g.when(c.install("definitions"),c.install("scripts"),c.install("resources")).done(function(){h.queue.execute()})}};d.extend=function(a,f){d.prototype[a]=f;g.each(d.registry,function(h,c){d.proxy(c,a,f)})};g.template("component/console",'<div id="[%== component.identifier %]-console" class="foundry-console" style="display: none; z-index: 999999;"><div class="console-header"><div class="console-title">[%= component.className %] [%= component.version %]</div><div class="console-remove-button">x</div></div><div class="console-log-item-group"></div><style type="text/css">.foundry-console{position:fixed;width:50%;height:50%;bottom:0;left:0;background:white;box-shadow: 0 0 5px 0;margin-left: 25px;}.console-log-item-group{width: 100%;height: 100%;overflow-y:scroll;}.console-header{position: absolute;background:red;color:white;font-weight:bold;top:-24px;left: 0;line-height:24px;width:100%}.console-remove-button{text-align:center;cursor: pointer;display:block;width: 24px;float:right}.console-remove-button:hover{color: yellow}.console-title{padding: 0 5px;float:left}.console-log-item{padding: 5px}.console-log-item + .console-log-item{border-top: 1px solid #ccc}</style></div>');
d.console=function(a){return function(a){var b=function(a){return 1>arguments.length?b.toggle():b[a]&&b[a].apply(b,arguments)},c;b.selector="#"+a.identifier+"-console";b.init=function(){c=g(b.selector);1>c.length&&(c=g(g.View("component/console",{component:a})).appendTo("body"),c.find(".console-remove-button").click(function(){c.hide()}));b.element=c;return arguments.callee}();b.methods={log:function(b,d,h){d=d||"info";var p=c.find(".console-log-item-group");b=g(document.createElement("div")).addClass("console-log-item type-"+
d).attr("data-code",h).html(b);p.append(b);p[0].scrollTop=p[0].scrollHeight;a.debug&&c.show()},toggle:function(){c.toggle()},reset:function(){c.find(".console-log-item-group").empty()}};g.each(b.methods,function(a,c){b[a]=function(){b.init();return c.apply(b,arguments)}});return b}(a)};var m=g(document),a=d.prototype;g.extend(a,{run:function(a){return g.isFunction(a)?a(g):this},ready:function(){m.ready(function(){a.ready=a.run});return function(a){g.isFunction(a)&&m.ready(function(){a(g)})}}(),install:function(a,
d){var h=this,c=h.tasks[a]||(h.tasks[a]=g.Deferred());if(!d)return c;var e=function(){d(g,h);return c.resolve()};if("definitions"==a)return e();g.when(h.install("definitions")).done(e)},template:function(a){var d=this;if(void 0==a)return g.grep(g.template(),function(a){return 0==a.indexOf(d.prefix)});arguments[0]=d.prefix+a;return g.template.apply(null,arguments)},require:function(a){var d=this;a=a||{};var h=g.require(a),c={};g.each(["library","script","language","template","done"],function(a,b){c[b]=
h[b]});h.resource=function(a){if(g.isPlainObject(a)&&a.type&&a.name&&g.isDeferred(a.loader)){var b=d.resourceCollector;b||(b=d.resourceCollector=g.Deferred(),g.extend(b,{name:g.uid("ResourceCollector"),manifest:[],loaderList:[],loaders:[],load:function(){delete d.resourceCollector;if(0>b.manifest.length)b.resolve();else{var a=0,c=function(){a++;g.Ajax({type:"POST",url:d.resourcePath,dataType:"json",data:{resource:b.manifest}}).done(function(c){g.isArray(c)?(g.each(c,function(a,c){var e=c.content;
b.loaders[c.id][void 0!==e?"resolve":"reject"](e)}),1<a&&d.debug&&console.info("Attempt to try and get resources again was successful!")):b.reject("Server did not return a valid resource manifest.")}).fail(function(){2<a?d.debug&&console.error("Unable to get resource again. Giving up!"):(d.debug&&console.warn("Unable to get resource. Trying again..."),c())})};c();g.when.apply(null,b.loaderList).done(b.resolve).fail(b.reject)}}}),setTimeout(b.load,d.resourceCollectionInterval));var c=a.id=g.uid("Resource");
b.loaders[c]=a.loader;b.loaderList.push(a.loader);delete a.loader;b.manifest.push(a);return h}};h.view=function(){var a=this,b=a.expand(arguments,{path:d.viewPath}),c={},p=b.options,b=g.map(b.names,function(b){var l=d.prefix+b,p=g.require.template.loaders[l];if(!p)if(p=g.require.template.loader(l),p.name=l,a.addTask(p),d.optimizeResources)h.resource({type:"view",name:b,loader:p});else return c[b]=p,b});0<b.length&&g.Ajax({url:p.path,dataType:"json",data:{names:b}}).done(function(a){g.isArray(a)&&
g.each(a,function(a,b){var e=b.content;c[b.name][void 0!==e?"resolve":"reject"](e)})});return h};h.language=function(){var a=this,b=a.expand(arguments,{path:d.languagePath});d.optimizeResources?g.each(b.names,function(b,c){var d=g.require.language.loaders[c];d||(d=g.require.language.loader(c),d.name=c,a.addTask(d),h.resource({type:"language",name:c,loader:d}))}):c.language.apply(h,[b.options].concat(b.names));return h};h.library=function(){c.script.apply(this,arguments);return h};h.script=function(){var a=
this.expand(arguments,{path:d.scriptPath});names=g.map(a.names,function(b){if(g.isArray(b)||g.isUrl(b)||/^(\/|\.)/.test(b))return b;var c=d.prefix+b;b=g.uri(a.options.path).toPath("./"+b+"."+(a.options.extension||"js")+(d.scriptVersioning?"?version="+d.safeVersion:"")).toString();return[[c,b,!0]]});c.script.apply(h,[a.options].concat(names));return h};h.template=function(){var a=this.expand(arguments,{path:d.templatePath});c.template.apply(h,[a.options].concat(g.map(a.names,function(a){return[[d.prefix+
a,a]]})));return h};h.done=function(a){return c.done.call(h,function(){d.ready(a)})};return h},module:function(a,d){if(!g.isArray(a)){var h=this.prefix+a;return d?g.module.apply(null,[h,function(){d.call(this,g)}]):g.module(h)}}});g.Component.extend("getToken",function(){return g("span#"+this.identifier+"-token input").attr("name")||this.token});g.Component.extend("ajax",function(a,d,h){var c=this;a={url:c.ajaxUrl,data:g.extend(d,{option:c.componentName,namespace:a})};a=g.extend(!0,a,c.options.ajax);
a.data[c.getToken()]=1;a.data.hasOwnProperty("args")&&(a.data.args=g.toJSON(a.data.args));if(g.isPlainObject(h)){if(h.type){switch(h.type){case "jsonp":h.dataType="jsonp";h.crossDomain=!0;a.data.transport="jsonp";break;case "iframe":h.iframe=!0,h.processData=!1,h.files=a.data.files,delete a.data.files,a.data.transport="iframe"}delete h.type}g.extend(a,h)}g.isFunction(h)&&(a.success=h);h=g.server(a);h.progress(function(a,b,d){"debug"==b&&c.console.log(a,b,d)});return h});g.Component.extend("Controller",
function(){var a=g.makeArray(arguments),d=a[0],h;if(1==a.length)return g.String.getObject(d);2<a.length?(h=a[1],a=a[2]):(h={},a=a[1]);g.extend(h,{root:this.className+".Controller",component:this});return g.Controller.apply(this,[d,h,a])});g.Component.extend("Model",function(){var a=g.makeArray(arguments),d=this.className+".Model."+a[0],h,c;if(1==a.length)return g.String.getObject(a[0]);2==a.length&&(h={},c=a[1]);2<a.length&&(h=a[1],c=a[2]);g.extend(h,{component:this});return g.Model.apply(this,[d,
h,c])});g.Component.extend("Model.List",function(){var a=g.makeArray(arguments),d=this.className+".Model.List."+a[0],h,c;if(1==a.length)return g.String.getObject(a[0]);2==a.length&&(h={},c=a[1]);2<a.length&&(h=a[1],c=a[2]);g.extend(h,{component:this});return g.Model.List.apply(this,[d,h,c])});g.Component.extend("View",function(a){if(1>arguments.length)return this.template();arguments[0]=this.prefix+arguments[0];return g.View.apply(this,arguments)});FD31.module.execute();g.each(FD31.component(),function(a,
d){d.registered||g.Component.register(d)})});
FD31.plugin("static",function(g){g.module("image ui/position fancybox bookmarklet checked checkList ui/autocomplete ui/core ui/widget ui/menu easing scrollTo ui/stars".split(" "));(function(){FD31.module("image",function(d){var g=function(){d.fn.image=function(a){return(a=d.Image[a])&&a.apply(this[0],d.makeArray(arguments).slice(1))};d.Image={get:function(a){var b="IMG"===this.nodeName,f=d(b?this:new Image),h=d.Deferred();f.load(function(){var a,e,d,g;b||f.appendTo("body");var p={width:a=f.width(),
height:e=f.height(),aspectRatio:d=a/e,orientation:g=1===d?"square":1>d?"tall":"wide"};f.css({position:"absolute",left:"-99999px"}).data(p).addClass("orientation-"+g).removeAttr("style");b||f.detach();h.resolve(f,p)}).error(function(){h.reject()}).attr("src",a);return h},aspectRatio:function(a,b){d.isPlainObject(a)&&(a=a.width,b=a.height);return a/b},orientation:function(a,b){d.isPlainObject(a)&&(a=a.width,b=a.height);return a===b?"square":a>b?"wide":"tall"},resizeProportionate:function(a,b,d,h,c){var e=
a,l=b,l=d/a,e=a*l,l=b*l,g=l>h;"outer"==c&&(g=l<h);g&&(l=h/b,e=a*l,l*=b);return{top:(h-l)/2,left:(d-e)/2,width:e,height:l}},resizeWithin:function(a,b,f,h){return d.Image.resizeProportionate(a,b,f,h,"inner")},resizeToFill:function(a,b,f,h){return d.Image.resizeProportionate(a,b,f,h,"outer")}}};g();this.resolveWith(g)})})();(function(){FD31.module("ui/position",function(d){var g=function(){(function(a,b){function d(a,b,c){return[parseFloat(a[0])*(t.test(a[0])?b/100:1),parseFloat(a[1])*(t.test(a[1])?
c/100:1)]}function h(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var c,e=Math.max,l=Math.abs,g=Math.round,p=/left|center|right/,m=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,t=/%$/,u=a.fn.position;
a.position={scrollbarWidth:function(){if(c!==b)return c;var e,d,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=f.children()[0];a("body").append(f);e=d.offsetWidth;f.css("overflow","scroll");d=d.offsetWidth;e===d&&(d=f[0].clientWidth);f.remove();return c=e-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),e=b.isWindow?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;
return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return u.apply(this,arguments);b=a.extend({},b);var c,t,y,D,C,M,I=a(b.of),
P=a.position.getWithinInfo(b.within),ba=a.position.getScrollInfo(P),ea=(b.collision||"flip").split(" "),la={};M=h(I);I[0].preventDefault&&(b.at="left top");t=M.width;y=M.height;D=M.offset;C=a.extend({},D);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,e;1===a.length&&(a=p.test(a[0])?a.concat(["center"]):m.test(a[0])?["center"].concat(a):["center","center"]);a[0]=p.test(a[0])?a[0]:"center";a[1]=m.test(a[1])?a[1]:"center";c=s.exec(a[0]);e=s.exec(a[1]);la[this]=[c?c[0]:0,e?e[0]:0];b[this]=
[w.exec(a[0])[0],w.exec(a[1])[0]]});1===ea.length&&(ea[1]=ea[0]);"right"===b.at[0]?C.left+=t:"center"===b.at[0]&&(C.left+=t/2);"bottom"===b.at[1]?C.top+=y:"center"===b.at[1]&&(C.top+=y/2);c=d(la.at,t,y);C.left+=c[0];C.top+=c[1];return this.each(function(){var h,p,m=a(this),q=m.outerWidth(),s=m.outerHeight(),w=parseInt(a.css(this,"marginLeft"),10)||0,u=parseInt(a.css(this,"marginTop"),10)||0,M=q+w+(parseInt(a.css(this,"marginRight"),10)||0)+ba.width,qa=s+u+(parseInt(a.css(this,"marginBottom"),10)||
0)+ba.height,E=a.extend({},C),N=d(la.my,m.outerWidth(),m.outerHeight());"right"===b.my[0]?E.left-=q:"center"===b.my[0]&&(E.left-=q/2);"bottom"===b.my[1]?E.top-=s:"center"===b.my[1]&&(E.top-=s/2);E.left+=N[0];E.top+=N[1];a.support.offsetFractions||(E.left=g(E.left),E.top=g(E.top));h={marginLeft:w,marginTop:u};a.each(["left","top"],function(e,d){if(a.ui.position[ea[e]])a.ui.position[ea[e]][d](E,{targetWidth:t,targetHeight:y,elemWidth:q,elemHeight:s,collisionPosition:h,collisionWidth:M,collisionHeight:qa,
offset:[c[0]+N[0],c[1]+N[1]],my:b.my,at:b.at,within:P,elem:m})});b.using&&(p=function(a){var c=D.left-E.left,d=c+t-q,f=D.top-E.top,h=f+y-s,g={target:{element:I,left:D.left,top:D.top,width:t,height:y},element:{element:m,left:E.left,top:E.top,width:q,height:s},horizontal:0>d?"left":0<c?"right":"center",vertical:0>h?"top":0<f?"bottom":"middle"};t<q&&l(c+d)<t&&(g.horizontal="center");y<s&&l(f+h)<y&&(g.vertical="middle");e(l(c),l(d))>e(l(f),l(h))?g.important="horizontal":g.important="vertical";b.using.call(this,
a,g)});m.offset(a.extend(E,{using:p}))})};a.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,l=a.left-b.collisionPosition.marginLeft,c=d-l,h=l+b.collisionWidth-f-d;b.collisionWidth>f?0<c&&0>=h?(d=a.left+c+b.collisionWidth-f-d,a.left+=c-d):a.left=0<h&&0>=c?d:c>h?d+f-b.collisionWidth:d:a.left=0<c?a.left+c:0<h?a.left-h:e(a.left-l,a.left)},top:function(a,b){var c=b.within,d=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,l=a.top-b.collisionPosition.marginTop,
c=d-l,h=l+b.collisionHeight-f-d;b.collisionHeight>f?0<c&&0>=h?(d=a.top+c+b.collisionHeight-f-d,a.top+=c-d):a.top=0<h&&0>=c?d:c>h?d+f-b.collisionHeight:d:a.top=0<c?a.top+c:0<h?a.top-h:e(a.top-l,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,d=c.width,f=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-f,g=h+b.collisionWidth-d-f,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?
-b.targetWidth:0,p=-2*b.offset[0];if(0>c){if(e=a.left+h+n+p+b.collisionWidth-d-e,0>e||e<l(c))a.left+=h+n+p}else 0<g&&(e=a.left-b.collisionPosition.marginLeft+h+n+p-f,0<e||l(e)<g)&&(a.left+=h+n+p)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,d=c.height,f=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,c=h-f,g=h+b.collisionHeight-d-f,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:
0,p=-2*b.offset[1];0>c?(e=a.top+h+n+p+b.collisionHeight-d-e,a.top+h+n+p>c&&(0>e||e<l(c))&&(a.top+=h+n+p)):0<g&&(e=a.top-b.collisionPosition.marginTop+h+n+p-f,a.top+h+n+p>g&&(0<e||l(e)<g)&&(a.top+=h+n+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,e,d,f=document.getElementsByTagName("body")[0];e=document.createElement("div");
b=document.createElement(f?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)b.style[d]=c[d];b.appendChild(e);c=f||document.documentElement;c.insertBefore(b,c.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;a.support.offsetFractions=10<e&&11>e;b.innerHTML="";c.removeChild(b)})()})(d)};g();this.resolveWith(g)})})();(function(){FD31.module("fancybox",
function(d){var g=function(){(function(a,b){var f=d(a),h=d(b),c=d.fancybox=function(){c.open.apply(this,arguments)},e=!1;d.extend(c,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!(d.browser.msie&&6>=d.browser.version)&&"undefined"==typeof b.createTouch,scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,
playSpeed:3E3,modal:!1,loop:!0,ajax:{dataType:"html"},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(d.browser.msie?'allowtransparency="true""':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',
error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",
nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:d.noop,beforeLoad:d.noop,afterLoad:d.noop,beforeShow:d.noop,afterShow:d.noop,beforeClose:d.noop,afterClose:d.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,
isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){d.isArray(a)||(a=a.jquery?d(a).get():[a]);a.length&&(c.close(!0),c.isActive=!0,c.opts=d.extend(!0,{},c.defaults,b),c.group=a,c._start(c.opts.index||0))},cancel:function(){c.coming&&!1===c.trigger("onCancel")||(c.coming=null,c.hideLoading(),c.ajaxLoad&&c.ajaxLoad.abort(),c.ajaxLoad=null,c.imgPreload&&(c.imgPreload.onload=c.imgPreload.onabort=c.imgPreload.onerror=null))},close:function(a){c.cancel();c.current&&!1!==
c.trigger("beforeClose")&&(c.unbindEvents(),!c.isOpen||a&&!0===a[0]?(d(".fancybox-wrap").stop().trigger("onReset").remove(),c._afterZoomOut()):(c.isOpen=c.isOpened=!1,d(".fancybox-item").remove(),c.wrap.stop(!0).removeClass("fancybox-opened"),c.inner.css("overflow","hidden"),c.transitions[c.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(c.player.timer)},e=function(){b();c.current&&c.player.isActive&&(c.player.timer=setTimeout(c.next,c.current.playSpeed))},f=function(){b();
d("body").unbind(".player");c.player.isActive=!1;c.trigger("onPlayEnd")};c.player.isActive||a&&!1===a[0]?f():c.current&&(c.current.loop||c.current.index<c.group.length-1)&&(c.player.isActive=!0,d("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":f,"beforeLoad.player":b}),e(),c.trigger("onPlayStart"))},next:function(){c.current&&c.jumpto(c.current.index+1)},prev:function(){c.current&&c.jumpto(c.current.index-1)},jumpto:function(a){c.current&&(a=parseInt(a,10),
1<c.group.length&&c.current.loop&&(a>=c.group.length?a=0:0>a&&(a=c.group.length-1)),"undefined"!==typeof c.group[a]&&(c.cancel(),c._start(a)))},reposition:function(a){c.isOpen&&c.wrap.css(c._getPosition(a))},update:function(){c.isOpen&&(e||setTimeout(function(){e&&(e=!1,c.current&&(c.current.autoSize&&(c.inner.height("auto"),c.current.height=c.inner.height()),c._setDimension(),c.current.canGrow&&c.inner.height("auto"),c.reposition(),c.trigger("onUpdate")))},100),e=!0)},toggle:function(){c.isOpen&&
(c.current.fitToView=!c.current.fitToView,c.update())},hideLoading:function(){d("#fancybox-loading").remove()},showLoading:function(){c.hideLoading();d('<div id="fancybox-loading"><div></div></div>').click(c.cancel).appendTo("body")},getViewport:function(){return{x:f.scrollLeft(),y:f.scrollTop(),w:f.width(),h:f.height()}},unbindEvents:function(){c.wrap&&c.wrap.unbind(".fb");h.unbind(".fb");f.unbind(".fb")},bindEvents:function(){var a=c.current,b=a.keys;a&&(f.bind("resize.fb, orientationchange.fb",
c.update),b&&h.bind("keydown.fb",function(a){var e;!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&0>d.inArray(a.target.tagName.toLowerCase(),["input","textarea","select","button"])&&(e=a.keyCode,-1<d.inArray(e,b.close)?(c.close(),a.preventDefault()):-1<d.inArray(e,b.next)?(c.next(),a.preventDefault()):-1<d.inArray(e,b.prev)&&(c.prev(),a.preventDefault()))}),d.fn.mousewheel&&a.mouseWheel&&1<c.group.length&&c.wrap.bind("mousewheel.fb",function(a,b){var e=d(a.target).get(0);if(0===e.clientHeight||e.scrollHeight===
e.clientHeight&&e.scrollWidth===e.clientWidth)a.preventDefault(),c[0<b?"prev":"next"]()}))},trigger:function(a){var b,e=c[-1<d.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(e){d.isFunction(e[a])&&(b=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===b)return!1;e.helpers&&d.each(e.helpers,function(b,f){if(f&&"undefined"!==typeof c.helpers[b]&&d.isFunction(c.helpers[b][a]))c.helpers[b][a](f,e)});d.event.trigger(a+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},
isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(a){var b={},e=c.group[a]||null,f,h,g;e&&"object"===typeof e&&(e.nodeType||e instanceof d)&&(f=!0,d.metadata&&(b=d(e).metadata()));b=d.extend(!0,{},c.opts,{index:a,element:e},d.isPlainObject(e)?e:b);d.each(["href","title","content","type"],function(a,l){b[l]=c.opts[l]||f&&d(e).attr(l)||b[l]||null});"number"===typeof b.margin&&(b.margin=[b.margin,b.margin,b.margin,b.margin]);b.modal&&d.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,
arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});c.coming=b;!1===c.trigger("beforeLoad")?c.coming=null:(h=b.type,a=b.href,h||(f&&(g=d(e).data("fancybox-type"),!g&&e.className&&(h=(g=e.className.match(/fancybox\.(\w+)/))?g[1]:null)),!h&&a&&(c.isImage(a)?h="image":c.isSWF(a)?h="swf":a.match(/^#/)&&(h="inline")),h||(h=f?"inline":"html"),b.type=h),"inline"===h||"html"===h?(b.content=b.content||("inline"===h&&a?d(a):d(e)),b.content.length||(h=null)):(b.href=a||
e,b.href||(h=null)),b.group=c.group,b.isDom=f,"image"===h?c._loadImage():"ajax"===h?c._loadAjax():h?c._afterLoad():c._error("type"))},_error:function(a){c.hideLoading();d.extend(c.coming,{type:"html",autoSize:!0,minHeight:0,hasError:a,content:c.coming.tpl.error});c._afterLoad()},_loadImage:function(){c.imgPreload=new Image;c.imgPreload.onload=function(){this.onload=this.onerror=null;c.coming.width=this.width;c.coming.height=this.height;c._afterLoad()};c.imgPreload.onerror=function(){this.onload=this.onerror=
null;c._error("image")};c.imgPreload.src=c.coming.href;c.imgPreload.width||c.showLoading()},_loadAjax:function(){c.showLoading();c.ajaxLoad=d.ajax(d.extend({},c.coming.ajax,{url:c.coming.href,error:function(a,b){"abort"!==b?c._error("ajax",a):c.hideLoading()},success:function(a,b){"success"===b&&(c.coming.content=a,c._afterLoad())}}))},_preload:function(){var a=c.group,b=c.current.index;1<a.length&&((new Image).src=d(a[b+1]||a[0]).attr("href"),(new Image).src=d(a[b-1]||a[a.length-1]).attr("href"))},
_afterLoad:function(){c.hideLoading();c.coming&&!1!==c.trigger("afterLoad",c.current)?(c.isOpened?(d(".fancybox-item").remove(),c.wrap.stop(!0).removeClass("fancybox-opened"),c.inner.css("overflow","hidden"),c.transitions[c.current.prevMethod]()):(d(".fancybox-wrap").stop().trigger("onReset").remove(),c.trigger("afterClose")),c.unbindEvents(),c.isOpen=!1,c.current=c.coming,c.coming=!1,c.wrap=d(c.current.tpl.wrap).addClass("fancybox-tmp "+c.current.wrapCSS).appendTo("body"),c.outer=d(".fancybox-outer",
c.wrap).css("padding",c.current.padding+"px"),c.inner=d(".fancybox-inner",c.wrap),c._setContent()):c.coming=!1},_setContent:function(){var a,b,e=c.current,f=e.type;switch(f){case "inline":case "ajax":case "html":a=e.content;"inline"===f&&a instanceof d&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),d(c.wrap).bind("onReset",function(){a.appendTo("body").hide()}));e.autoSize&&(b=d('<div class="fancybox-tmp"></div>').appendTo("body").append(a),
e.width=b.width(),e.height=b.height(),b.width(c.current.width),b.height()>e.height&&(b.width(e.width+1),e.width=b.width(),e.height=b.height()),a=b.contents().detach(),b.remove());break;case "image":a=e.tpl.image.replace("{href}",e.href);e.aspectRatio=!0;break;case "swf":a=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href)}if("iframe"===f){if(a=d(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr({scrolling:e.scrolling,src:e.href}).appendTo(c.inner),
e.scrolling="auto",e.autoSize){c.wrap.width(e.width);c.showLoading();a.data("ready",!1).bind("load",function(){var a=d(this),b;try{this.contentWindow.document.location&&(b=a.contents().find("body").height()+12,a.height(b))}catch(f){e.autoSize=!1}!1===a.data("ready")?(c.hideLoading(),b&&(c.current.height=b),c._beforeShow(),a.data("ready",!0)):b&&c.update()});return}}else{if("image"===f||"swf"===f)e.autoSize=!1,e.scrolling="visible";c.inner.append(a)}c._beforeShow()},_beforeShow:function(){c.trigger("beforeShow");
c._setDimension();c.wrap.hide().removeClass("fancybox-tmp");c.bindEvents();c._preload();c.transitions[c.isOpened?c.current.nextMethod:c.current.openMethod]()},_setDimension:function(){var a=c.wrap,b=c.outer,e=c.inner,f=c.current,h=c.getViewport(),g=f.margin,m=2*f.padding,u=f.width,r=f.height,z=f.maxWidth,v=f.maxHeight,y=f.minWidth,D=f.minHeight,C;h.w-=g[1]+g[3];h.h-=g[0]+g[2];-1<u.toString().indexOf("%")&&(u=(h.w-m)*parseFloat(u)/100);-1<r.toString().indexOf("%")&&(r=(h.h-m)*parseFloat(r)/100);g=
u/r;u+=m;r+=m;f.fitToView&&(z=Math.min(h.w,z),v=Math.min(h.h,v));y=Math.min(u,y);D=Math.min(r,D);z=Math.max(y,z);v=Math.max(D,v);f.aspectRatio?(u>z&&(u=z,r=(u-m)/g+m),r>v&&(r=v,u=(r-m)*g+m),u<y&&(u=y,r=(u-m)/g+m),r<D&&(r=D,u=(r-m)*g+m)):(u=Math.max(y,Math.min(u,z)),r=Math.max(D,Math.min(r,v)));u=Math.round(u);r=Math.round(r);d(a.add(b).add(e)).width("auto").height("auto");e.width(u-m).height(r-m);a.width(u);C=a.height();if(u>z||C>v)for(;(u>z||C>v)&&u>y&&C>D;)r-=10,f.aspectRatio?(u=Math.round((r-m)*
g+m),u<y&&(u=y,r=(u-m)/g+m)):u-=10,e.width(u-m).height(r-m),a.width(u),C=a.height();f.dim={width:u,height:C};f.canGrow=f.autoSize&&r>D&&r<v;f.canShrink=!1;f.canExpand=!1;u-m<f.width||r-m<f.height?f.canExpand=!0:(u>h.w||C>h.h)&&u>y&&r>D&&(f.canShrink=!0);a=C-m;c.innerSpace=a-e.height();c.outerSpace=a-b.height()},_getPosition:function(a){var b=c.current,e=c.getViewport(),d=b.margin,f=c.wrap.width()+d[1]+d[3],h=c.wrap.height()+d[0]+d[2],g={position:"absolute",top:d[0]+e.y,left:d[3]+e.x};b.fixed&&(!a||
!1===a[0])&&h<=e.h&&f<=e.w&&(g={position:"fixed",top:d[0],left:d[3]});g.top=Math.ceil(Math.max(g.top,g.top+(e.h-h)*b.topRatio))+"px";g.left=Math.ceil(Math.max(g.left,g.left+0.5*(e.w-f)))+"px";return g},_afterZoomIn:function(){var a=c.current,b=a.scrolling;c.isOpen=c.isOpened=!0;c.wrap.addClass("fancybox-opened").css("overflow","visible");c.update();c.inner.css("overflow","yes"===b?"scroll":"no"===b?"hidden":b);(a.closeClick||a.nextClick)&&c.inner.css("cursor","pointer").bind("click.fb",a.nextClick?
c.next:c.close);a.closeBtn&&d(a.tpl.closeBtn).appendTo(c.wrap).bind("click.fb",c.close);a.arrows&&1<c.group.length&&((a.loop||0<a.index)&&d(a.tpl.prev).appendTo(c.wrap).bind("click.fb",c.prev),(a.loop||a.index<c.group.length-1)&&d(a.tpl.next).appendTo(c.wrap).bind("click.fb",c.next));c.trigger("afterShow");c.opts.autoPlay&&!c.player.isActive&&(c.opts.autoPlay=!1,c.play())},_afterZoomOut:function(){c.trigger("afterClose");c.wrap.trigger("onReset").remove();d.extend(c,{group:{},opts:{},current:null,
isActive:!1,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}});c.transitions={getOrigPosition:function(){var a=c.current,b=a.element,e=a.padding,f=d(a.orig),h={},g=50,m=50;!f.length&&a.isDom&&d(b).is(":visible")&&(f=d(b).find("img:first"),f.length||(f=d(b)));f.length?(h=f.offset(),f.is("img")&&(g=f.outerWidth(),m=f.outerHeight())):(a=c.getViewport(),h.top=a.y+0.5*(a.h-m),h.left=a.x+0.5*(a.w-g));return h={top:Math.ceil(h.top-e)+"px",left:Math.ceil(h.left-e)+"px",width:Math.ceil(g+2*e)+"px",
height:Math.ceil(m+2*e)+"px"}},step:function(a,b){var e,d,f;if("width"===b.prop||"height"===b.prop)d=f=Math.ceil(a-2*c.current.padding),"height"===b.prop&&(e=(a-b.start)/(b.end-b.start),b.start>b.end&&(e=1-e),d-=c.innerSpace*e,f-=c.outerSpace*e),c.inner[b.prop](d),c.outer[b.prop](f)},zoomIn:function(){var a=c.wrap,b=c.current,e,f;e=b.dim;"elastic"===b.openEffect?(f=d.extend({},e,c._getPosition(!0)),delete f.position,e=this.getOrigPosition(),b.openOpacity&&(e.opacity=0,f.opacity=1),c.outer.add(c.inner).width("auto").height("auto"),
a.css(e).show().animate(f,{duration:b.openSpeed,easing:b.openEasing,step:this.step,complete:c._afterZoomIn})):(a.css(d.extend({},e,c._getPosition())),"fade"===b.openEffect?a.fadeIn(b.openSpeed,c._afterZoomIn):(a.show(),c._afterZoomIn()))},zoomOut:function(){var a=c.wrap,b=c.current,e;"elastic"===b.closeEffect?("fixed"===a.css("position")&&a.css(c._getPosition(!0)),e=this.getOrigPosition(),b.closeOpacity&&(e.opacity=0),a.animate(e,{duration:b.closeSpeed,easing:b.closeEasing,step:this.step,complete:c._afterZoomOut})):
a.fadeOut("fade"===b.closeEffect?b.closeSpeed:0,c._afterZoomOut)},changeIn:function(){var a=c.wrap,b=c.current,e;"elastic"===b.nextEffect?(e=c._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",a.css(e).show().animate({opacity:1,top:"+=200px"},{duration:b.nextSpeed,complete:c._afterZoomIn})):(a.css(c._getPosition()),"fade"===b.nextEffect?a.hide().fadeIn(b.nextSpeed,c._afterZoomIn):(a.show(),c._afterZoomIn()))},changeOut:function(){var a=c.wrap,b=c.current,e=function(){d(this).trigger("onReset").remove()};
a.removeClass("fancybox-opened");"elastic"===b.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:b.prevSpeed,complete:e}):a.fadeOut("fade"===b.prevEffect?b.prevSpeed:0,e)}};c.helpers.overlay={overlay:null,update:function(){var a,c;this.overlay.width(0).height(0);d.browser.msie?(a=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),c=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=a<c?f.width():a):a=h.width();this.overlay.width(a).height(h.height())},beforeShow:function(a){this.overlay||
(a=d.extend(!0,{speedIn:"fast",closeClick:!0,opacity:1,css:{background:"black"}},a),this.overlay=d('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",c.close),f.bind("resize.fb",d.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn,a.opacity))},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){d(this).remove()});this.overlay=null}};c.helpers.title={beforeShow:function(a){var b;
if(b=c.current.title)b=d('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+b+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),c.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?c.inner:"outside"===a.type?c.wrap:c.outer)}};d.fn.fancybox=function(a){var b=d(this),e=this.selector||"",f,g=function(h){var g=this,m="rel",s=g[m],z=f;h.ctrlKey||h.altKey||h.shiftKey||h.metaKey||(h.preventDefault(),
s||(m="data-fancybox-group",s=d(g).attr("data-fancybox-group")),s&&""!==s&&"nofollow"!==s&&(g=e.length?d(e):b,g=g.filter("["+m+'="'+s+'"]'),z=g.index(this)),a.index=z,c.open(g,a))};a=a||{};f=a.index||0;e?h.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",g):b.unbind("click.fb-start").bind("click.fb-start",g);return this}})(window,document)};g();this.resolveWith(g)})})();(function(){FD31.module("bookmarklet",function(d){var g=function(){d.bookmarklet=function(a,b,c,f){a=this[b].call(d(a),
c);a.attachEvent&&!d.browser.opera?a.attachEvent("onreadystatechange",f):a.addEventListener("load",f,!1)};d.fn.bookmarklet=function(a,b,c){var f=this;d(document).ready(function(){d.bookmarklet[a].call(f,b,c)})};d.bookmarklet.tweetMeme=function(a){var b=this[0],c=b.parentNode,f=document.createElement("iframe");a.url=a.url.replace(/\+/g,"%2b");switch(a.style){case "compact":var h=20,g=90;break;default:h=61,g=50}a="http://api.tweetmeme.com/button.js?"+d.param(a);if(document&&document.referrer){var m=
document.referrer;m&&(a+="&o="+escape(m))}c.insertBefore(f,b);c.removeChild(b);d(f).attr({src:a,width:g,height:h,frameborder:0,scrolling:"no"});return f};d.bookmarklet.linkedIn=function(a){var b=this[0],c=b.parentNode,f=document.createElement("script"),h=document.createElement("script");d(f).attr({type:"in/share","data-url":a.url,"data-counter":a.counter});c.insertBefore(f,b);c.insertBefore(h,b);c.removeChild(b);d(h).attr({type:"text/javascript",src:"https://platform.linkedin.com/in.js"});return h};
d.bookmarklet.digg=function(a){var b=this[0],c=b.parentNode,f=document.createElement("a"),h=document.createElement("script");d(f).addClass("DiggThisButton").addClass(a.classname).attr({href:"https://digg.com/submit?url="+a.url+"&title="+a.title});c.insertBefore(f,b);c.insertBefore(h,b);c.removeChild(b);d(h).attr({type:"text/javascript",async:"true",src:"http://widgets.digg.com/buttons.js"});return h};d.bookmarklet.stumbleUpon=function(a){var b=this[0],c=b.parentNode,f=document.createElement("su:badge"),
h=document.createElement("script");d(f).attr({layout:a.layout,location:a.url});c.insertBefore(f,b);c.insertBefore(h,b);c.removeChild(b);d(h).attr({type:"text/javascript",src:"https://platform.stumbleupon.com/1/widgets.js"});return h};d.bookmarklet.twitter=function(a){var b=this[0],c=b.parentNode,f=document.createElement("a"),h=document.createElement("script");d(f).attr({"class":"twitter-share-button",href:"https://twitter.com/share","data-url":a.url,"data-counturl":a.url,"data-count":a.count,"data-via":a.via,
"data-text":a.text}).html("Tweet");c.insertBefore(f,b);c.insertBefore(h,b);c.removeChild(b);d(h).attr({type:"text/javascript",src:"https://platform.twitter.com/widgets.js"});return h};var a,b;d.bookmarklet.googlePlusOne=function(c){var f=this[0],h=f.parentNode,g=document.createElement("g:plusone");d(g).attr({size:c.size,href:c.href});h.insertBefore(g,f);h.removeChild(f);a?gapi&&gapi.plusone&&gapi.plusone.go(h):(clearTimeout(b),b=setTimeout(function(){var b=document.getElementsByTagName("head")[0],
c=document.createElement("script");b.appendChild(c);c.type="text/javascript";c.src="//apis.google.com/js/plusone.js";a=!0},1E3));return f};var f,h,c=function(){clearTimeout(h);h=setTimeout(function(){try{FB.XFBML.parse()}catch(a){}},1E3)};d.bookmarklet.facebookLike=function(a){var b=this[0],h=b.parentNode,g=document.createElement("fb:like");d(g).attr({"class":"fb-like","data-href":a.url,"data-send":a.send,"data-layout":a.layout,"data-action":a.verb,"data-locale":a.locale,"data-colorscheme":a.theme,
"data-show-faces":a.faces,"data-width":a.width}).css({height:a.height,width:a.width});h.insertBefore(g,b);h.removeChild(b);if(window.FB)c();else if(document.getElementById("fb-root")||d("<div id='fb-root'></div>").prependTo("body"),h=document.getElementById("facebook-jssdk"),!h)h=document.getElementsByTagName("head")[0],g=document.createElement("script"),h.appendChild(g),g.id="facebook-jssdk",g.src="//connect.facebook.net/"+a.locale+"/all.js#xfbml=1";else if(!f){if(!/xfbml/.test(h.src)){var m=window.fbAsyncInit;
window.fbAsyncInit=function(){d.isFunction(m)&&m();c()}}f=!0}return b};d.bookmarklet.pinterest=function(a){var b=this[0],c=b.parentNode,f=document.createElement("a"),h=document.createElement("script");d(f).attr({"class":"pin-it-button",href:"http://pinterest.com/pin/create/button/?url="+a.url+"&media="+a.media+"&description="+a.title,"count-layout":a.style}).html("Pin It");c.insertBefore(f,b);c.insertBefore(h,b);c.removeChild(b);d(h).attr({type:"text/javascript",src:"https://assets.pinterest.com/js/pinit.js"});
return h}};g();this.resolveWith(g)})})();(function(){FD31.module("checked",function(d){var g=function(){d.fn.checked=function(a,b){if(1>arguments.length)return this.is(":checked");this.each(function(f){var h=d(this);"boolean"==typeof a?h.attr("checked",a).prop("checked",a).trigger("change"):(h.is("input[type=checkbox]")||h.is("input[type=radio]"))&&h.unbind("change.checked").bind("change.checked",function(){try{return h.is(":checked")?a.apply(h):b.apply(h)}catch(c){}})});return this}};g();this.resolveWith(g)})})();
(function(){FD31.module("checkList",function(d){var g=function(){d.fn.checkList=function(a){a=d.extend({},{checkbox:".checkbox",masterCheckbox:".master-checkbox",check:function(){},uncheck:function(){},change:function(){}},a);var b=this,f=b.find(a.checkbox),h=b.find(a.masterCheckbox),c=!1,e=function(){if(!c){var e=f.filter(":checked"),d=f.not(":checked");1>e.length&&h.removeAttr("checked");e.length==f.length&&h.prop("checked",!0);a.change.call(b,e,d)}};f.checked(function(){a.check.apply(b);e()},function(){a.uncheck.apply(b);
e()});h.checked(function(){c=!0;f.checked(!0);c=!1;e()},function(){c=!0;f.checked(!1);c=!1;e()});e();return this}};g();this.resolveWith(g)})})();(function(){FD31.module("ui/autocomplete",function(d){var g=this;d.require().script("ui/core","ui/widget","ui/position","ui/menu").done(function(){var a=function(){(function(a,d){var h=0;a.widget("ui.autocomplete",{version:"1.10.4pre",defaultElement:"<input>",options:{appendTo:"#fd_.ui",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",
collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,e,d,f=this.element[0].nodeName.toLowerCase(),h="textarea"===f,f="input"===f;this.isMultiLine=h?!0:f?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[h||f?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly"))e=
d=c=!0;else{e=d=c=!1;var h=a.ui.keyCode;switch(f.keyCode){case h.PAGE_UP:c=!0;this._move("previousPage",f);break;case h.PAGE_DOWN:c=!0;this._move("nextPage",f);break;case h.UP:c=!0;this._keyEvent("previous",f);break;case h.DOWN:c=!0;this._keyEvent("next",f);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&(c=!0,f.preventDefault(),this.menu.select(f));break;case h.TAB:this.menu.active&&this.menu.select(f);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(f),
f.preventDefault());break;default:e=!0,this._searchTimeout(f)}}},keypress:function(d){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault();else if(!e){var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:this._move("previousPage",d);break;case f.PAGE_DOWN:this._move("nextPage",d);break;case f.UP:this._keyEvent("previous",d);break;case f.DOWN:this._keyEvent("next",d)}}},input:function(a){d?(d=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=
null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(c){c.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(c.target).closest(".ui-menu-item").length||
this._delay(function(){var c=this;this.document.one("mousedown",function(d){d.target===c.element[0]||d.target===e||a.contains(e,d.target)||c.close()})})},menufocus:function(c,e){if(this.isNewMenu&&(this.isNewMenu=!1,c.originalEvent&&/^mouse/.test(c.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(c.target).trigger(c.originalEvent)});return}var d=e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",c,{item:d})?c.originalEvent&&/^key/.test(c.originalEvent.type)&&
this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);
this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;
c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,e,d=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,d){d(a.ui.autocomplete.filter(c,e.term))}):"string"===typeof this.options.source?(e=this.options.source,this.source=function(c,f){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:e,data:c,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}):
this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=
!1;this.source({term:a},this._response())},_response:function(){var a=this,b=++h;return function(d){b===h&&a.__response(d);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&
(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var e=this.menu.element.empty();this._renderMenu(e,c);this.isNewMenu=!0;this.menu.refresh();e.show();
this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,e){var d=this;a.each(e,function(a,b){d._renderItemData(c,b)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(c,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(c)},
_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(c,e){var d=RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(c,function(a){return d.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):
this.options.messages.noResults,this.liveRegion.text(b))}})})(d);(function(a){function d(c,f){var h=RegExp(a.ui.autocomplete.escapeRegex(f),"i");return a.grep(c,function(c){return h.test(a("<div>").html(c.label||c.value||c).text())})}var h=a.ui.autocomplete.prototype,c=h._initSource;a.extend(h,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,b){b(d(this.options.source,a.term))}:c.call(this)},_renderItem:function(c,d){return a("<li></li>").data("item.autocomplete",
d).append(a("<a></a>")[this.options.html?"html":"text"](d.label)).appendTo(c)}})})(d)};a();g.resolveWith(a)})})})();(function(){FD31.module("ui/core",function(d){var g=function(){(function(a,b){function d(b,c){var e,f;e=b.nodeName.toLowerCase();if("area"===e){e=b.parentNode;f=e.name;if(!b.href||!f||"map"!==e.nodeName.toLowerCase())return!1;e=a("img[usemap=#"+f+"]")[0];return!!e&&h(e)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||c:c)&&h(b)}function h(b){return a.expr.filters.visible(b)&&
!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var c=0,e=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4pre",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,e){return"number"===
typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();e&&e.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,
"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var e;c.length&&c[0]!==document;){e=c.css("position");if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e)return e;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&
a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,e){return!!a.data(b,e[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||0<=c)&&d(b,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,e){function d(b,c,e,h){a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0;e&&(c-=
parseFloat(a.css(b,"border"+this+"Width"))||0);h&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var f="Width"===e?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(c){return c===b?g["inner"+e].call(this):this.each(function(){a(this).css(h,d(this,c)+"px")})};a.fn["outer"+e]=function(b,c){return"number"!==typeof b?g["outer"+e].call(this,b):this.each(function(){a(this).css(h,
d(this,b,!0,c)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,c,e){var d;b=a.ui[b].prototype;for(d in e)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([c,e[d]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<e.length;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===
a(b).css("overflow"))return!1;var e=c&&"left"===c?"scrollLeft":"scrollTop",d=!1;if(0<b[e])return!0;b[e]=1;d=0<b[e];b[e]=0;return d}});a(function(){0<a("body > #fd_.ui").length||a(document.createElement("div")).attr("id","fd_").addClass("ui").css({position:"absolute",top:0,left:0,overflow:"visible",width:0,height:0}).appendTo("body")})})(d)};g();this.resolveWith(g)})})();(function(){FD31.module("ui/widget",function(d){var g=function(){(function(a,b){var d=0,h=Array.prototype.slice,c=a.cleanData;a.cleanData=
function(b){for(var d=0,f;null!=(f=b[d]);d++)try{a(f).triggerHandler("remove")}catch(h){}c(b)};a.widget=function(b,c,d){var f,h,g,m,t={},u=b.split(".")[0];b=b.split(".")[1];f=u+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)};a[u]=a[u]||{};h=a[u][b];g=a[u][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)};a.extend(g,h,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});m=new c;m.options=a.widget.extend({},
m.options);a.each(d,function(b,e){a.isFunction(e)?t[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,f;this._super=a;this._superApply=d;f=e.apply(this,arguments);this._super=b;this._superApply=c;return f}}():t[b]=e});g.prototype=a.widget.extend(m,{widgetEventPrefix:h?m.widgetEventPrefix:b},t,{constructor:g,namespace:u,widgetName:b,widgetFullName:f});h?(a.each(h._childConstructors,
function(b,c){var e=c.prototype;a.widget(e.namespace+"."+e.widgetName,g,c._proto)}),delete h._childConstructors):c._childConstructors.push(g);a.widget.bridge(b,g)};a.widget.extend=function(c){for(var d=h.call(arguments,1),f=0,g=d.length,m,s;f<g;f++)for(m in d[f])s=d[f][m],d[f].hasOwnProperty(m)&&s!==b&&(a.isPlainObject(s)?c[m]=a.isPlainObject(c[m])?a.widget.extend({},c[m],s):a.widget.extend({},s):c[m]=s);return c};a.widget.bridge=function(c,d){var f=d.prototype.widgetFullName||c;a.fn[c]=function(g){var m=
"string"===typeof g,s=h.call(arguments,1),w=this;g=!m&&s.length?a.widget.extend.apply(null,[g].concat(s)):g;m?this.each(function(){var d,h=a.data(this,f);if(!h)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'");if(!a.isFunction(h[g])||"_"===g.charAt(0))return a.error("no such method '"+g+"' for "+c+" widget instance");d=h[g].apply(h,s);if(d!==h&&d!==b)return w=d&&d.jquery?w.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,f);b?
b.option(g||{})._init():a.data(this,f,new d(g,this))});return w}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0];this.element=a(c);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=
a();c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var f=c,h,g,m;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof c)if(f={},h=c.split("."),c=h.shift(),h.length){g=f[c]=a.widget.extend({},
this.options[c]);for(m=0;m<h.length-1;m++)g[h[m]]=g[h[m]]||{},g=g[h[m]];c=h.pop();if(d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];f[c]=d}this._setOptions(f);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),
this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var f,h=this;"boolean"!==typeof b&&(d=c,c=b,b=!1);d?(c=f=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,f=this.widget());a.each(d,function(d,g){function n(){if(b||!0!==h.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof g?h[g]:g).apply(h,arguments)}"string"!==typeof g&&
(n.guid=g.guid=g.guid||n.guid||a.guid++);var m=d.match(/^(\w+)\s*(.*)$/),r=m[1]+h.eventNamespace;(m=m[2])?f.delegate(m,r,n):c.bind(r,n)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},
mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var f,h=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(f in b)f in c||
(c[f]=b[f]);this.element.trigger(c,d);return!(a.isFunction(h)&&!1===h.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,f,h){"string"===typeof f&&(f={effect:f});var g,m=f?!0===f||"number"===typeof f?c:f.effect||c:b;f=f||{};"number"===typeof f&&(f={duration:f});g=!a.isEmptyObject(f);f.complete=h;f.delay&&d.delay(f.delay);if(g&&a.effects&&a.effects.effect[m])d[b](f);else if(m!==b&&d[m])d[m](f.duration,
f.easing,h);else d.queue(function(c){a(this)[b]();h&&h.call(d[0]);c()})}})})(d)};g();this.resolveWith(g)})})();(function(){FD31.module("ui/menu",function(d){var g=this;d.require().script("ui/widget").done(function(){var a=function(){(function(a,d){a.widget("ui.menu",{version:"1.10.4pre",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;
this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},
"click .ui-menu-item:has(a)":function(d){var c=a(d.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(d),c.has(".ui-menu").length?this.expand(d):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(d){var c=a(d.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active");
this.focus(d,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var e=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,e)},blur:function(d){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(d)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){a(d.target).closest(".ui-menu").length||this.collapseAll(d);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=a(this);d.data("ui-menu-submenu-carat")&&d.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(d){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var e,f,g,m,q=!0;switch(d.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(d);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(d);break;case a.ui.keyCode.HOME:this._move("first","first",d);break;case a.ui.keyCode.END:this._move("last","last",d);break;case a.ui.keyCode.UP:this.previous(d);break;case a.ui.keyCode.DOWN:this.next(d);break;case a.ui.keyCode.LEFT:this.collapse(d);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(d);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(d);
break;case a.ui.keyCode.ESCAPE:this.collapse(d);break;default:q=!1,e=this.previousFilter||"",f=String.fromCharCode(d.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,m=RegExp("^"+c(f),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())}),e=g&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e,e.length||(f=String.fromCharCode(d.keyCode),m=RegExp("^"+c(f),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return m.test(a(this).children("a").text())})),
e.length?(this.focus(d,e),1<e.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}q&&d.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var d,c=this.options.icons.submenu;d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=a(this),d=e.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(f);e.attr("aria-labelledby",d.attr("id"))});d=d.add(this.element);d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});d.children(":not(.ui-menu-item)").each(function(){var c=
a(this);/[^\-\u2014\u2013\s]/.test(c.text())||c.addClass("ui-widget-content ui-menu-divider")});d.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);this._super(a,b)},focus:function(a,b){var e;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(b);this.active=b.first();e=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);e=b.children(".ui-menu");e.length&&/^mouse/.test(a.type)&&this._startOpening(e);this.activeMenu=b.parent();this._trigger("focus",
a,{item:b})},_scrollIntoView:function(d){var c,e,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,c=d.offset().top-this.activeMenu.offset().top-c-e,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),d=d.height(),0>c?this.activeMenu.scrollTop(e+c):c+d>f&&this.activeMenu.scrollTop(e+c-f+d))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,
c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element);this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,b,e){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]());this.focus(e,d)},nextPage:function(d){var c,e,f;this.active?this.isLastItem()||(this._hasScroll()?(e=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){c=a(this);return 0>c.offset().top-e-f}),
this.focus(d,c)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(d)},previousPage:function(d){var c,e,f;this.active?this.isFirstItem()||(this._hasScroll()?(e=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){c=a(this);return 0<c.offset().top-e+f}),this.focus(d,c)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())):this.next(d)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(d){this.active=this.active||a(d.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(d,!0);this._trigger("select",d,c)}})})(d)};a();g.resolveWith(a)})})})();(function(){FD31.module("easing",function(d){var g=function(){d.easing.jswing=d.easing.swing;d.extend(d.easing,{def:"easeOutQuad",swing:function(a,b,f,h,c){return d.easing[d.easing.def](a,b,f,h,c)},easeInQuad:function(a,b,d,h,c){return h*
(b/=c)*b+d},easeOutQuad:function(a,b,d,h,c){return-h*(b/=c)*(b-2)+d},easeInOutQuad:function(a,b,d,h,c){return 1>(b/=c/2)?h/2*b*b+d:-h/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,h,c){return h*(b/=c)*b*b+d},easeOutCubic:function(a,b,d,h,c){return h*((b=b/c-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,h,c){return 1>(b/=c/2)?h/2*b*b*b+d:h/2*((b-=2)*b*b+2)+d},easeInQuart:function(a,b,d,h,c){return h*(b/=c)*b*b*b+d},easeOutQuart:function(a,b,d,h,c){return-h*((b=b/c-1)*b*b*b-1)+d},easeInOutQuart:function(a,
b,d,h,c){return 1>(b/=c/2)?h/2*b*b*b*b+d:-h/2*((b-=2)*b*b*b-2)+d},easeInQuint:function(a,b,d,h,c){return h*(b/=c)*b*b*b*b+d},easeOutQuint:function(a,b,d,h,c){return h*((b=b/c-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,d,h,c){return 1>(b/=c/2)?h/2*b*b*b*b*b+d:h/2*((b-=2)*b*b*b*b+2)+d},easeInSine:function(a,b,d,h,c){return-h*Math.cos(b/c*(Math.PI/2))+h+d},easeOutSine:function(a,b,d,h,c){return h*Math.sin(b/c*(Math.PI/2))+d},easeInOutSine:function(a,b,d,h,c){return-h/2*(Math.cos(Math.PI*b/c)-1)+d},
easeInExpo:function(a,b,d,h,c){return 0==b?d:h*Math.pow(2,10*(b/c-1))+d},easeOutExpo:function(a,b,d,h,c){return b==c?d+h:h*(-Math.pow(2,-10*b/c)+1)+d},easeInOutExpo:function(a,b,d,h,c){return 0==b?d:b==c?d+h:1>(b/=c/2)?h/2*Math.pow(2,10*(b-1))+d:h/2*(-Math.pow(2,-10*--b)+2)+d},easeInCirc:function(a,b,d,h,c){return-h*(Math.sqrt(1-(b/=c)*b)-1)+d},easeOutCirc:function(a,b,d,h,c){return h*Math.sqrt(1-(b=b/c-1)*b)+d},easeInOutCirc:function(a,b,d,h,c){return 1>(b/=c/2)?-h/2*(Math.sqrt(1-b*b)-1)+d:h/2*(Math.sqrt(1-
(b-=2)*b)+1)+d},easeInElastic:function(a,b,d,h,c){a=1.70158;var e=0,l=h;if(0==b)return d;if(1==(b/=c))return d+h;e||(e=0.3*c);l<Math.abs(h)?(l=h,a=e/4):a=e/(2*Math.PI)*Math.asin(h/l);return-(l*Math.pow(2,10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e))+d},easeOutElastic:function(a,b,d,h,c){a=1.70158;var e=0,l=h;if(0==b)return d;if(1==(b/=c))return d+h;e||(e=0.3*c);l<Math.abs(h)?(l=h,a=e/4):a=e/(2*Math.PI)*Math.asin(h/l);return l*Math.pow(2,-10*b)*Math.sin(2*(b*c-a)*Math.PI/e)+h+d},easeInOutElastic:function(a,
b,d,h,c){a=1.70158;var e=0,l=h;if(0==b)return d;if(2==(b/=c/2))return d+h;e||(e=0.3*c*1.5);l<Math.abs(h)?(l=h,a=e/4):a=e/(2*Math.PI)*Math.asin(h/l);return 1>b?-0.5*l*Math.pow(2,10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e)+d:l*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*c-a)*Math.PI/e)*0.5+h+d},easeInBack:function(a,b,d,h,c,e){void 0==e&&(e=1.70158);return h*(b/=c)*b*((e+1)*b-e)+d},easeOutBack:function(a,b,d,h,c,e){void 0==e&&(e=1.70158);return h*((b=b/c-1)*b*((e+1)*b+e)+1)+d},easeInOutBack:function(a,b,d,h,
c,e){void 0==e&&(e=1.70158);return 1>(b/=c/2)?h/2*b*b*(((e*=1.525)+1)*b-e)+d:h/2*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)+d},easeInBounce:function(a,b,f,h,c){return h-d.easing.easeOutBounce(a,c-b,0,h,c)+f},easeOutBounce:function(a,b,d,h,c){return(b/=c)<1/2.75?7.5625*h*b*b+d:b<2/2.75?h*(7.5625*(b-=1.5/2.75)*b+0.75)+d:b<2.5/2.75?h*(7.5625*(b-=2.25/2.75)*b+0.9375)+d:h*(7.5625*(b-=2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,f,h,c){return b<c/2?0.5*d.easing.easeInBounce(a,2*b,0,h,c)+f:0.5*d.easing.easeOutBounce(a,
2*b-c,0,h,c)+0.5*h+f}})};g();this.resolveWith(g)})})();(function(){FD31.module("scrollTo",function(d){var g=function(){(function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var d=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};d.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};d.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document",
"html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(h,c,e){"object"==typeof c&&(e=c,c=0);"function"==typeof e&&(e={onAfter:e});"max"==h&&(h=9E9);e=a.extend({},d.defaults,e);c=c||e.duration;e.queue=e.queue&&1<e.axis.length;e.queue&&(c/=2);e.offset=b(e.offset);e.over=b(e.over);return this._scrollable().each(function(){function l(a){m.animate(w,
c,e.easing,a&&function(){a.call(this,h,e)})}if(null!=h){var g=this,m=a(g),q=h,s,w={},t=m.is("html,body");switch(typeof q){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(q)){q=b(q);break}q=a(q,this);if(!q.length)return;case "object":if(q.is||q.style)s=(q=a(q)).offset()}a.each(e.axis.split(""),function(a,b){var c="x"==b?"Left":"Top",h=c.toLowerCase(),y="scroll"+c,D=g[y],C=d.max(g,b);s?(w[y]=s[h]+(t?0:D-m.offset()[h]),e.margin&&(w[y]-=parseInt(q.css("margin"+c))||0,w[y]-=parseInt(q.css("border"+
c+"Width"))||0),w[y]+=e.offset[h]||0,e.over[h]&&(w[y]+=q["x"==b?"width":"height"]()*e.over[h])):(c=q[h],w[y]=c.slice&&"%"==c.slice(-1)?parseFloat(c)/100*C:c);e.limit&&/^\d+$/.test(w[y])&&(w[y]=0>=w[y]?0:Math.min(w[y],C));!a&&e.queue&&(D!=w[y]&&l(e.onAfterFirst),delete w[y])});l(e.onAfter)}}).end()};a.fn.scrollIntoView=function(b){b=a(b);if(!(1>b.length)){var c=this.offset(),e=this.height(),c=c.top,d=c+e,f=b.offset(),g=b.height(),f=f.top;if(f+g>d)return this.scrollTo(b);if(f<c)return this.scrollTo(b,
{offset:-1*(e-g)})}};d.max=function(b,c){var e="x"==c?"Width":"Height",d="scroll"+e;if(!a(b).is("html,body"))return b[d]-a(b)[e.toLowerCase()]();var e="client"+e,f=b.ownerDocument.documentElement,g=b.ownerDocument.body;return Math.max(f[d],g[d])-Math.min(f[e],g[e])}})(d)};g();this.resolveWith(g)})})();(function(){FD31.module("ui/stars",function(d){var g=this;d.require().script("ui/core","ui/widget").done(function(){var a=function(){(function(a){a.widget("ui.stars",{_create:function(){function d(a,
b){if(-1!=a){var f=b?e.starHoverClass:e.starOnClass,l=b?e.starOnClass:e.starHoverClass;c.$stars.eq(a).prevAll("."+e.starClass).andSelf().removeClass(l).addClass(f);c.$stars.eq(a).nextAll("."+e.starClass).removeClass(e.starHoverClass+" "+e.starOnClass);c._showCap(e.id2title[a])}else h()}function h(){c.$stars.removeClass(e.starOnClass+" "+e.starHoverClass);c._showCap("")}var c=this,e=this.options,l=0;e.isSelect="select"==e.inputType;this.$form=a(this.element).closest("form");this.$selec=e.isSelect?
a("select",this.element):null;this.$rboxs=e.isSelect?a("option",this.$selec):a(":radio",this.element);this.$stars=this.$rboxs.map(function(d){var f=this.value,h=(e.isSelect?this.text:this.title)||this.value,g=e.isSelect&&this.defaultSelected||this.defaultChecked;0==d&&(e.split="number"!=typeof e.split?0:e.split,e.val2id=[],e.id2val=[],e.id2title=[],e.name=e.isSelect?c.$selec.get(0).name:this.name,e.disabled=e.disabled||(e.isSelect?a(c.$selec).attr("disabled"):a(this).attr("disabled")));if(f==e.cancelValue)return e.cancelTitle=
h,null;e.val2id[f]=l;e.id2val[l]=f;e.id2title[l]=h;g&&(e.checked=l,e.value=e.defaultValue=f,e.title=h);d=a("<div/>").addClass(e.starClass);f=a("<a/>").attr("title",e.showTitles?h:"").text(f);e.split&&(h=l%e.split,g=Math.floor(e.starWidth/e.split),d.width(g),f.css("margin-left","-"+h*g+"px"));l++;return d.append(f).get(0)});e.items=l;e.isSelect?this.$selec.remove():this.$rboxs.remove();this.$cancel=a("<div/>").addClass(e.cancelClass).append(a("<a/>").attr("title",e.showTitles?e.cancelTitle:"").text(e.cancelValue));
e.cancelShow&=!e.disabled&&!e.oneVoteOnly;e.cancelShow&&this.element.append(this.$cancel);this.element.append(this.$stars);void 0===e.checked&&(e.checked=-1,e.value=e.defaultValue=e.cancelValue,e.title="");this.$value=a('<input type="hidden" name="'+e.name+'" value="'+e.value+'" />');this.element.append(this.$value);this.$stars.bind("click.stars",function(a){if(!e.forceSelect&&e.disabled)return!1;var b=c.$stars.index(this);e.checked=b;e.value=e.id2val[b];e.title=e.id2title[b];c.$value.attr({disabled:e.disabled?
"disabled":"",value:e.value});d(b,!1);c._disableCancel();!e.forceSelect&&c.callback(a,"star")}).bind("mouseover.stars",function(){if(e.disabled)return!1;var a=c.$stars.index(this);d(a,!0)}).bind("mouseout.stars",function(){if(e.disabled)return!1;d(c.options.checked,!1)});this.$cancel.bind("click.stars",function(a){if(!e.forceSelect&&(e.disabled||e.value==e.cancelValue))return!1;e.checked=-1;e.value=e.cancelValue;e.title="";c.$value.val(e.value).attr({disabled:"disabled"});h();c._disableCancel();!e.forceSelect&&
c.callback(a,"cancel")}).bind("mouseover.stars",function(){if(c._disableCancel())return!1;c.$cancel.addClass(e.cancelHoverClass);h();c._showCap(e.cancelTitle)}).bind("mouseout.stars",function(){if(c._disableCancel())return!1;c.$cancel.removeClass(e.cancelHoverClass);c.$stars.triggerHandler("mouseout.stars")});this.$form.bind("reset.stars",function(){!e.disabled&&c.select(e.defaultValue)});a(window).unload(function(){c.$cancel.unbind(".stars");c.$stars.unbind(".stars");c.$form.unbind(".stars");c.$selec=
c.$rboxs=c.$stars=c.$value=c.$cancel=c.$form=null});this.select(e.value);e.disabled&&this.disable()},_disableCancel:function(){var a=this.options,b=a.disabled||a.oneVoteOnly||a.value==a.cancelValue;b?this.$cancel.removeClass(a.cancelHoverClass).addClass(a.cancelDisabledClass):this.$cancel.removeClass(a.cancelDisabledClass);this.$cancel.css("opacity",b?0.5:1);return b},_disableAll:function(){var a=this.options;this._disableCancel();a.disabled?this.$stars.filter("div").addClass(a.starDisabledClass):
this.$stars.filter("div").removeClass(a.starDisabledClass)},_showCap:function(a){var b=this.options;b.captionEl&&b.captionEl.text(a)},value:function(){return this.options.value},select:function(a){var b=this.options;a=a==b.cancelValue?this.$cancel:this.$stars.eq(b.val2id[a]);b.forceSelect=!0;a.triggerHandler("click.stars");b.forceSelect=!1},selectID:function(a){var b=this.options;a=-1==a?this.$cancel:this.$stars.eq(a);b.forceSelect=!0;a.triggerHandler("click.stars");b.forceSelect=!1},enable:function(){this.options.disabled=
!1;this._disableAll()},disable:function(){this.options.disabled=!0;this._disableAll()},destroy:function(){this.options.isSelect?this.$selec.appendTo(this.element):this.$rboxs.appendTo(this.element);this.$form.unbind(".stars");this.$cancel.unbind(".stars").remove();this.$stars.unbind(".stars").remove();this.$value.remove();this.element.unbind(".stars").removeData("stars")},callback:function(a,b){var c=this.options;c.callback&&c.callback(this,b,c.value,a);c.oneVoteOnly&&!c.disabled&&this.disable()}});
a.extend(a.ui.stars.prototype,{version:"2.1.1",options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"}})})(d)};a();g.resolveWith(a)})})})()});
FD31.installer("EasyBlog","definitions",function(g){g.module("easyblog/admin easyblog/dashboard easyblog/dashboard/blogimage easyblog/dashboard/editor easyblog/dashboard/medialink easyblog/easyblog easyblog/layout/responsive easyblog/layout/lightbox easyblog/legacy easyblog/featured easyblog/location easyblog/media easyblog/media/navigation easyblog/media/uploader easyblog/media/browser easyblog/media/browser.item easyblog/media/editor easyblog/ easyblog/media/constrain easyblog/media/editor.audio easyblog/media/editor.file easyblog/media/editor.image easyblog/media/editor.video easyblog/media/uploader.item easyblog/ratings easyblog/tag".split(" "));
g.require.template.loader("easyblog/media/recent.item easyblog/media/browser easyblog/media/browser.item-group easyblog/media/browser.item easyblog/media/browser.tree-item-group easyblog/media/browser.tree-item easyblog/media/browser.pagination-page easyblog/media/browser.uploader easyblog/media/browser.uploader.item easyblog/media/editor easyblog/media/editor.viewport easyblog/media/navigation.item easyblog/media/navigation.itemgroup easyblog/media/editor.audio easyblog/media/editor.audio.player easyblog/media/editor.file easyblog/media/editor.file.preview easyblog/media/editor.image easyblog/media/editor.image.variation easyblog/media/editor.image.caption easyblog/media/editor.video easyblog/media/editor.video.player easyblog/dashboard/dashboard.tags.item".split(" "));
g.require.language.loader("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER COM_EASYBLOG_MM_GETTING_IMAGE_SIZES COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS COM_EASYBLOG_MM_ITEM_INSERTED COM_EASYBLOG_MM_UPLOADING COM_EASYBLOG_MM_UPLOADING_STATE COM_EASYBLOG_MM_UPLOADING_PENDING COM_EASYBLOG_MM_UPLOAD_COMPLETE COM_EASYBLOG_MM_UPLOAD_PREPARING COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE COM_EASYBLOG_MM_UPLOADING_LEFT COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM COM_EASYBLOG_MM_CANCEL_BUTTON COM_EASYBLOG_MM_YES_BUTTON COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION".split(" "));
(function(){var d=g.stylesheet({content:""})?"resolve":"reject";g.each(["easyblog/fancybox/default"],function(m,a){g.require.stylesheet.loader(a)[d]()})})()});
FD31.installer("EasyBlog","scripts",function(g){EasyBlog.module("admin",function(d){var g=window.admin={blog:{reject:function(a){ejax.load("Pending","confirmRejectBlog",a)},approve:function(a,b){confirm(b)&&(window.location=eblog_site+"&c=pending&task=approve&cid[]="+a)}},settings:{importSettings:function(){ejax.load("settings","import")}},checkbox:{init:function(){d(".option-enable").click(function(){var a=d(this).parent();d(".option-disable",a).removeClass("selected");d(this).addClass("selected");
d(".radiobox",a).attr("value",1)});d(".option-disable").click(function(){var a=d(this).parent();d(".option-enable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",0)})}},pending:{reject:function(){}},spools:{preview:function(a){ejax.load("Spools","preview",a)}},teamblog:{markAdmin:function(a,b,d){window.location=eblog_site+"&c=teamblogs&task=markAdmin&teamid="+a+"&userid="+b+"&"+d+"=1"},removeAdmin:function(a,b){window.location=eblog_site+"&c=teamblogs&task=removeAdmin&teamid="+
a+"&userid="+b+"&"+token+"=1"}}};d(function(){var a=d("#submenu").attr("class");0<d("#submenu li").eq(4).length&&"settings"!=a&&ejax.load("Easyblog","appendPending");0<d("#system-message").length&&0==d(".eb-bootstrap").length&&(a=d("#system-message").html(),d("#system-message").remove(),d('<dl id="system-message">'+a+"</dl>").insertAfter("#toolbar-box"));d("body #settingsForm .admintable tr:odd").addClass("tr-odd");d(".admintable tr").hover(function(){d(this).addClass("tr-hover")},function(){d(this).removeClass("tr-hover")});
g.checkbox.init()});this.resolve()});EasyBlog.module("dashboard",function(d){EasyBlog.Controller("Dashboard",{defaultOptions:function(){}},function(d){return{init:function(){EasyBlog.dashboard=d},registerPlugin:function(a,b){void 0===d[a]&&(d[a]=b)}}});this.resolve()});EasyBlog.module("dashboard/blogimage",function(d){var g=this;EasyBlog.require().library("image").done(function(){EasyBlog.Controller("Dashboard.BlogImage",{defaultOptions:{"{placeHolder}":".blogImagePlaceHolder","{imageData}":".imageData",
"{image}":".image","{selectBlogImageButton}":".selectBlogImage","{removeBlogImageButton}":".removeBlogImage"}},function(a){return{init:function(){EasyBlog.dashboard.registerPlugin("blogImage",a);var b=d.trim(a.imageData().val());b&&a.setImage(d.parseJSON(b))},"{selectBlogImageButton} click":function(){EasyBlog.mediaManager.browse(null,"blogimage")},"{removeBlogImageButton} click":function(b){a.removeImage();b.blur()},removeImage:function(){a.image().remove();a.element.addClass("empty");a.imageData().val("")},
setImage:function(b){b&&(a.removeImage(),a.element.addClass("loading"),clearTimeout(a.imageTimer),b=d.extend({},b),delete b.data,d.Image.get(b.thumbnail.url).done(function(f){var h=function(){var b=a.placeHolder();maxWidth=b.width();maxHeight=b.height();b=d.Image.resizeWithin(f.data("width"),f.data("height"),maxWidth,maxHeight);b.top=(maxHeight-b.height)/2;b.left=(maxWidth-b.width)/2;return b},c=h(),e=function(){0===c.width||0===c.height?a.imageTimer=setTimeout(function(){c=h();e()},1E3):f.css(c)};
e();f.addClass("image").css(c).appendTo(a.placeHolder());a.imageData().val(JSON.stringify(b));a.element.removeClass("empty")}).fail(function(){a.element.addClass("empty")}).always(function(){a.element.removeClass("loading")}))}}});g.resolve()})});EasyBlog.module("dashboard/editor",function(d){EasyBlog.Controller("Dashboard.Editor",{defaultOptions:{editorId:"write_content"}},function(d){return{init:function(){EasyBlog.dashboard.registerPlugin("editor",d)},insert:function(a){window.jInsertEditorText(a,
d.options.editorId)},content:function(a){void 0!==a&&window.eblog.editor.setContent(a);return window.eblog.editor.getContent()}}});this.resolve()});EasyBlog.module("dashboard/medialink",function(d){EasyBlog.Controller("Dashboard.MediaLink",{defaultOptions:{"{menu}":".ui-togmenu","{content}":".ui-togbox"}},function(d){return{init:function(){},"{menu} click":function(a){var b=a.hasClass("active");d.menu().removeClass("active");d.content().removeClass("active");b||(a.addClass("active"),d.content("."+
a.attr("togbox")).addClass("active"))}}});this.resolve()});EasyBlog.require().library("ui/position","fancybox","bookmarklet","checked","checkList").script("layout/responsive","layout/lightbox","legacy").done();EasyBlog.module("layout/responsive",function(d){EasyBlog.options.responsive&&d(function(){d("#eblog-wrapper").responsive([{at:818,switchTo:"w768"},{at:600,switchTo:"w768 w600"},{at:500,switchTo:"w768 w600 w320"}])});this.resolve()});EasyBlog.module("layout/lightbox",function(d){var g=this;EasyBlog.require().library("fancybox").stylesheet("fancybox/default").script("legacy").done(function(){if(window.eblog_enable_lightbox){var a=
{showOverlay:!0,centerOnScroll:!0,overlayOpacity:0.7};window.eblog_lightbox_title||(a.helpers={title:!1});window.eblog_lightbox_enforce_size&&(a.maxWidth=window.eblog_lightbox_width,a.maxHeight=window.eblog_lightbox_height);eblog.images.initFancybox("a.easyblog-thumb-preview",a)}eblog.images.initCaption("img.easyblog-image-caption");g.resolve()})});EasyBlog.module("legacy",function(d){window.isSave=!1;var g=window.eblog={stream:{load:function(b){a.load("dashboard","loadStream",b)}},login:{toggle:function(){d("#easyblog-search-form").hide().siblings().removeClass("active");
d(".user-options").hide().siblings().removeClass("active");d("#easyblog-login-form").toggle();d("#easyblog-login-form").siblings().toggleClass("active")}},report:{show:function(b,d){EasyBlog.ajax("site.views.reports.show",{id:b,type:d},function(b,c){a.dialog({title:b,content:c})})}},search:{toggle:function(){d(".user-options").hide().siblings().removeClass("active");d("#easyblog-login-form").hide().siblings().removeClass("active");d("#easyblog-search-form").toggle();d("#easyblog-search-form").siblings().toggleClass("active")}},
toolbar:{dashboard:function(){d("#easyblog-search-form").hide();d("#easyblog-login-form").hide();d(".user-options").toggle();d(".user-options").siblings().toggleClass("active")}},images:{initFancybox:function(a,f){window.eblog_lightbox_strip_extension&&window.eblog_lightbox_title?d(a).each(function(){var a=d(this),b=a.attr("title")||"",b=b.split(".").reverse();/jpg|png|gif|xcf|odg|bmp|jpeg/.test(b[0].toLowerCase())&&b.splice(0,1);b=b.reverse().join(".");a.fancybox(d.extend(!0,{},f,{title:b}))}):d(a).fancybox(f)},
initCaption:function(a){d(a).each(function(a,b){b=d(b).removeClass("easyblog-image-caption");if(!(0<b.parents(".easyblog-image-caption-container").length)){var c=d(b).attr("src"),e=b.parent().hasClass("easyblog-thumb-preview"),g=function(a){a=a[0];var b=!1;d.each(a.parentNode.childNodes,function(c,e){e==a||d(e).hasClass("easyblog-image-caption")||d(e).hasClass("easyblog-thumb-preview")||(b=!0)});return b};b.one("load",function(){var a=e?b.parent():b,c=a.css("float");"none"==c&&(c=b.css("float"));
if("none"==c){var f=(b.attr("style")||"").split(";"),m={};d.each(f,function(a,b){var c=b.split(":");m[d.trim(c[0])]=d.trim(c[1])});"auto"==m["margin-left"]&&"auto"==m["margin-right"]&&(c="center")}if("none"==c){f=b.parent().attr("align");if(void 0===f||"none"==f)f=b.attr("align");switch(f){case "left":c="left";break;case "right":c="right";break;case "center":case "middle":c="center"}}/none|center/.test(c)||(c=(g(a)?"float":"align")+c);f=d("<span>").addClass("easyblog-image-caption-container orientation-"+
c);"center"==c||"alignright"==c||"alignleft"==c?(c=d("<span>"),a.wrap(c),a.parent().wrap(f)):a.wrap(f);c=d("<span>").addClass("easyblog-image-caption");c.width(a.outerWidth()).html(b.attr("title"));a.after(c)}).removeAttr("src").attr("src",c)}})}},captcha:{reload:function(){var b=d("#captcha-id").val();a.load("entry","reloadCaptcha",b)},reloadImage:function(a,f){d("#captcha-image").attr("src",f);d("#captcha-id").val(a);d("#captcha-response").val("")}},comments:{edit:function(b){a.load("entry","editComment",
b)},remove:function(b){a.load("entry","deleteComment",b)}},checkbox:{render:function(){d(".option-enable").click(function(){var a=d(this).parent();d(".option-disable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",1)});d(".option-disable").click(function(){var a=d(this).parent();d(".option-enable",a).removeClass("selected");d(this).addClass("selected");d(".radiobox",a).attr("value",0)})}},categories:{loadMore:function(a){d(a).parent().hide().next(".more-subcategories").show()}},
drafts:{getContent:null,frequency:15E3,chars:0,check:function(){var b=g.drafts.getContent();if("undefined"!=typeof b){var f=d("#title").val();(0<b.length||0<f.length&&f!=emptyText)&&a.load("dashboard","saveDraft",a.getFormVal("#blogForm"),b,"");setTimeout("eblog.drafts.check()",g.drafts.frequency)}},save:function(){g.editor.toggleSave();d(window).unbind("beforeunload");d("#form-task").val("savedraft");var a=g.editor.getContent(),a=d("<div>").html(a).html();d("#write_content_hidden").val(a);d("#blogForm").submit()}},
subscription:{show:function(b,d){a.load("subscription","showForm",b,d)},submit:function(b){g.loader.loading("eblog_loader");a.load("subscription","submitForm",b,a.getFormVal("#frmSubscribe"))}},dashboard:{logout:function(){d("#eblog-logout").submit()},changeCollab:function(a){d("#blog_contribute_source").val(a)},changeAuthor:function(b,f){a.dialog({width:700,height:500,title:b,content:"",beforeDisplay:function(){d(this).find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=d(this);
d("<iframe>").attr("src",f).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))}})},changeCategory:function(b,f){a.dialog({width:700,height:500,title:b,content:"",beforeDisplay:function(){d(this).find(".dialog-middle").css("padding",0)},afterDisplay:function(){var a=d(this);d("<iframe>").attr("src",f).css({width:a.find(".dialog-middle").width(),height:a.find(".dialog-middle").height(),border:"none"}).appendTo(a.find(".dialog-middle-content"))}})},
socialshare:{setActive:function(a){d(a).parent().toggleClass("active")}},drafts:{discard:function(b){a.load("dashboard","confirmDeleteDraft",b)},discardAll:function(){a.load("dashboard","confirmDeleteAllDraft")}},lists:{init:function(a){d("#dashboard-"+a).checkList({checkbox:".stackSelect",masterCheckbox:".stackSelectAll",change:function(a,b){this.parent(".ui-list-select").toggleClass("active",0<a.length);d("#select-actions").toggle(0<a.length)}})}},toggle:function(a){"block"==d(a).parent().next().css("display")?
(d(a).parent().addClass("ui-togbox"),d(a).parent().next().hide()):(d(a).parent().removeClass("ui-togbox"),d(a).parent().next().show())},quickpost:{notify:function(a,f){d("#eblog-message").removeClass("error info success").addClass(a);d("#eblog-message div").html(f);d("#eblog-message").show()},save:function(){g.loader.loading("quickpost-loading");var b=a.getFormVal("#quick-post");a.load("dashboard","save",b)},draft:function(){g.loader.loading("quickdraft-loading");var b=d("#eblog-post-content").val();
a.load("dashboard","quickSaveDraft",a.getFormVal("#quick-post"),b,"")}},settings:{submit:function(){if((""!=d("#password").val()||""!=d("#password2").val())&&d("#password").val()!=d("#password2").val())return d(".password-notice").show(),!1;d("#dashboard").submit()}},categories:{create:function(){"block"==d("#widget-create-category").css("display")?d("#widget-create-category").slideUp():d("#widget-create-category").slideDown();return!1},edit:function(b){a.load("dashboard","editCategory",b)},remove:function(b,
d){a.load("dashboard","confirmDeleteCategory",d,b)},quicksave:function(b){a.load("dashboard","quickSaveCategory",b)}},comments:{publish:function(b,d){a.load("dashboard","publishComment",b,d)},publishModerated:function(b,d){a.load("dashboard","publishModerateComment",b,d)},edit:function(b){a.load("dashboard","editComment",b)},remove:function(b,d){a.load("dashboard","confirmDeleteComment",d,b)}},action:function(b,f){var h=d("#"+b+"-action").val(),c="";d("#"+b+'-form INPUT[name="cid[]"]').each(function(){d(this).prop("checked")&&
(c=0==c.length?d(this).val():c+","+d(this).val())});if(""==c)g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING");else switch(h){case "copy":a.load("dashboard","copyForm",c);break;case "discardDraft":g.dashboard.drafts.discard(c);break;case "publishBlog":g.blog.togglePublish(c,"publish");break;case "unpublishBlog":g.blog.togglePublish(c,"unpublish");break;case "deleteBlog":g.blog.confirmDelete(c,f);break;case "rejectBlog":g.editor.reject(c);break;case "unpublishComment":g.dashboard.comments.publish(c,
"unpublish");break;case "publishComment":g.dashboard.comments.publish(c,"publish");break;case "removeComment":g.dashboard.comments.remove(f,c,"");break;default:g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING")}},videos:{insert:function(b){var f=d("#video-source").val(),h=d("#video-width").val(),c=d("#video-height").val();jInsertEditorText('[embed=videolink]{"video":"'+f+'","width":"'+h+'","height":"'+c+'"}[/embed]',b);a.closedlg()},showForm:function(b){try{IeCursorFix()}catch(d){}a.load("dashboard",
"showVideoForm",b)}},preview:function(b){var f=g.drafts.getContent();if("undefined"!=typeof f){var h=d("#eblog-wrapper #title").val();0<f.length&&0<h.length&&h!=emptyText?a.call("dashboard","saveDraft",[a.getFormVal("#blogForm"),f,""],{success:function(){var a=d("#draft_id").val();if(""!=a){var e=screen.width,f=screen.height;window.open(d.rootPath+"/index.php?option=com_easyblog&view=entry&layout=preview&draftid="+a+"&Itemid="+b,"","toolbar=no, location=no, directories=no, status=yes, menubar=yes, scrollbars=yes, resizable=yes, copyhistory=no, width="+
e+", height="+f+", top="+(screen.height/2-f/2)+", left="+(screen.width/2-e/2))}}}):0<f.length?g.system.alert("COM_EASYBLOG_PLEASE_SET_TITLE_BEFORE_PREVIEW","COM_EASYBLOG_ENTRY_PREVIEW_MODE"):g.system.alert("COM_EASYBLOG_ENTRY_PREVIEW_MODE_NO_CONTENT","COM_EASYBLOG_ENTRY_PREVIEW_MODE")}}},editor:{checkPublishStatus:function(){var b=d("#published").val(),f=d("#publish_down").val();if(""==f||"0000-00-00 00:00:00"==f)return g.editor.postSubmit(),!0;a.load("dashboard","checkPublishStatus",b,f);return!0},
cancelSubmit:function(){isSave=!1;d("#save_post").attr("disabled","");return!1},postSubmit:function(){d(window).unbind("beforeunload");d("#blogForm").submit()},save:function(){g.editor.toggleSave();var a=g.editor.getContent(),f=a.split('<hr id="system-readmore" />');1<f.length?(a=d.sanitizeHTML(f[0]),f=d.sanitizeHTML(f[1]),f=a+'<hr id="system-readmore" />'+f):f=d.sanitizeHTML(a);d("#write_content_hidden").val(f);d("#save_post_button").addClass("ui-disabled");d("#save_post_button").attr("disabled",
"disabled");g.editor.checkPublishStatus()},apply:function(){d("input[name=apply]").val(1);g.editor.save()},reject:function(b){a.load("Dashboard","confirmRejectBlog",b)},search:{load:function(){try{IeCursorFix()}catch(b){}a.load("search","search",d("#search-content").val())},insert:function(a,f,h){a='<a href="'+a+'">'+f+"</a>";switch(h){case "intro":d("#widget-write-introtext .ui-modhead").hasClass("ui-togbox")?g.editor.setIntro(a):jInsertEditorText(a,h);break;case "write_content":d("#widget-writepost .ui-modhead").hasClass("ui-togbox")?
g.editor.setContent(a):jInsertEditorText(a,h)}}},setIntro:null,setContent:null,getContent:null,datetimepicker:{element:function(a,f){d("#datetime_"+a).addClass("toggle-active");d("#datetime_edit_"+a).hide();var h,c,e,l,n,p;g.editor.datetimepicker.hideEditLink(a);g.editor.datetimepicker.hideEditLink(a);"publish_down"==a&&""==d("#"+a).val()&&(h=d("#publish_down_reset").val(),d("#"+a).val(h));""!=d("#"+a).val()?(h=d("#"+a).val().split(" "),n=h[1].split(":"),e=h[0].split("-"),h=e[2],c=e[1],e=e[0],l=n[0],
n=n[1]):(today=new Date,h=today.getDate(),c=today.getMonth()+1,e=today.getFullYear(),l=today.getHours(),n=today.getMinutes());l=parseInt(l,10);1>=n.length&&(n="0"+n);p=12<=l?"pm":"am";12<l&&(l-=12);"am"==p&&0==l&&(l=12);10>l&&(l="0"+l);var q;q=""+('<div class="dtpicker-wrap" id="dtpicker_'+a+'" style="display: none;">')+('\t<select tabindex="4" name="dt_month" id="dt_month_'+a+'">');q+='\t\t<option value="01" '+("01"==c?'selected="selected"':"")+">"+sJan+"</option>";q+='\t\t<option value="02" '+("02"==
c?'selected="selected"':"")+">"+sFeb+"</option>";q+='\t\t<option value="03" '+("03"==c?'selected="selected"':"")+">"+sMar+"</option>";q+='\t\t<option value="04" '+("04"==c?'selected="selected"':"")+">"+sApr+"</option>";q+='\t\t<option value="05" '+("05"==c?'selected="selected"':"")+">"+sMay+"</option>";q+='\t\t<option value="06" '+("06"==c?'selected="selected"':"")+">"+sJun+"</option>";q+='\t\t<option value="07" '+("07"==c?'selected="selected"':"")+">"+sJul+"</option>";q+='\t\t<option value="08" '+
("08"==c?'selected="selected"':"")+">"+sAug+"</option>";q+='\t\t<option value="09" '+("09"==c?'selected="selected"':"")+">"+sSep+"</option>";q+='\t\t<option value="10" '+("10"==c?'selected="selected"':"")+">"+sOct+"</option>";q+='\t\t<option value="11" '+("11"==c?'selected="selected"':"")+">"+sNov+"</option>";q+='\t\t<option value="12" '+("12"==c?'selected="selected"':"")+">"+sDec+"</option>";q+="\t</select>";q+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+
h+'" name="dt_day" id="dt_day_'+a+'">, ';q+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="4" size="4" value="'+e+'" name="dt_year" id="dt_year_'+a+'"> @ ';q+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+l+'" name="dt_hour" id="dt_hour_'+a+'"> : ';q+='\t<input type="text" autocomplete="off" tabindex="4" maxlength="2" size="2" value="'+n+'" name="dt_min" id="dt_min_'+a+'">';q+='\t<select tabindex="4" name="dt_ampm" id="dt_ampm_'+a+'">';q+=
'\t\t<option value="am" '+("am"==p?'selected="selected"':"")+">"+sAm+"</option>";q+='\t\t<option value="pm" '+("pm"==p?'selected="selected"':"")+">"+sPm+"</option>";q+="\t</select>";q+='\t<div class="dtpicker-action" id="dtpicker_action_'+a+'">';q+='\t\t<a class="dtpicker-save ui-button" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.save(\''+a+"')\">"+btnOK+"</a>";f&&(q+='\t\t<a class="dtpicker-reset" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.reset(\''+a+"')\">"+
btnReset+"</a>");q+='\t\t<a class="dtpicker-cancel" href="javascript:void(0);" onclick="eblog.editor.datetimepicker.cancel(\''+a+"')\">"+btnCancel+"</a>";q+="\t</div>";q+="</div>";d(q).insertAfter("#datetime_"+a);d("#dtpicker_"+a).slideDown("fast")},reset:function(a){d("#dtpicker_"+a).slideUp("fast");d("#"+a).val("");d("#datetime_"+a+" .datetime_caption").html(sNever);g.editor.datetimepicker.showEditLink(a)},cancel:function(a){d("#dtpicker_"+a).slideUp("fast");"publish_down"!=a||""!=d("#publish_down_ori").val()&&
"0000-00-00 00:00:00"!=d("#publish_down_ori").val()||d("#"+a).val("");d("#datetime_"+a).removeClass("toggle-active");g.editor.datetimepicker.showEditLink(a)},save:function(b){d("#dtpicker_"+b).slideUp("fast");d("#datetime_"+b).removeClass("toggle-active");var f,h,c,e,l;f=d("#dtpicker_"+b+" #dt_day_"+b).val();h=d("#dtpicker_"+b+" #dt_month_"+b).val();h=parseInt(h,10);10>h&&(h="0"+h);c=d("#dtpicker_"+b+" #dt_year_"+b).val();e=d("#dtpicker_"+b+" #dt_hour_"+b).val();if("pm"==d("#dtpicker_"+b+" #dt_ampm_"+
b).val())switch(parseInt(e,10)){case 12:break;default:e=parseInt(e,10)+12}else switch(parseInt(e)){case 12:e="00";break;default:1>=e.length&&(e="0"+e)}l=d("#dtpicker_"+b+" #dt_min_"+b).val();1>=l.length&&(l="0"+l);f=c+"-"+h+"-"+f+" "+e+":"+l+":00";d("#"+b).val(f);a.load("dashboard","updateDisplayDate",b,f);g.editor.datetimepicker.showEditLink(b)},showEditLink:function(a){d("#datetime_edit_"+a).show()},hideEditLink:function(a){d("#datetime_edit_"+a).hide()}},permalink:{edited:!1,generate:function(){""==
d("#title").val()||g.editor.permalink.edited||a.load("dashboard","getPermalink",d("#title").val())},edit:function(){"none"==d("#permalink-edit").css("display")?(g.editor.permalink.edited=!0,d("#permalink-edit").show(),d("#permalink-value").hide()):(d("#permalink-edit").hide(),d("#permalink-value").show())},save:function(){d("#permalink-url").html(d("#permalink-data").val());g.editor.permalink.edit()}}},tags:{search:{init:function(){d("#filter-tags").keyup(function(){var a=d.trim(d(this).val());d(".post-tags li").hide().filter(function(){return 0<=
(this.textContent||this.innerText||"").toUpperCase().indexOf(a.toUpperCase())}).show()})}}},loader:{item:null,loading:function(a){g.loader.item=a;d("#"+a).addClass("eblog_loader");d("#"+a).show()},doneLoading:function(){null!=g.loader.item&&d("#"+g.loader.item).removeClass("eblog_loader")}},comment:{likes:function(b,d,h){g.loader.loading("likes-"+b);a.load("Entry","likesComment",b,d,h)},save:function(){d("#eblog-message").removeClass("info error");d("#eblog-message").html("");g.loader.loading("comment-form-title");
finalData=a.getFormVal("#frmComment");a.load("Entry","commentSave",finalData);0<d("#empty-comment-notice").length&&d("#empty-comment-notice").fadeOut("100")},reply:function(a,f,h){d(".cancel_container").hide();d(".reply_container").show();d("#comment-reply-form-"+a).show();var c=d("#eblog-wrapper #frmComment").clone();d("#eblog-wrapper #frmComment").remove();d("#comment-reply-form-"+a).addClass("comment-form-inline").append(c);d("#parent_id").val(a);d("#comment_depth").val(f);h&&(f=d("#comment-title-"+
a).text(),f=""!=f?"RE:"+f:"",d("#title.inputbox").val(f));d(".comment-reply-no").removeClass("show-this");d(".comment-reply-yes").addClass("show-this");d("#toolbar-reply-"+a).removeClass("show-this");d("#toolbar-cancel-"+a).addClass("show-this");d("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action");0<d(".markItUpContainer").length&&(d("#comment").markItUpRemove(),d("#comment").markItUp(EasyBlogBBCodeSettings))},cancel:function(a){var f=d("#eblog-wrapper #comment-reply-form-"+a+
" #frmComment").clone();d("#eblog-wrapper #comment-reply-form-"+a+" #frmComment").remove();d("#eblog-wrapper #comment-separator").after(f);d("#parent_id").val("0");d("#comment_depth").val("0");d("#comment-reply-form-"+a).hide();d("#title.inputbox").val("");d("#toolbar-reply-"+a).toggleClass("show-this");d("#toolbar-cancel-"+a).toggleClass("show-this");d("#toolbar-cancel-"+a).parent(".comment-reply").toggleClass("in-action")},edit:function(){d("#eblog-message").removeClass("info error");d("#eblog-message").html("");
finalData=a.getFormVal("#frmComment");a.load("dashboard","updateComment",finalData)},action:function(b,f){var h=0,c="",e=d("#"+b).val();""==e?g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM","COM_EASYBLOG_WARNING"):(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val(),h++)}),0>=h?g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"):"unpublishComment"==e?a.load("dashboard","publishComment",
c,"0","comment"):"publishComment"==e?a.load("dashboard","publishComment",c,"1","comment"):"removeComment"==e&&g.comment.confirm(f,c,""))},confirm:function(a,d,h){g.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_COMMENT",'window.location = "'+(a+"&task=removeComment&commentId="+d)+'";',"CONFIRMATION")},displayInlineMsg:function(a,f){d("#eblog-message").removeClass("info error");d("#eblog-message").html(f);d("#eblog-message").addClass(a);"info"==a&&setTimeout(function(){d("#eblog-message").removeClass("info error");
d("#eblog-message").html("")},6E3)}},featured:{add:function(b,d){a.load("Latest","makeFeatured",b,d)},remove:function(b,d){a.load("Latest","removeFeatured",b,d)},slider:{holderWidth:0,element:[],autorotate:function(a){var f=d("#ezblog-featured .featured-a").children(),h=!1;d(f).each(function(){d(this).hasClass("active")&&!0!=h&&(0==d(this).next().length?d("#ezblog-featured .featured-a :first").click():d(this).next().click(),h=!0)});setTimeout("eblog.featured.slider.autorotate("+a+");",a)},init:function(a,
f,h){g.featured.slider.element[a]={width:parseInt(d("."+a).parent().width()),element:"."+a};var c=0;d(g.featured.slider.element[a].element).children().each(function(){c+=g.featured.slider.element[a].width});d(g.featured.slider.element[a].element).css("width",c);d(g.featured.slider.element[a].element).children().css("width",g.featured.slider.element[a].width);f&&(h=1E3*parseInt(h),setTimeout("eblog.featured.slider.autorotate("+h+");",h))},slide:function(a,f){var h=0,c=a;1!=a&&(h=g.featured.slider.element[f].width*
parseInt(a-1));d(g.featured.slider.element[f].element).animate({left:"-"+h+"px"},"slow");d(g.featured.slider.element[f].element).parent().parent().children("div.featured-navi").children().children().removeClass("active");d(g.featured.slider.element[f].element).parent().parent().children("div.featured-navi").children().children(".slider-navi-"+c).addClass("active")}}},spinner:{show:function(){d("#blogSubmitBtn").hide();d("#blogSubmitWait").show()},hide:function(){d("#blogSubmitWait").hide();d("#blogSubmitBtn").show()},
publish:function(a,f){1==f?d("#"+a+"Spinner").html('<img src="'+spinnerPath+'" alt="Loading">'):d("#"+a+"Spinner").html("")}},element:{focus:function(b){ele="#"+b;d(ele).focus();a.closedlg()}},blog:{publish:function(a,d,h){window.location=a+"&task=toggleBlogStatus&status="+h+"&blogId="+d},remove:function(b,f){var h="",c=f?f:"Dashboard";d.each(b,function(){g.spinner.publish(b,1);""!=h&&(h+=",");h+=this});a.load("Dashboard","deleteBlog",h,c)},confirmDelete:function(b,d){a.load("dashboard","confirmDelete",
b,d)},confirm:function(a,d,h){},approve:function(b,d){a.load("dashboard","confirmApproveBlog",d,b)},ajaxpublish:function(b,f,h){var c="";h=h?h:"Dashboard";d.each(b,function(){g.spinner.publish(b,1);""!=c&&(c+=",");c+=this});a.load("Dashboard","togglePublishStatus",c,f,h)},togglePublish:function(b,d){a.load("dashboard","togglePublish",b,d)},action:function(a,f){var h=0,c="",e=d("#"+a).val();"default"!=e&&(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():
c+","+d(this).val(),h++)}),0>=h?g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"):"unpublishBlog"==e?g.blog.togglePublish(c,"unpublish"):"publishBlog"==e?g.blog.togglePublish(c,"publish"):"deleteBlog"==e&&g.blog.confirmDelete(c,f))},tab:{init:function(){d(".tab_container").hide();d("div.tab-wrapper .tab_container:first").show();d(".tab_item:first").addClass("item-active");d("ul.tab_button li.tab_item a").click(function(){var a=d(this).parent();if(a.hasClass("item-active"))return!1;
a.siblings().each(function(){d(this).hasClass("item-active")&&d(this).removeClass("item-active")});a.addClass("item-active");d(".tab_container").hide();a=a.attr("id").split("-")[1];d("#section-"+a).show();return!1})}},unsubscribe:function(b,d){a.load("entry","confirmUnsubscribeBlog",b,d)}},tag:{remove:function(b,d){a.load("Dashboard","confirmDeleteTag",d,b)},edit:function(b){a.load("Dashboard","editTagDialog",b)},action:function(a,f){var h=0,c="",e=d("#"+a).val();""==e?g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ACTION_TO_PERFORM",
"COM_EASYBLOG_WARNING"):(d("#adminForm INPUT[name='cid[]']").each(function(){d(this).attr("checked")&&(c=0==c.length?d(this).val():c+","+d(this).val(),h++)}),0>=h?g.system.alert("COM_EASYBLOG_PLEASE_SELECT_ONE_ITEM_TO_CONTINUE","COM_EASYBLOG_WARNING"):"deleteTag"==e&&g.tag.confirm(f,c,""))},confirm:function(a,d,h){g.system.dialog("COM_EASYBLOG_ARE_YOU_SURE_YOU_WANT_TO_REMOVE_TAGS",'window.location = "'+(a+"&task=deleteTag&tagId="+d)+'";',"CONFIRMATION")},save:function(){finalData=a.getFormVal("#frmEditTag");
a.load("Dashboard","saveTag",finalData)}},socialshare:{share:function(b,d){g.spinner.publish(b,1);a.load("dashboard","ajaxSocialShare",b,d)}},twitter:{update:function(b){""!=b&&(g.spinner.publish(b,1),a.load("Dashboard","ajaxUpdateTwitter",b))}},form:{checkbox:{checkall:function(){d("#adminForm INPUT[type='checkbox']").each(function(){d("#toggle").attr("checked")?d(this).attr("checked",!0):d(this).attr("checked",!1)});return!1}}},trackback:{url:{copy:function(){d("#trackback-url").focus().select()}}},
system:{alert:function(b,d){a.alert(a.string(b),a.string(d),"450","auto")},dialog:function(b,d,h){d='<div class="dialog-actions"><input type="button" value="'+a.string("No")+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /><input type="button" value="'+a.string("Yes")+'" class="button" id="edialog-submit" name="edialog-submit" onclick="'+d+'" /></div>';b={title:a.string(h),content:a.string(b)+d};a.dialog(b)},loader:function(a){if(a){0<d("img#easyblog-loader").length&&
d("img#easyblog-loader").remove();a=new Image;a.src="/components/com_easyblog/assets/images/loader.gif";a.name="easyblog-loader";a.id="easyblog-loader";var f=d("div#eblog-wrapper"),h=f.width();divHeight=window.innerHeight||self.innerHeight||window.parent.document.body.clientHeight;f.prepend(a);d("img#easyblog-loader").css("marginTop",divHeight/2);d("img#easyblog-loader").css("marginLeft",h/2);d("img#easyblog-loader").css("position","absolute");d("img#easyblog-loader").css("z-index",10)}else 0<d("img#easyblog-loader").length&&
d("img#easyblog-loader").remove()}},teamblog:{join:function(b){a.load("TeamBlog","showDialog",String(b),"join")},leave:function(b){a.load("TeamBlog","showDialog",String(b),"leave")},leaveteam:function(){g.loader.loading("eblog_loader");a.load("teamblog","leaveTeam",a.getFormVal("#frmLeave"))},send:function(){g.loader.loading("eblog_loader");a.load("teamblog","addJoinRequest",a.getFormVal("#frmJoin"))},approve:function(){},reject:function(){}},calendar:{reload:function(b,d,h,c,e,g,n){a.load(b,d,h,
c,e,g,n)},showtooltips:function(a){d(".easyblog_calendar_tooltips").hide();d("#com_easyblog_calendar_day_"+a).show()}}},a=window.ejax={http:!1,format:"text",callback:function(a){},error:!1,getHTTPObject:function(){var a=!1;if("undefined"!=typeof ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(h){a=!1}}else if(XMLHttpRequest)try{a=new XMLHttpRequest}catch(c){a=!1}return a},call:function(b,d,h,c){b=[{view:b,callback:c},d];b=b.concat(h);
a.load.apply(this,b)},load:function(a,f){var h={success:function(){},error:function(){}};"object"==typeof a&&(h=d.extend(h,d.isFunction(a.callback)?{success:a.callback}:a.callback),a=a.view);url=eblog_site;url+="&tmpl=component";url+="&no_html=1";url+="&format=ejax";url+="&"+EasyBlog.getToken()+"=1";url+="&uid="+(new Date).getTime();var c="&view="+a+"&layout="+f;if(2<arguments.length)for(var e=2;e<arguments.length;e++){var g=arguments[e];if(d.isArray(g))for(var n=0;n<g.length;n++){var m=g[n];"string"==
typeof m&&(c+="&value"+(e-2)+"[]="+encodeURIComponent(m))}else m=g,"string"==typeof m&&(c+="&value"+(e-2)+"="+encodeURIComponent(m))}var q=this.getHTTPObject();if(q&&a&&f){var s=this;q.open("POST",url,!0);q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.onreadystatechange=function(){if(4==q.readyState)if(200==q.status){var a="";q.responseText&&(a=q.responseText);a=a.replace(/[\n\r]/g,"");try{a=eval(a)}catch(b){h.error&&h.error("Invalid response.")}s.process(a,h)}else s.error&&
(s.error(q.status),h.error&&h.error(q.status))};q.send(c)}},_string:[],string:function(b){if(void 0!=a._string[b])return a._string[b];var f=d.ajax({type:"POST",url:eblog_site+"&tmpl=component&no_html=1&controller=easyblog&task=ajaxGetSystemString",data:"data="+b,async:!1,cache:!0}).responseText;return a._string[b]=f},getFormVal:function(a){var f=[],h=null;d(":input",d(a)).each(function(){h=this.value.replace(/"/g,"&quot;");h=encodeURIComponent(h);d(this).is(":checkbox")||d(this).is(":radio")?d(this).prop("checked")&&
f.push(this.name+"="+escape(h)):f.push(this.name+"="+escape(h))});return f},process:function(b,f){for(var h=0;h<b.length;h++)switch(b[h][0]){case "script":eval("EasyBlog(function($){"+b[h][1]+"});");break;case "after":var c=b[h][1],e=b[h][2];d("#"+c).after(e);break;case "append":c=b[h][1];e=b[h][2];d("#"+c).append(e);break;case "assign":c=b[h][1];e=b[h][2];d("#"+c).html(e);break;case "value":c=b[h][1];e=b[h][2];d("#"+c).val(e);break;case "prepend":c=b[h][1];e=b[h][2];d("#"+c).prepend(e);break;case "destroy":c=
b[h][1];d("#"+c).remove();break;case "dialog":a.dialog(b[h][1]);break;case "alert":a.alert(b[h][1],b[h][2],b[h][3],b[h][4]);break;case "error":c=b[h].slice(1);f.error.apply(this,c);break;case "callback":c=b[h].slice(1),f.success.apply(this,c)}delete b},dialog:function(b){a._showPopup(b)},closedlg:function(){var b=d("#eblog-dialog"),f=d("#eblog-overlay"),h=b.data("options");f.hide();b.fadeOut(function(){h.afterClose.apply(b)});d(window).unbind(".dialog");d(document).unbind("keyup",a._attachPopupShortcuts)},
_attachPopupShortcuts:function(b){27==b.keyCode&&a.closedlg()},alert:function(b,d,h,c){var e='<div class="dialog-actions"><input type="button" value="'+a.string("COM_EASYBLOG_OK")+'" class="button" id="edialog-cancel" name="edialog-cancel" onclick="ejax.closedlg();" /></div>';a._showPopup({title:d,content:b+e,width:h,height:c})},_showPopup:function(b){b=d.extend({},{width:"500",height:"auto",type:"dialog",beforeDisplay:function(){},afterDisplay:function(){},afterClose:function(){}},b);var f=d("#eblog-overlay");
1>f.length&&(f='<div id="eblog-overlay"></div>',f=d(f).appendTo("body"),f.click(function(){a.closedlg()}));var h=d("#eblog-dialog");1>h.length&&(dialogTemplate='<div id="eblog-dialog">',dialogTemplate+='\t<div class="dialog">',dialogTemplate+='\t\t<div class="dialog-wrap">',dialogTemplate+='\t\t\t<div class="dialog-top">',dialogTemplate+="\t\t\t\t<h3></h3>",dialogTemplate+='\t\t\t\t<a href="javascript:void(0);" onclick="ejax.closedlg();" class="closeme">Close</a>',dialogTemplate+="\t\t\t</div>",dialogTemplate+=
'\t\t\t<div class="dialog-middle clearfix">',dialogTemplate+='\t\t\t\t<div class="dialog-middle-content"></div>',dialogTemplate+="\t\t\t</div>",dialogTemplate+="\t\t</div>",dialogTemplate+="\t</div>",dialogTemplate+="</div>",h=d(dialogTemplate).appendTo("body"));h.data("options",b);var c=h.find(".dialog-top h3");b.title=null!=b.title?b.title:"&nbsp;";c.html(unescape(b.title));d("#eblog-dialog .dialog-middle-content").css({width:"auto"==b.width?"auto":parseInt(b.width),height:"auto"==b.height?"auto":
parseInt(b.height)}).html(b.content);b.beforeDisplay.apply(h);var e=function(){h.css({top:0,left:0}).position({my:"center",at:"center",of:window});f.css({width:d(document).width(),height:d(document).height()}).show()};h.show(0,function(){e();var a;d(window).bind("resize.dialog scroll.dialog",function(){clearTimeout(a);a=setTimeout(e,50)})});h.fadeOut(0,function(){h.fadeIn(function(){b.afterDisplay.apply(h)})});d(document).on("click.eb.dialog","#edialog-cancel, #edialog-submit",function(){a.closedlg()});
d(document).bind("keyup",a._attachPopupShortcuts)}};this.resolve()});EasyBlog.module("featured",function(d){var g=this;EasyBlog.require().done(function(){EasyBlog.Controller("Featured.Scroller",{defaultOptions:{elements:null,itemWidth:null,autorotate:{enabled:!1,interval:50},"{placeHolder}":".slider-holder","{slider}":".featured-entries","{sliderItems}":".slider-holder ul li","{sliderNavigation}":".featured-navi .featured-a a"}},function(a){return{init:function(){a.options.itemWidth=a.placeHolder().width()+
1;var b=a.sliderItems().length*parseInt(a.options.itemWidth);a.slider().css("width",b);a.sliderItems().css("width",a.options.itemWidth);a.options.autorotate.enabled&&setTimeout(function(){a.initAutoRotate()},1E3*parseInt(a.options.autorotate.interval))},nextItem:function(b){var f=d(b).data("slider"),h=0;1!=f&&(h=a.options.itemWidth*parseInt(f-1));a.slider().children(":nth-child("+f+")").show();a.slider().animate({left:"-"+h+"px"},"slow");a.sliderNavigation(".active").removeClass("active");d(b).addClass("active")},
"{sliderNavigation} click":function(b){a.nextItem(b)},initAutoRotate:function(){var b=!1;a.sliderNavigation().each(function(){d(this).hasClass("active")&&!0!=b&&(0==d(this).next().length?a.nextItem(a.sliderNavigation(":first")):a.nextItem(d(this).next()),b=!0)});setTimeout(function(){a.initAutoRotate()},1E3*parseInt(a.options.autorotate.interval))}}});g.resolve()})});EasyBlog.module("location",function(d){var g=this;EasyBlog.require().library("ui/autocomplete").done(function(){EasyBlog.Controller("Location.Form",
{defaultOptions:{language:"en",initialLocation:null,mapType:"ROADMAP","{locationInput}":".locationInput","{locationLatitude}":".locationLatitude","{locationLongitude}":".locationLongitude","{locationMap}":".locationMap","{autoDetectButton}":".autoDetectButton"}},function(a){return{init:function(){var b=d.uid("ext");window[b]=function(){d.___GoogleMaps.resolve()};d.___GoogleMaps||(d.___GoogleMaps=d.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+
a.options.language+"&callback="+b));d.___GoogleMaps.done(function(){a._init()})},_init:function(b,f){a.geocoder=new google.maps.Geocoder;a.hasGeolocation=void 0!==navigator.geolocation;a.hasGeolocation?a.autoDetectButton().show():a.autoDetectButton().remove();a.locationInput().autocomplete({delay:300,minLength:0,source:a.retrieveSuggestions,select:function(b,e){a.locationInput().autocomplete("close");a.setLocation(e.item.location)}}).prop("disabled",!1);a.autocomplete=a.locationInput().autocomplete("widget");
a.autocomplete.addClass("location-suggestion");var h=d.trim(a.options.initialLocation);h&&a.getLocationByAddress(h,function(b){a.setLocation(b[0])});a.busy(!1)},busy:function(b){a.locationInput().toggleClass("loading",b)},getUserLocations:function(b){a.getLocationAutomatically(function(d){a.userLocations=a.buildDataset(d);b&&b(d)})},getLocationByAddress:function(b,d){a.geocoder.geocode({address:b},d)},getLocationByCoords:function(b,d,h){a.geocoder.geocode({location:new google.maps.LatLng(b,d)},h)},
getLocationAutomatically:function(b,d){if(!navigator.geolocation)return d("ERRCODE","Browser does not support geolocation or do not have permission to retrieve location data.");navigator.geolocation.getCurrentPosition(function(d){a.getLocationByCoords(d.coords.latitude,d.coords.longitude,b)},d)},renderMap:function(b,d){a.busy(!0);a.locationMap().show();var h=new google.maps.Map(a.locationMap()[0],{zoom:15,center:b.geometry.location,mapTypeId:google.maps.MapTypeId[a.options.mapType],disableDefaultUI:!0}),
c=new google.maps.Marker({position:b.geometry.location,center:b.geometry.location,title:b.formatted_address,map:h}),e=new google.maps.InfoWindow({content:d});google.maps.event.addListener(h,"tilesloaded",function(){e.open(h,c);a.busy(!1)})},setLocation:function(b){b&&(a.locationResolved=!0,a.lastResolvedLocation=b,a.locationInput().val(b.formatted_address),a.locationLatitude().val(b.geometry.location.lat()),a.locationLongitude().val(b.geometry.location.lng()),a.renderMap(b,b.formatted_address))},
removeLocation:function(){a.locationResolved=!1;a.locationInput().val("");a.locationLatitude().val("");a.locationLongitude().val("");a.locationMap().hide()},buildDataset:function(a){return d.map(a,function(a){return{label:a.formatted_address,value:a.formatted_address,location:a}})},retrieveSuggestions:function(b,d){a.busy(!0);var h=b.term,c=function(b){d(b);a.busy(!1)};""==h?c(a.userLocations||[]):a.getLocationByAddress(h,function(b){c(a.buildDataset(b))})},suggestUserLocations:function(){a.hasGeolocation&&
a.userLocations&&(a.removeLocation(),a.locationInput().autocomplete("search",""));a.busy(!1)},"{locationInput} blur":function(){setTimeout(function(){var b=d.trim(a.locationInput().val());""==b?a.removeLocation():a.locationResolved?b!=a.lastResolvedLocation.formatted_address&&a.setLocation(a.lastResolvedLocation):a.removeLocation()},250)},"{autoDetectButton} click":function(){a.busy(!0);a.hasGeolocation&&!a.userLocations?a.getUserLocations(a.suggestUserLocations):a.suggestUserLocations()}}});EasyBlog.Controller("Location.Map",
{defaultOptions:{animation:"drop",language:"en",useStaticMap:!1,disableMapsUI:!0,zoom:5,fitBounds:null,minZoom:null,maxZoom:null,center:null,locations:[],mapType:"ROADMAP",width:500,height:400,"{locationMap}":".locationMap"}},function(a){return{init:function(){a.mapLoaded=!1;var b=d.uid("ext");window[b]=function(){d.___GoogleMaps.resolve()};if(!0==a.options.useStaticMap){var f="&language="+String(a.options.language),h="&size="+String(a.options.width)+"x"+String(a.options.height),b="&zoom="+String(a.options.zoom),
c="&center="+String(parseFloat(a.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(a.options.locations[0].longitude).toFixed(6)),e="&maptype="+google.maps.MapTypeId[a.options.mapType],g="&markers=",f="https://maps.googleapis.com/maps/api/staticmap?sensor=false"+f+h;if(1==a.options.locations.length)g+=String(parseFloat(a.options.locations[0].latitude).toFixed(6))+","+String(parseFloat(a.options.locations[0].longitude).toFixed(6)),f+=b+c+e+g;else{var n=[];d.each(a.options.locations,function(a,
b){n.push(String(parseFloat(b.latitude).toFixed(6))+","+String(parseFloat(b.longitude).toFixed(6)))});g+=n.join("|");f+=g+e}a.locationMap().show().html('<img src="'+f+'" />');a.busy(!1)}else b=d.uid("ext"),window[b]=function(){d.___GoogleMaps.resolve()},d.___GoogleMaps||(d.___GoogleMaps=d.Deferred(),EasyBlog.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+a.options.language+"&callback="+b)),d.___GoogleMaps.done(function(){a._init()})},_init:function(){null===
a.options.fitBounds&&(a.options.fitBounds=1==a.options.locations.length?!1:!0);a.options.disableMapsUI=Boolean(a.options.disableMapsUI);a.locations=[];d.each(a.options.locations,function(b,d){"null"!=d.latitude&&"null"!=d.longitude&&a.locations.push(new google.maps.LatLng(d.latitude,d.longitude))});0<a.locations.length&&a.renderMap();a.busy(!1)},busy:function(b){a.locationMap().toggleClass("loading",b)},renderMap:function(){a.busy(!0);a.locationMap().show();var b;b=a.options.center?new google.maps.LatLng(center.latitude,
center.longitude):a.locations[0];a.map=new google.maps.Map(a.locationMap()[0],{zoom:parseInt(a.options.zoom),minZoom:parseInt(a.options.minZoom),maxZoom:parseInt(a.options.maxZoom),center:b,mapTypeId:google.maps.MapTypeId[a.options.mapType],disableDefaultUI:a.options.disableMapsUI});google.maps.event.addListener(a.map,"tilesloaded",function(){!1==a.mapLoaded&&(a.mapLoaded=!0,a.loadLocations())})},loadLocations:function(){a.bounds=new google.maps.LatLngBounds;a.infoWindow=[];setTimeout(function(){d.each(a.locations,
function(b,d){a.bounds.extend(d);setTimeout(function(){a.addMarker(d,a.options.locations[b])},100*(b+1))});a.options.fitBounds&&a.map.fitBounds(a.bounds)},500)},addMarker:function(b,d){if(b){var h=new google.maps.Marker({position:b,map:a.map});h.setAnimation(google.maps.Animation.DROP);a.addInfoWindow(h,d)}},addInfoWindow:function(b,f){var h=f.content;h||(h=f.address);var c=new google.maps.InfoWindow;c.setContent(h);a.infoWindow.push(c);1<a.options.locations.length?google.maps.event.addListener(b,
"click",function(){d.each(a.infoWindow,function(a,b){b.close()});c.open(a.map,b)}):(google.maps.event.addListener(b,"click",function(){c.open(a.map,b)}),c.open(a.map,b));f.ratingid&&google.maps.event.addListener(c,"domready",function(){d.each(f.ratingid,function(a,b){eblog.ratings.setup("ebpostmap_"+b+"-ratings",!0,"entry");d("#ebpostmap_"+b+"-ratings").removeClass("ui-state-disabled");d("#ebpostmap_"+b+"-ratings-form").find(".blog-rating-text").hide();d("#ebpostmap_"+b+"-ratings .ratings-value").hide()})})}}});
g.resolve()})});EasyBlog.module("media",function(d){var g=this,a=function(a){return d("<div>").text(a).html().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},b,f;EasyBlog.Controller("Media",{defaultOptions:{debug:{logging:EasyBlog.debug,itemVisibility:!1,delayConfiguration:0,delayCommon:0,delayBrowser:0,delayUploader:0,delayEditor:0},ui:"#EasyBlogMediaManagerUI",overlay:{background:"black",opacity:0},modal:{size:0.9},recentActivities:{hideAfter:3E3},"{modalGroup}":".mediaModalGroup",
"{modal}":".mediaModal","{loaderModal}":".loaderModal","{uploaderModal}":".uploaderModal","{browserModal}":".browserModal","{editorModal}":".editorModal","{modalContent}":".modalContent","{overlay}":".media-overlay","{modalDashboardButton}":".dashboardButton","{assetItem}":".assetItem"}},function(a){return{console:function(b,d){if(a.options.debug.logging){var f=window.console;f&&(b=f[b])&&(b.apply?b.apply(f,d):b(d.join(" ")))}},assets:{},getAsset:function(b){void 0===a.assets[b]&&(a.assets[b]=d.Deferred()).done(function(){a.assetItem(".asset-type-"+
b).removeClass("loading done failed").addClass("done")}).fail(function(){a.assetItem(".asset-type-"+b).removeClass("loading done failed").addClass("fail")});return a.assets[b]},createAsset:function(b,d,f){var h=a.getAsset(b);h.factory=d;setTimeout(function(){h.factory&&h.factory(h)},f);return h},init:function(){b=a;a.IE=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}();
if("undefined"!=typeof tinyMCE&&tinyMCE&&tinyMCE.isIE&&9==a.IE)var e=setInterval(function(){var b=tinyMCE.editors.write_content;b&&(d(b.contentWindow).off("keydown.mediaManager mousedown.mediaManager focus.mediaManager").on("keydown.mediaManager mousedown.mediaManager focus.mediaManager",function(){a.bookmark={element:b.selection.getEnd(),range:b.selection.getBookmark(1).rng}}),clearInterval(e))},500);a.originalBodyOverflow=d("body").css("overflow");a.createAsset("configuration",function(b){EasyBlog.module("media/configuration").done(function(){a.initialize(this);
b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayConfiguration);a.createAsset("common",function(a){EasyBlog.require().script("media/navigation").view("media/recent.item","media/browser","media/browser.item-group","media/browser.item","media/browser.tree-item-group","media/browser.tree-item","media/browser.pagination-page","media/browser.uploader","media/browser.uploader.item","media/editor","media/editor.viewport","media/navigation.item","media/navigation.itemgroup").language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER",
"COM_EASYBLOG_MM_GETTING_IMAGE_SIZES","COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS","COM_EASYBLOG_MM_ITEM_INSERTED","COM_EASYBLOG_MM_UPLOADING","COM_EASYBLOG_MM_UPLOADING_STATE","COM_EASYBLOG_MM_UPLOADING_PENDING","COM_EASYBLOG_MM_UPLOAD_COMPLETE","COM_EASYBLOG_MM_UPLOAD_PREPARING","COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE","COM_EASYBLOG_MM_UPLOADING_LEFT","COM_EASYBLOG_MM_CONFIRM_DELETE_ITEM","COM_EASYBLOG_MM_CANCEL_BUTTON","COM_EASYBLOG_MM_YES_BUTTON","COM_EASYBLOG_MM_ITEM_DELETE_CONFIRMATION").done(function(){a.resolve()}).fail(function(){a.reject()})},
a.options.debug.delayCommon);a.createAsset("uploader",function(b){d.when(a.getAsset("configuration"),a.getAsset("common"),EasyBlog.require().script("media/uploader").done()).done(function(){var e=a.createModal("uploader");e.controller=new EasyBlog.Controller.Media.Uploader(e.element,a.options.uploader);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayUploader);a.createAsset("browser",function(b){d.when(a.getAsset("configuration"),a.getAsset("common"),EasyBlog.require().script("media/browser").done()).done(function(){var e=
a.createModal("browser");e.controller=new EasyBlog.Controller.Media.Browser(e.element,a.options.browser);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayBrowser);a.createAsset("editor",function(b){d.when(a.getAsset("browser"),EasyBlog.require().script("media/editor").done()).done(function(){var e=a.createModal("editor");e.controller=new EasyBlog.Controller.Media.Editor(e.element,a.options.editor);b.resolve()}).fail(function(){b.reject()})},a.options.debug.delayEditor);a.setLayout=
d.debounce(a._setLayout,200)},initialize:function(b){var h={controller:{media:a}};b=d.extend(!0,b,{browser:h,uploader:h,library:h,editor:h,exporter:h});a.update(b);f=b.directorySeparator;b=d(a.options.ui);a.element.append(b.html());b.remove();a.overlay().css(a.options.overlay);a.loader=new EasyBlog.Controller.Media.Loader(a.createModal("loader"),{controller:{media:a}});a.element.implement(EasyBlog.Controller.Media.Library,a.options.library,function(){});a.element.implement(EasyBlog.Controller.Media.Exporter,
a.options.exporter);g.resolve()},setLayout:function(){a._setLayout()},_setLayout:function(){a.layout=a.element.hasClass("active")?d.uid():null;a.layout&&a.setModalLayout();return a.layout},modals:{},createModal:function(b){var f=a.modal("."+b+"Modal");1>f.length&&(f=d('<div class="mediaModal"></div>').addClass(b+"Modal").appendTo(a.modalGroup()));return a.modals[b]={name:b,element:f}},activateModal:function(b,d){if(void 0===a.modals[b])a.loader.when(a.assets[b]).done(function(){setTimeout(function(){a.activateModal(b,
d)},1E3)});else{if(a.currentModal===b)return!0;var f=a.modals[b];if(!f)return!1;a.deactivateModal(a.currentModal);a.currentModal=b;a.show();(f=f.controller)&&f.trigger("modalActivate",d);return!0}},deactivateModal:function(b,d){var f=a.modals[b];if(!f)return!1;var h=f.controller;if(h)try{h.trigger("modalDeactivate",d)}catch(g){console.error(g)}f.element.removeClass("active");a.currentModal=void 0;return!0},setModalLayout:function(){clearTimeout(a.setModalLayout.task);var b=a.modals[a.currentModal];
if(b){if(!a.layout)return a._setLayout();b.element.addClass("active");var f=b.controller;if(f&&d.isFunction(f.setLayout)){var h=function(){var b=f.element.offset();0===b.top||0===b.left?a.setModalLayout.task=setTimeout(h,50):f.setLayout()};h()}}},show:function(){a.element.addClass("active");a._setLayout();a.trigger("showModal")},hide:function(){a.element.removeClass("active");a.deactivateModal(a.currentModal);a.trigger("hideModal")},"{overlay} click":function(){a.hide()},"{window} resize":function(){a.setLayout()},
"{modalDashboardButton} click":function(b,d){if(d.shiftKey)return a.console("dir",[a]);a.hide()},upload:function(){a.activateModal("uploader",arguments)},browse:function(){a.activateModal("browser",arguments)},edit:function(){a.activateModal("editor",arguments)}}});EasyBlog.Controller("Media.Loader",{defaultOptions:{}},function(a){return{init:function(){},when:function(){a.media.activateModal("loader");var b=d.when.apply(null,arguments),f=b.done;b.id=d.uid();b.done=function(d){f(function(){a.currentQueueId==
b.id&&d&&d()})};a.currentQueueId=b.id;return b},"{self} hide":function(){a.currentQueueId=null}}});EasyBlog.Controller("Media.Prompt",{defaultOptions:{"{dialog}":".modalPromptDialog","{cancelButton}":".promptCancelButton"}},function(a){return{init:function(){},get:function(b){b=a.dialog("."+b);return a.instantiate(b)},instantiate:function(b){var d={element:b,show:function(){b.addClass("active");a.element.addClass("active");return d},hide:function(){b.removeClass("active");a.element.removeClass("active");
return d},state:function(a){var c=b.data("lastPromptState");if(void 0===a)return c;var f=b.find(".promptState.state-"+a),c=b.find(".promptState.state-"+c);if(!(1>f.length))return c.removeClass("active"),f.addClass("active"),b.data("lastPromptState",a),d}};return d},hideAll:function(){a.dialog().removeClass("active");a.element.removeClass("active")},"{cancelButton} click":function(){a.hideAll()}}});EasyBlog.Controller("Media.Library",{defaultOptions:{places:[],place:{files:{},acl:{canCreateFolder:!1,
canUploadItem:!1,canRenameItem:!1,canRemoveItem:!1,canCreateVariation:!1,canDeleteVariation:!1},populateImmediately:!1}}},function(a){return{init:function(){a.media.library=a;d.each(a.options.places,function(b,d){a.addPlace(d)})},places:{},getPlace:function(b){if(b){if(b.acl)return b;if("string"===typeof b)return a.places[b.split("|")[0]]}},addPlace:function(b){b=a.places[b.id]=d.extend({tasks:d.Threads({threadLimit:1}),ready:d.Deferred(),baseFolder:function(){return a.getMeta(b.id+"|"+a.media.options.directorySeparator)}},
a.options.place,b);b.done=b.ready.done;b.fail=b.ready.fail;b.always=b.ready.always;b.files=function(a){if(!d.isEmptyObject(a)){if("string"===typeof a)try{a=d.parseJSON(a)}catch(b){}return"object"===typeof a?a:void 0}}(b.files);b.files&&b.tasks.add(function(){a.importMeta(b.files);b.ready.resolve(b)});b.populate=function(){if(void 0!==b.populate.task)return b.populate.task;b.populate.task=d.Deferred();b.populate[/easysocial|jomsocial|flickr/.test(b.id)||b.files?"getFileTree":"getFolderTree"]();return b.populate.task};
b.populate.getFolderTree=function(){return a.getRemoteMeta({place:b.id,foldersOnly:1}).done(function(d){b.tasks.add(function(){a.importMeta(d);b.ready.resolve(b)});b.populate.getFileTree()}).fail(function(){b.populate.task.reject(b);delete b.populate.task;b.ready.reject(b)})};b.populate.getFileTree=function(){return a.getRemoteMeta({place:b.id}).done(function(d){b.tasks.add(function(){a.importMeta(d);b.ready.resolve(b);b.populate.task.resolve(b)})}).fail(function(){b.populate.task.reject(b);delete b.populate.task})};
b.populateImmediately&&b.populate();return b},meta:{},metadata:{},isMeta:function(a){return!(void 0===a||!d.isPlainObject(a)||d.isEmptyObject(a))},get:function(b){if(a.meta.hasOwnProperty(b)){var f=d.extend({},a.meta[b]);f.data=a.metadata[b];return f}},getKey:function(a){return a?a.place+"|"+a.path:null},getParentKey:function(b){if(b){b="string"===typeof b?b:b.key||a.getKey(b);var d=b.indexOf(f),h=b.lastIndexOf(f);return h===b.length-1?void 0:b.substring(0,h+(d===h?1:0))}},getMeta:function(b){if(b){if(a.isMeta(b))return a.get(a.getKey(b))||
b;if("string"===typeof b)return a.get(b)}},getRemoteMeta:function(b){var f=d.Deferred();f.retry=0;b=d.extend({path:a.media.options.directorySeparator,retry:3,retryAfter:1E3,variation:0,foldersOnly:0},b);if(void 0===b.place)return f.rejectWith(f,"Error: Place not given!");var h=function(){f.loader=EasyBlog.ajax("site.views.media.getMeta",b,{success:function(a){f.resolveWith(f,arguments)},fail:function(){f.rejectWith(f,arguments)},error:function(){f.retry++;f.retry<b.retry?h():f.rejectWith(f,arguments)}});
return arguments.callee}();return f},getMetaVariations:function(b){b=a.getMeta(b);if(void 0!==b)return a.getRemoteMeta({place:b.place,path:b.path,variation:1}).done(function(b){a.addMeta(b)})},removeMetaVariation:function(b,d){b=a.getMeta(b);if(void 0!==b&&void 0!==b.variations){for(var f,h=0;h<b.variations.length;h++)if(b.variations[h].name===d){f=b.variations[h];b.variations.splice(h,1);break}return f}},addMeta:function(b){var h=a.getKey(b),g=a.getMeta(h);if(g&&b.hash===g.hash)return g;b.key=h;
b.hash=d.uid();b.group="folder"==b.type?"folders":"files";b.parentKey=a.getParentKey(b);var m=a.getPlace(b.place);b.friendlyPath=b.path===f?m.title:m.title+b.path.substring(b.path.indexOf(f),b.path.length);a.meta[h]=b;h=b.data=a.metadata[h]||(a.metadata[h]=d.eventable({}));"folder"==b.type&&(h.files=h.files||{},h.folders=h.folders||{},h.views=h.views||a.createMetaView(b));g?setTimeout(function(){b.data.fire("updated",b)},0):(g=a.getMeta(b.parentKey))&&g.data.views.addMeta(b);return b},removeMeta:function(b){b=
a.getMeta(b);if(void 0!==b){if("folder"===b.type){var d=b.data.folders,f=b.data.files;for(key in d)a.removeMeta(key);for(key in f)a.removeMeta(key)}b.parentKey&&((d=a.getMeta(b.parentKey))&&d.data.views.removeMeta(b),delete a.meta[b.key],setTimeout(function(){b.data.fire("removed",b)},0));return b}},removeRemoteMeta:function(b){var f=d.Deferred();b=a.getMeta(b);if(void 0===b)return f.rejectWith(f,"The file does not exist in the media library.");f.loader=EasyBlog.ajax("site.views.media.delete",{place:b.place,
path:b.path},{success:function(){a.removeMeta(b);f.resolveWith(f,[b])},fail:function(){f.rejectWith(f,arguments)},error:function(a,b){f.rejectWith(f,[b])}});return f},createFolder:function(b,h){var g=d.Deferred();b=a.getMeta(b);var m=b.place;if(void 0===b||"folder"!==b.type)return g.rejectWith(g,"Parent folder was not found.");g.loader=EasyBlog.ajax("site.views.media.createFolder",{place:m,path:b.path+f+h},{success:function(b){b.place=m;b=a.addMeta(b);g.resolveWith(g,[b])},fail:function(){g.rejectWith(g,
arguments)},error:function(a,b){g.rejectWith(g,[b])}});return g},importMeta:function(b,d){if(void 0!==b&&"folder"===b.type){void 0===d&&(d=!0);var f=b.contents,h=f.length;delete b.contents;f.reverse();for(var g=a.addMeta(b),m=g.data,w={files:{},folders:{}},t=0;t<h;){b=a.addMeta(f[t]);var u=b.key,r=b.group;w[r][u]=delete m[r][u];t++}for(u in m.files)a.removeMeta(u);for(u in m.folders)a.removeMeta(u);m.folders=w.folders;m.files=w.files;if(d)for(u in m.folders)a.importMeta(a.getMeta(u),d);return g}},
createMetaView:function(b){var f={meta:b,addMeta:function(a){for(mode in f.modes){var b=f.modes[mode][a.group];b&&b.add(a)}},removeMeta:function(a){for(mode in f.modes){var b=f.modes[mode][a.group];b&&b.remove(a)}},create:function(a){var b=d.Callbacks("unique memory");d.extend(b,{from:0,to:1024,mode:"dateModified",group:"files"},a,{uid:d.uid(),select:function(a){d.extend(b,a);b.map&&delete b.map.monitors[b.uid];b.map=f.modes[b.mode][b.group];b.map.monitors[b.uid]=b;return b.refresh()},updated:b.add,
refresh:function(){return b.fire(b.map.slice(b.from,b.to))},destroy:function(){b.disable();b.map&&delete b.map.monitors[b.uid];return b}});return b.select()}};a.createViewModes(f);return f},createViewModes:function(b){b.modes={dateModified:{folders:a.createViewMap(b,!0),files:a.createViewMap(b)}};return b},createViewMap:function(a,b){var c=d.extend([],{task:d.Threads({threadLimit:1}),affectedIndex:[],add:function(a){c.task.add(function(){c.unshift(a.key);c.affectedIndex.push(0);b&&c.sort().reverse();
c.refreshMonitor()})},remove:function(a){c.task.add(function(){for(var b=a.key,d=c.length,e;d--;)if(c[d]===b){e=d;break}void 0!==e&&(c.splice(d,1),c.affectedIndex.push(d),c.refreshMonitor())})},monitors:{},refreshMonitor:function(){clearTimeout(c.refreshMonitor.timer);c.refreshMonitor.timer=setTimeout(function(){var a=c.affectedIndex;c.affectedIndex=[];c.task.add(function(){var b=a.length,d=0;for(id in c.monitors)for(var e=c.monitors[id],f=e.from,h=e.to,d=0;d<b;d++){var g=a[d];if(g>=f||g<=h){e.refresh();
break}}})},250)}});return c},search:function(b){if(""===d.trim(b))return[];b=b.toLowerCase();var f=a.createMetaView({type:"search"});for(key in a.meta){var h=key.split("|"),g=h[1],m=a.meta[key];/easysocial|jomsocial|flickr/.test(h[0])&&(g=m.title||"");g.toLowerCase().match(b)&&f.addMeta(m)}return f}}});EasyBlog.Controller("Media.Exporter",{defaultOptions:{view:{recentItem:"media/recent.item"},"{recentActivities}":".recentActivities","{recentActivitiesDialog}":".recentActivities .modalPromptDialog",
"{hideRecentActivitiesButton}":".recentActivities .promptHideButton","{dashboardButton}":".recentActivities .dashboardButton","{recentItemGroup}":".recentItemGroup","{recentItem}":".recentItem"}},function(a){return{init:function(){b.exporter=a;b.insert=a.insert},handler:{},showDialog:function(){a.recentActivitiesDialog().addClass("active");a.recentActivities().css({top:0,opacity:1}).addClass("active")},hideDialog:function(){a.recentActivities().animate({top:"-=50px",opacity:0},{duration:250,complete:function(){a.recentActivities().removeClass("active");
a.recentActivitiesDialog().removeClass("active")}})},"{dashboardButton} click":function(){a.hideDialog()},"{hideRecentActivitiesButton} click":function(){a.hideDialog()},insert:function(e,f){var h=b.library.getMeta(e);if(void 0!==h){var g=a.create(h.type,h.key,f);a.showDialog();g.recentItem=a.view.recentItem({meta:h}).addClass("loading").css({opacity:0}).prependTo(a.recentItemGroup()).animate({opacity:1},{duration:500,complete:function(){g.done(function(e){""===e&&g.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(d.language("COM_EASYBLOG_MM_UNABLE_TO_EXPORT_ITEM"));
if("undefined"!=typeof tinyMCE)if(tinyMCE&&tinyMCE.isIE&&9==b.IE){var f=b.bookmark;if(f){var h=tinyMCE.editors.write_content;h.selection.moveToBookmark({rng:f.range});h.execCommand("mceInsertContent",!1,e)}else EasyBlog.dashboard.editor.insert(e)}else EasyBlog.dashboard.editor.insert(e);else EasyBlog.dashboard.editor.insert(e);g.recentItem.removeClass("loading failed").addClass("done").find(".itemProgress").html(d.language("COM_EASYBLOG_MM_ITEM_INSERTED"));0<b.options.recentActivities.hideAfter&&
setTimeout(function(){a.hideDialog()},b.options.recentActivities.hideAfter)}).progress(function(a){g.recentItem.hasClass("done")||g.recentItem.find(".itemProgress").html(a)}).fail(function(a){g.recentItem.removeClass("loading done").addClass("error").find(".itemProgress").html(a)})}});return g}},create:function(b,f,h){var g=a.handler[b],m=d.Deferred();if(void 0===g){g=EasyBlog.Controller.Media.Exporter[d.String.capitalize(b)];if(void 0===g)return m.reject(d.language("COM_EASYBLOG_MM_UNABLE_TO_FIND_EXPORTER")),
m;g=a.handler[b]=new g(a.element,d.extend({},{settings:a.options[b],controller:{media:a.media}}))}g.create(m,f,h);return m}}});EasyBlog.Controller("Media.Exporter.File",{defaultOptions:{settings:{title:"",target:"_self",content:""}}},function(a){return{init:function(){},create:function(b,f,h){h=d.extend({},a.options.settings,h);f=a.media.library.getMeta(f);f=d(document.createElement("A")).attr({title:h.title,target:h.target,href:f.url}).html(h.content?h.content:f.title);b.resolve(f.toHTML());return b}}});
EasyBlog.Controller("Media.Exporter.Folder",{defaultOptions:{settings:{}}},function(a){return{init:function(){},create:function(b,f,h){h=d.extend({},a.options.settings,h);f=a.media.library.getMeta(f);var g="jomsocial"==f.place||"easysocial"==f.place?"album":"gallery";h.file=f.path;h.place=f.place;h="[embed="+g+"]"+JSON.stringify(h)+"[/embed]";b.resolve(h);return b}}});EasyBlog.Controller("Media.Exporter.Image",{defaultOptions:{settings:{zoom:null,caption:null,lightbox:!1,enforceDimension:!1,enforceWidth:null,
enforceHeight:null,variation:null,defaultVariation:"thumbnail",defaultZoom:"original"}}},function(b){return{init:function(){},create:function(e,f,h){var g=d.extend({},b.options.settings,h),m=b.media.library.getMeta(f),s=d(new Image);h=a(m.title);s.attr({src:m.thumbnail.url,alt:h,title:h});var w=function(){var b={};d.each(m.variations,function(a,c){b[c.name]=c});var c=b[g.variation]||b[g.defaultVariation]||m.variations[0],f=a(c.title);s.attr({src:c.url,alt:f,title:f});g.enforceDimension&&null!==g.enforceWidth&&
null!==g.enforceHeight&&(f=d.Image.resizeWithin(c.width,c.height,g.enforceWidth,g.enforceHeight),f.width=Math.floor(f.width),f.height=Math.floor(f.height),s.attr(f));null!==g.caption&&(f=a(g.caption),s.addClass("easyblog-image-caption").attr("title",f));null!==g.zoom&&(c=b[g.zoom]||b[g.defaultZoom]||{url:m.thumbnail.url,title:m.title},f=a(g.caption||c.title||""),s=d("<a>").addClass("easyblog-thumb-preview").attr({href:c.url,title:f}).html(s));e.resolve(s.toHTML())};g.variation||g.zoom||g.enforceWidth||
g.enforceHeight?void 0===m.variations?(e.notify(d.language("COM_EASYBLOG_MM_GETTING_IMAGE_SIZES")),b.media.library.getMetaVariations(f).done(function(a){m=a;w()}).fail(function(){e.reject(d.language("COM_EASYBLOG_MM_UNABLE_TO_RETRIEVE_VARIATIONS"))})):w():e.resolve(s.toHTML());return e}}});EasyBlog.Controller("Media.Exporter.Audio",{defaultOptions:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}},function(a){return{init:function(){},create:function(b,
f,h){h=d.extend({},a.options.settings,h);f=a.media.library.getMeta(f);h.file=f.path;h.place=f.place;f="[embed=audio]"+JSON.stringify(h)+"[/embed]";b.resolve(f);return b}}});EasyBlog.Controller("Media.Exporter.Video",{defaultOptions:{settings:{width:400,height:225,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff"}}},function(a){return{init:function(){},create:function(b,f,h){h=d.extend({},a.options.settings,h);f=a.media.library.getMeta(f);h.file=f.path;h.place=f.place;f="[embed=video]"+
JSON.stringify(h)+"[/embed]";b.resolve(f);return b}}});EasyBlog.Controller("MediaLauncher",{defaultOptions:{"{uploadImageButton}":".uploadImageButton","{chooseImageButton}":".chooseImageButton"}},function(a){return{init:function(){d("#media_manager_button").click(function(){EasyBlog.mediaManager.browse()})},"{uploadImageButton} click":function(){EasyBlog.mediaManager.upload()},"{chooseImageButton} click":function(){EasyBlog.mediaManager.browse()}}});var h=d(document.createElement("div")).attr("id",
"EasyBlogMediaManager").appendTo("body");EasyBlog.mediaManager=new EasyBlog.Controller.Media(h)});EasyBlog.module("media/navigation",function(d){var g=this;EasyBlog.require().done(function(){var a,b,f;EasyBlog.Controller("Media.Navigation",{defaultOptions:{view:{item:"media/navigation.item",itemGroup:"media/navigation.itemgroup"},nestLevel:8,groupCollapseDelay:1E3,canActivate:!0,"{itemGroup}":".navigationItemGroup","{item}":".navigationItem"}},function(h){return{init:function(){a=h.media;b=a.library;
f=a.options.directorySeparator;h.element.toggleClass("canActivate",h.options.canActivate)},setPathway:function(a){if(a=b.getMeta(a)){h.currentKey=a.key;var e=b.getPlace(a.place),g=a.path,m="folder"===a.type,p=g.split(f).splice(1),q=h.options.nestLevel,s=p.length-(p.length%q||q),w;h.element.empty().toggleClass("type-folder",m);h.view.item({title:e.title||f}).addClass("base").data("key",e.id+"|"+f).appendTo(h.element);var t="jomsocial"===e.id;g!==f&&d.each(p,function(d,g){var l=!m&&d==p.length-1,v=
f+p.slice(0,d+1).join(f),v=e.id+"|"+v;g=t?b.getMeta(v).title:g;l=h.view.item({title:l?a.title:g}).data("key",v).toggleClass("filename",l);d>=s?l.appendTo(h.element):(0==d%q&&(w=h.view.itemGroup().appendTo(h.element)),l.appendTo(w))})}},"{itemGroup} mouseover":function(a){clearTimeout(a.data("delayCollapse"));a.addClass("expand")},"{itemGroup} mouseout":function(a){a.data("delayCollapse",setTimeout(function(){a.removeClass("expand")},h.options.groupCollapseDelay))},"{item} click":function(a){h.options.canActivate&&
(a=a.data("key"),h.trigger("activate",a))}}});g.resolve()})});EasyBlog.module("media/uploader",function(d){var g=this;EasyBlog.require().library("plupload").done(function(){var a,b,f,h;EasyBlog.Controller("Media.Uploader",{defaultOptions:{view:{uploader:"media/browser.uploader",uploadItem:"media/browser.uploader.item"},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalBrowserButton}":".modalButton.browserButton",
"{modalDashboardButton}":".modalButton.dashboardButton","{uploadButton}":".uploadButton","{uploadNavigation}":".uploadNavigation","{uploadForm}":".uploadForm","{uploadPath}":".uploadPath","{uploadSize}":".uploadSize","{uploadExtensionList}":".uploadExtensionList","{uploadItemGroup}":".uploadItemGroup","{uploadItem}":".uploadItem","{uploadDropHint}":".uploadDropHint","{uploadInstructions}":".uploadInstructions","{clearListButton}":".clearListButton"}},function(c){return{init:function(){a=c.media;b=
a.library;f=a.uploader=c;h=a.options.directorySeparator;c.element.addClass("uploader").html(c.view.uploader({uploadSize:c.options.settings.max_file_size,uploadExtensionList:c.options.settings.filters[0].extensions.split(",").join(", ")}));c.uploadNavigation().implement(EasyBlog.Controller.Media.Navigation,{controller:c.controllerProps()},function(){c.navigation=this});c.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,{controller:c.controllerProps()},function(){c.promptDialog=this});c.element.implement(EasyBlog.Controller.Media.Uploader.FolderSwitcher,
{controller:c.controllerProps()},function(){c.folderSwitcher=this});c.element.implement("plupload",{settings:c.options.settings,"{uploadButton}":c.options["{uploadButton}"],"{uploadDropsite}":c.options["{uploadItemGroup}"]},function(){c.plupload=this.plupload;if("html4"==c.plupload.runtime||d.browser.msie){c.uploadDropHint().remove();c.uploadItemGroup().addClass("indefinite-progress");var b=c.uploadInstructions().appendTo(a.element);c.element.find("> form").mouseover(function(){var f=c.uploadButton(),
h=f.offset();b.addClass("show").css({top:h.top+f.outerHeight()-a.element.offset().top+3,right:d(window).width()-(h.left+f.outerWidth())-1})}).mouseout(function(){b.removeClass("show")})}else c.uploadButton().mouseover(function(){c.uploadInstructions().addClass("show")}).mouseout(function(){c.uploadInstructions().removeClass("show")})});c.setLayout()},setLayout:function(){if("uploader"===a.currentModal){var b;c.modalContent().hide().height(b=c.element.height()-c.modalHeader().outerHeight()-c.modalToolbar().outerHeight()-
c.modalFooter().outerHeight()).show();d.browser.msie&&(c.uploadDropHint().height(b),c.uploadItemGroup().height(b));c.plupload&&c.plupload.refresh()}},controllerProps:function(a){return d.extend({media:c.media,uploader:c},a||{})},setUploadFolder:function(a){a&&(c.navigation.setPathway(a),c.currentUploadFolder=a)},items:{},createItem:function(a){var b=new EasyBlog.Controller.Media.Uploader.Item(c.view.uploadItem(),{controller:c.controllerProps({id:a.id,originalFile:a,uploadFolder:c.currentUploadFolder})});
b.element.appendTo(c.uploadItemGroup());var f=b.file().filesize,f=f?"":" ("+f+").";b.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING_PENDING")+f);return c.items[a.id]=b},"{self} BeforeUpload":function(a,f,h,g){g=c.items[g.id];if(void 0!==g){g.setMessage(d.language("COM_EASYBLOG_MM_UPLOAD_PREPARING"));a=c.options.settings.url;var m=b.getMeta(g.uploadFolder);f=m?m.place:g.uploadFolder.split("|")[0];g=encodeURIComponent(m?m.path:g.uploadFolder.split("|")[1]);h.settings.url=a+"&place="+f+"&path="+g}},
"{self} FilesAdded":function(a,b,f,h){try{d.each(h,function(a,b){void 0===c.items[b.id]&&c.createItem(b)}),0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty"),c.plupload.start()}catch(g){console.error(g)}},"{self} UploadFile":function(a,b,f,h){a=c.items[h.id];void 0!==a&&(a.setState("uploading"),a.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING_STATE")))},"{self} UploadProgress":function(a,b,f,h){a=c.items[h.id];void 0!==a&&(a.setProgress(h.percent),a.setMessage(d.language("COM_EASYBLOG_MM_UPLOADING")+
(void 0!==h.percent?" "+h.percent+"%":"")+(void 0!==h.loaded&&void 0!==!h.size?h.size-h.loaded?" ("+d.plupload.formatSize(h.size-h.loaded)+" "+d.language("COM_EASYBLOG_MM_UPLOADING_LEFT")+")":"":"")))},"{self} FileUploaded":function(b,f,h,g,m){b=c.items[g.id];void 0!==b&&(b.response=m,d.isPlainObject(m)?d.isPlainObject(m.item)?(b.setState("done"),b.setMessage(d.language("COM_EASYBLOG_MM_UPLOAD_COMPLETE")),b.meta=m.item,b.meta.place=a.library.get(b.uploadFolder).place,"image"!==b.meta.type&&b.insertBlogImageButton().remove(),
a.library.addMeta(b.meta)):(b.setState("failed"),b.setMessage(m.message||d.language("COM_EASYBLOG_MM_UPLOAD_UNABLE_PARSE_RESPONSE"))):(b.setState("failed"),b.setMessage(d.language("COM_EASYBLOG_MM_SERVER_RETURNED_INVALID_RESPONSE"))))},"{self} FileError":function(a,b,d,f,h){a=c.items[f.id];void 0===a&&(a=c.createItem(f));a.response=h;a.setState("failed");a.setMessage(h.message);0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty")},"{self} Error":function(a,b,d,f){f.file&&(a=f.file,b=
c.items[a.id],void 0===b&&(b=c.createItem(a)),b.setState("failed"),b.setMessage(f.message));0<c.uploadItem().length&&c.uploadItemGroup().removeClass("empty")},"{modalBrowserButton} click":function(){a.browse()},"{modalDashboardButton} click":function(){a.hide()},"{uploadNavigation} activate":function(a,b,d){c.setUploadFolder(d)},"{self} modalActivate":function(b,d,f){c.setUploadFolder(f);a.browser&&c.uploadItemGroup().toggleClass("blogimage","blogimage"==a.browser.mode())},removeItem:function(a){var b=
c.items[a];void 0!==b&&(c.plupload.removeFile(b.file()),b.element.remove(),delete c.items[a]);1>c.uploadItem().length&&c.uploadItemGroup().addClass("empty")},"{clearListButton} click":function(){for(id in c.items)c.removeItem(id)}}});EasyBlog.Controller("Media.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage","{status}":".uploadStatus","{removeButton}":".uploadRemoveButton","{insertItemButton}":".insertItemButton",
"{locateItemButton}":".locateItemButton","{insertBlogImageButton}":".insertBlogImageButton"}},function(c){return{init:function(){var a=c.file();c.filename().html(a.name);c.setState("queued")},file:function(){var a=f.plupload.getFile(c.id)||c.originalFile;a&&(a.filesize=void 0===a.size||"N/A"==a.size?"":d.plupload.formatSize(c.file.size));return a},dblclick:function(b,d){d.shiftKey&&a.console("log",c)},setProgress:function(a){c.progressBar().attr("value",a);c.percentage().html(a)},setState:function(a){c.element.removeClass("upload-state-"+
c.state).addClass("upload-state-"+a);c.state=a},setMessage:function(a){c.status().html(a)},"{removeButton} click":function(a,b){b.stopPropagation();f.removeItem(c.id)},"{insertItemButton} click":function(){a.insert(c.meta)},"{locateItemButton} click":function(){a.browse(c.meta)},"{insertBlogImageButton} click":function(){var d=b.meta[b.getMeta(c.meta).key];EasyBlog.dashboard.blogImage.setImage(d);a.hide()}}});EasyBlog.Controller("Media.Uploader.FolderSwitcher",{defaultOptions:{view:{treeItemGroup:"media/browser.tree-item-group",
treeItem:"media/browser.tree-item"},"{changeUploadFolderButton}":".changeUploadFolderButton","{selectFolderButton}":".selectFolderButton","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup","{treeItem}":".browserTreeItem"}},function(c){return{init:function(){var b;c.promptDialog=f.promptDialog.get("changeUploadFolderPrompt");d.each(a.library.places,function(a,d){d.acl.canUploadItem&&(d.uploaderTreeItemGroup=c.view.treeItemGroup().addClass("expanded").appendTo(c.treeItemField()),
d.uploaderTreeItem=c.view.treeItem({title:d.title}).addClass("loading").addClass("type-place").data("place",d).appendTo(d.uploaderTreeItemGroup),b||(b=d.id+"|"+h,f.setUploadFolder(b)),d.done(function(){c.createTreeItem(d.baseFolder());d.uploaderTreeItem.removeClass("loading")}))})},treeItems:{},createTreeItem:function(a){a=b.getMeta(a);return c.treeItems[a.key]||function(){var f=b.getPlace(a.place),h=b.getMeta(a.parentKey),f=c.treeItems[a.key]=(h?c.view.treeItem({title:a.title}).addClass("type-folder").insertAfter(c.treeItems[h.key]):
f.uploaderTreeItem).data("key",a.key);a.data.on("removed",function(){c.removeTreeItem(a)});a.data.views.create({group:"folders"}).updated(function(a){d.each(a,function(a,b){c.createTreeItem(b)})});return f}()},removeTreeItem:function(a){a=b.getMeta(a);var d=c.treeItems[a.key];d&&(d.remove(),f.setUploadFolder(a.parentKey))},"{treeItem} click":function(a){c.treeItem().removeClass("active");a.addClass("active")},"{changeUploadFolderButton} click":function(){(c.treeItems[c.currentUploadFolder]||c.treeItem(":first")).click();
c.promptDialog.show()},"{selectFolderButton} click":function(){var a=c.treeItem(".active").data("key");f.setUploadFolder(a);c.promptDialog.hide()}}});g.resolve()})});EasyBlog.module("media/browser",function(d){var g=this;EasyBlog.require().library("image","easing","scrollTo").script("media/browser.item").done(function(){var a,b,f,h,c;EasyBlog.Controller("Media.Browser",{defaultOptions:{view:{browser:"media/browser",itemGroup:"media/browser.item-group",item:"media/browser.item",treeItemGroup:"media/browser.tree-item-group",
treeItem:"media/browser.tree-item",paginationPage:"media/browser.pagination-page"},path:"",items:void 0,mode:"browse",layout:{viewMode:"tile",tileSize:0.125,scrollToItemDuration:500,scrollToItemEasing:"swing",iconMaxLoadThread:8},search:{chunkSize:128,chunkDelay:500},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{modalFooter}":".modalFooter","{modalPrompt}":".modalPrompt","{modalUploaderButton}":".uploaderButton","{header}":".browserHeader","{content}":".browserContent",
"{footer}":".browserFooter","{treeToggleButton}":".browserTreeToggleButton","{tileViewButton}":".browserTileViewButton","{listViewButton}":".browserListViewButton","{itemField}":".browserItemField","{itemGroup}":".browserItemGroup","{item}":".browserItem","{treeItemField}":".browserTreeItemField","{treeItemGroup}":".browserTreeItemGroup","{treeItem}":".browserTreeItem","{headerTitle}":".browserTitle","{headerSearch}":".browserSearch","{headerNavigation}":".browserNavigation","{headerUpload}":".browserUploadButton",
"{footerStatus}":".browserStatus","{footerMessage}":".browserMessage","{itemActionSet}":".browserItemActionSet","{itemFieldHints}":".browserItemField .hints","{browserPagination}":".browserPagination","{currentPage}":".currentPage","{totalPage}":".totalPage","{prevPageButton}":".prevPageButton","{nextPageButton}":".nextPageButton","{pageSelection}":".pageSelection","{paginationPage}":".paginationPage","{searchInput}":".searchInput"}},function(e){return{init:function(){a=e.media;b=a.library;f=a.browser=
e;c=a.options.directorySeparator;e.iconThread=d.Threads({threadLimit:e.options.layout.iconMaxLoadThread});e.enqueue=d.Enqueue();var g=b.getPlace("flickr");e.element.addClass("browser").html(e.view.browser({canUpload:e.options.acl.canUpload,flickrCallback:g?g.options.callback:"",flickrLogin:g?g.options.login:""}));e.headerNavigation().implement(EasyBlog.Controller.Media.Navigation,{controller:e.controllerProps()},function(){e.navigation=this});e.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,
{controller:e.controllerProps()},function(){h=e.promptDialog=this});e.element.implement(EasyBlog.Controller.Media.Browser.Actions,{controller:e.controllerProps()},function(){e.actions=this});e.search=d.debounce(e._search,500);e.mode("browse");a.element.bind("hideModal",function(){e.mode("browse")});e.viewMode(e.options.layout.viewMode);e.setLayout();e.on("scroll",e.itemField(),d.debounce(e["{itemField} scroll"],250));d.each(b.places,function(a,b){e.createPlace(b)});e.activatePlace(e.options.initialPlace||
b.places[0].id).done(e.enqueue(function(a){e.activateItem(a.baseFolder())}))},controllerProps:function(b){return d.extend({media:a},b||{})},items:{},createPlace:function(a){a=b.getPlace(a);a.treeItemGroup=e.view.treeItemGroup().appendTo(e.treeItemField());a.treeItem=e.view.treeItem({title:a.title}).addClass("type-place").data("place",a).appendTo(a.treeItemGroup);a.itemGroup=e.view.itemGroup().appendTo(e.itemField());return a},activatePlace:function(a){a=b.getPlace(a);if(void 0!==a){e.itemGroup().removeClass("active");
a.itemGroup.addClass("active");e.treeItem().removeClass("active");a.treeItem.addClass("active");a.activator||(a.activator=d.Deferred());if("flickr"===a.id&&!a.options.associated)return f.currentFolderStatus("flickr"),a.activator;a.populated||(a.populated=!0,e.currentFolderStatus("loading"),(/easysocial|jomsocial|flickr/.test(a.id)?a.populate():a.ready).done(function(){var b=e.createFolder(a.baseFolder());a.activator.resolveWith(a,[a,b])}).fail(function(){e.currentFolderStatus("error");a.activator.rejectWith(a,
arguments)}));return a.activator}},getItem:function(a){if(void 0!==a){if(a instanceof EasyBlog.Controller.Media.Browser.Item)return a;if("string"===typeof a)return e.items[a];if(b.isMeta(a))return e.items[b.getKey(a)]}},createItem:function(c,d){if(c=b.getMeta(c))return e.items[c.key]=new EasyBlog.Controller.Media.Browser.Item(e.view.item({meta:c}),{controller:{key:c.key,media:a}})},createFolder:function(a,f){a=b.getMeta(a);return e.getItem(a)||function(){var b=e.createItem(a),f=b.place(),h=b.parentFolder();
h?b.element.insertAfter(h.element):b.element.appendTo(f.itemGroup);b.treeItem=(h?e.view.treeItem({title:a.title}).addClass("type-folder").css("marginLeft",18*(a.path.split(c).length-1)).insertAfter(h.treeItem):f.treeItem).data("item",b);a.data.views.create({group:"folders"}).updated(function(a){d.each(a,function(a,b){e.createFolder(b)})});return b}()},createFile:function(a,c){a=b.getMeta(a);return e.getItem(a)||e.createItem(a)},removeItem:function(a){clearTimeout(e.removeItem.revert);a=e.getItem(a);
var b=a.parentFolder();a.remove();a.treeItem&&a.treeItem.remove();delete e.items[a.key];e.itemField().hasClass("searching")||(e.removeItem.revert=setTimeout(function(){b&&e.activateItem(b)},500))},focusItem:function(a,b){if(a=e.getItem(a))b?e.activateItem(a):(e.currentItem(a),a.element.removeClass("active")),e.scrollTo(a),e.trigger("itemFocus",[a])},locateItem:function(a){e.itemField().hasClass("searching")&&e.clearSearch(!0);(a=b.getMeta(a))&&e.activatePlace(a.place).done(e.enqueue(function(){var b=
"folder"===a.type,c=e.activateItem(b?a:a.parentKey);void 0!==c&&(b||c.handler.locateItem(a),(b=c.handler.folderView)&&b.refresh())}))},activateItem:function(a){if(a=e.getItem(a))return e.currentItem(a),a.activate(),e.trigger("itemActivate",[a]),a},scrollTo:function(a){(a=e.getItem(a))&&e.itemField().scrollTo(a.element,{duration:e.options.layout.scrollToItemDuration,easing:e.options.layout.scrollToItemEasing,offset:{top:-0.1*e.itemField().height()}})},currentItem:function(a){var b=e.currentItem.item;
b&&b._destroyed&&(b=e.currentItem.item=void 0);a=e.getItem(a);if(!a||a._destroyed)return b;b&&(b.element.removeClass("active focus"),"folder"!==b.meta().type&&b.parentFolder().element.removeClass("active focus"),b.place().itemGroup.removeClass("active"));a.element.addClass("active focus");(b="folder"==a.meta().type)||a.parentFolder().element.addClass("focus");a.place().itemGroup.addClass("active");e.currentFolder(b?a:a.parentFolder());e.navigation.setPathway(a.key);return e.currentItem.item=a},currentFolder:function(a){var b=
e.currentFolder.folder;b&&b._destroyed&&(b=e.currentFolder.folder=void 0);a=e.getItem(a);if(!a)return b;e.treeItem().removeClass("active");a.treeItem.addClass("active");a.meta().path!==c&&a.place().treeItemGroup.addClass("expanded");a.handler.folderView&&a.handler.refreshSeed!==e.folderRefreshSeed&&(a.handler.folderView.refresh(),a.handler.refreshSeed=e.folderRefreshSeed);return e.currentFolder.folder=a},currentFolderStatus:function(a){if(!e.itemField().hasClass("searching")||/emptySearch|ready/.test(a)){var b=
e.currentFolderStatus.lastStatus;if(void 0===a)return b;if("string"===typeof a)return b&&e.itemField().removeClass(b),e.itemField().addClass(a),e.currentFolderStatus.lastStatus=a}},setLayout:function(){if(a.layout&&"browser"===a.currentModal){var b;e.modalContent().hide().height(b=e.element.height()-e.modalHeader().outerHeight()-e.modalToolbar().outerHeight()-e.modalFooter().outerHeight()).show();d.browser.msie&&(e.treeItemField().height(b),e.itemField().height(b),e.itemFieldHints().height(b));e.setItemLayout();
e.trigger("setLayout")}},setItemStyle:function(b){if(!b){b=a.layout;if(e.setItemStyle.seed===b)return;e.setItemStyle.seed=b}b={};if("tile"==e.viewMode()){var c=function(){var a=d(document.createElement("DIV")).prependTo(e.itemField()),b=a.width();a.remove();return b}(),c=Math.floor(c*e.options.layout.tileSize);b["#EasyBlogMediaManager .browser .browserItemField.view-tile .browserItem"]={width:c+"px",height:c-24+"px"}}c=document.getElementsByTagName("head")[0];if(e.itemStyle)try{c.removeChild(e.itemStyle)}catch(f){}e.itemStyle=
document.createElement("style");e.itemStyle.type="text/css";var h="";d.each(b,function(a,b){h+=a+"{"+d.map(b,function(a,b){return b+":"+a}).join(";")+"}\n"});e.itemStyle.styleSheet?e.itemStyle.styleSheet.cssText=h:e.itemStyle.appendChild(document.createTextNode(h));c.appendChild(e.itemStyle)},setItemLayout:function(){a.layout&&"browser"===a.currentModal&&(e.setItemStyle(),setTimeout(function(){var a=[];if(e.itemField().hasClass("searching"))e.searchItemGroup&&(a=e.searchItemGroup.find(".browserItem"));
else{var b=e.currentFolder();if(void 0===b)return;a=b.childItem()}if(!(1>a.length)){var c=e.itemField().offset(),d,f,h=a.length,b=1;if(!(1>a.length)){for(;1<Math.abs(h-b);)d=a.eq(b-1),f=d.offset(),0>f.top-c.top+d.outerHeight()?b=Math.ceil((h+b)/2):(h=b,b=Math.ceil(h/2));1===b&&(b=0);var c=b,g=a.length-1;for(setLayout=function(b){if(0>b||b>g)return!1;b=a.eq(b).data("item");if(!b.isVisible())return!1;b.setLayout()};!1!==setLayout(c);)c--;for(;!1!==setLayout(b);)b++}}},0))},viewMode:function(a){var b=
e.viewMode.mode;b||(b=e.viewMode.mode=e.options.layout.viewMode);void 0!==a&&(e.setItemStyle.seed=null,e.itemField().removeClass("view-"+b).addClass("view-"+a),e.viewMode.mode=b=a,e.setLayout(),a=e.currentItem(),void 0!==a&&e.scrollTo(a));return b},mode:function(a){if(void 0===a)return e.mode.currentMode||"browse";switch(a){case "browse":e.element.removeClass("mode-blogimage").addClass("mode-browse");d.each(b.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)&&(b.treeItemGroup&&b.treeItemGroup.show(),
b.itemGroup&&b.itemGroup.show())});break;case "blogimage":e.element.addClass("mode-blogimage").removeClass("mode-browse");var c=e.currentItem(),f=!1;c&&/easysocial|jomsocial|flickr/.test(c.place().id)&&(f=!0);d.each(b.places,function(a,b){/easysocial|jomsocial|flickr/.test(b.id)?(b.treeItemGroup&&b.treeItemGroup.hide(),b.itemGroup&&b.itemGroup.hide()):f&&(f=!1,b.treeItem&&b.treeItem.click())})}e.mode.currentMode=a},"{self} itemActivate":function(a,b,c){e.itemActionSet().removeClass("active");"folder"==
c.meta().type?e.itemActionSet(".type-folder").addClass("active"):e.itemActionSet(".type-item").addClass("active")},"{headerNavigation} activate":function(a,b,c){e.activateItem(c)},"{tileViewButton} click":function(a,b){a.addClass("active").siblings().removeClass("active");e.viewMode("tile")},"{listViewButton} click":function(a,b){a.addClass("active").siblings().removeClass("active");e.viewMode("list")},"{treeItem} click":d.debounce(function(a,b){e.clearSearch(!0);var c=a.data("item");a.hasClass("type-place")?
(c=a.data("place"),d(b.target).hasClass("treeItemToggle")&&c.treeItemGroup.toggleClass("expanded"),e.activatePlace(c).done(e.enqueue(function(a,b){"jomsocial"===a.id&&a.treeItemGroup.addClass("expanded");"easysocial"===a.id&&a.treeItemGroup.addClass("expanded");e.activateItem(b)}))):e.activateItem(c)},50),"{itemField} scroll":function(a,b){e.setItemLayout()},"{item} click":function(a,b){b.stopPropagation();var c=a.data("item");if(void 0!==c){var d=c.place();e.activatePlace(d).done(e.enqueue(function(a,
b){e.activateItem(c)}))}},"{item} dblclick":function(c,d){d.stopPropagation();var f=c.data("item");d.shiftKey?a.console("log",[f]):void 0!==f&&"folder"!=f.meta().type&&("blogimage"===e.mode.currentMode?"image"==f.meta().type&&(EasyBlog.dashboard.blogImage.setImage(b.meta[f.key]),a.hide()):a.edit(f.key))},"{modalUploaderButton} click":function(){var b=e.currentFolder();a.upload(b.place().acl.canUploadItem?b.key:"")},"{self} modalActivate":function(a,c,d,f){void 0!==f&&e.mode(f);(d=b.getMeta(d)||e.currentItem().meta())&&
e.locateItem(d)},"{prevPageButton} click":function(){f.currentFolder().handler.changePage("prev")},"{nextPageButton} click":function(){f.currentFolder().handler.changePage("next")},"{pageSelection} click":function(a){1<e.paginationPage().length&&a.toggleClass("expanded")},"{paginationPage} click":function(a){if(e.pageSelection().hasClass("expanded")&&!a.hasClass("selected")){a=a.data("page");var b=f.currentFolder();b.handler.isChangingPage=!0;b.handler.currentPage(a)}},"{window} click":function(a,
b){var c=d(b.target).attr("class");/pageSelection|paginationPage/.test(c)||e.pageSelection().hasClass("expanded")&&e.pageSelection().removeClass("expanded")},_search:function(a){e.itemBeforeSearch||(e.itemBeforeSearch=e.currentItem().meta());e.element.addClass("searching");e.itemField().addClass("searching");e.searchItemGroup||(e.searchItemGroup=e.view.itemGroup().appendTo(e.itemField()));e.searchItemGroup.addClass("active search-mode");var c;e.searchView=b.search(a).create({from:0,to:300}).updated(function(a){var b=
a.length;if(1>b)c=setTimeout(function(){f.currentFolderStatus("emptySearch")},500);else{clearTimeout(c);f.currentFolderStatus("ready");for(i=0;i<b;i++)f.createFile(a[i]).element.appendTo(e.searchItemGroup);e.setItemLayout()}})},clearSearch:function(a){e.folderRefreshSeed=d.uid();a&&e.searchInput().val("").blur();e.element.removeClass("searching");e.itemField().removeClass("searching");e.searchItems&&d.each(e.searchItems,function(a,b){d(b).detach()});e.searchItemGroup&&(e.searchItemGroup.find(".browserItem").detach(),
e.searchItemGroup.removeClass("active"));e.searchView&&e.searchView.destroy();delete e.searchView;e.itemBeforeSearch&&e.locateItem(e.itemBeforeSearch)},"{searchInput} focusin":function(a){a.parent().addClass("active");""!==d.trim(a.val())&&a.parent().addClass("showCancelButton")},"{searchInput} focusout":function(a){setTimeout(function(){""===d.trim(a.val())&&a.parent().removeClass("active showCancelButton")},50)},"{searchInput} keyup":function(a){var b=d.trim(a.val());""===b?(a.parent().removeClass("showCancelButton"),
e.clearSearch(),delete e.itemBeforeSearch):(a.parent().addClass("showCancelButton"),e.search(b))}}});EasyBlog.Controller("Media.Browser.Actions",{defaultOptions:{"{customizeItemButton}":".customizeItemButton","{insertAsGalleryButton}":".insertAsGalleryButton","{insertItemButton}":".insertItemButton","{insertBlogImageButton}":".insertBlogImageButton","{createFolderButton}":".createFolderButton","{confirmCreateFolderButton}":".createFolderPrompt .confirmCreateFolderButton","{folderPath}":".createFolderPrompt .folderPath",
"{folderCreationPath}":".createFolderPrompt .folderCreationPath","{folderInput}":".createFolderPrompt .folderInput","{folderCreationFailedReason}":".createFolderPrompt .folderCreationFailedReason","{removeItemButton}":".removeItemButton","{removeItemFilename}":".removeItemPrompt .removeItemFilename","{confirmRemoveItemButton}":".confirmRemoveItemButton","{removeItemFailedReason}":".removeItemPrompt .removeItemFailedReason","{flickrLoginButton}":".flickrLoginButton","{cancelSearchButton}":".cancelSearchButton",
"{retryPopulateButton}":".retryPopulateButton"}},function(e){return{init:function(){},"{self} itemActivate":function(a,b,c){e.item=c;a=c.place().acl;e.removeItemButton().toggle(a.canRemoveItem);e.createFolderButton().toggle(a.canCreateFolder);e.insertBlogImageButton().toggle("blogimage"===f.mode()&&"image"===c.meta().type)},"{customizeItemButton} click":function(){a.edit(e.item.key)},"{insertAsGalleryButton} click":function(){a.insert(e.item.key)},"{insertItemButton} click":function(){a.insert(e.item.key)},
"{insertBlogImageButton} click":function(){EasyBlog.dashboard.blogImage.setImage(b.meta[e.item.key]);a.hide()},"{createFolderButton} click":function(){h.get("createFolderPrompt").show().state("default");var a=f.currentFolder();e.folderPath().html(a.meta().friendlyPath);e.folderInput().focus()[0].select()},"{folderInput} keyup":function(a,b){13==b.keyCode&&e.confirmCreateFolderButton().click()},"{confirmCreateFolderButton} click":function(){var a=d.trim(e.folderInput().val());if(""!==a){var g=f.currentFolder().meta(),
m=g.friendlyPath+c+a;e.folderCreationPath().html(m);var q=h.get("createFolderPrompt");q.state("progress");b.createFolder(g,a).done(function(a){a=f.createFolder(a);q.hide();f.activateItem(a)}).fail(function(a){e.folderCreationFailedReason().html(a);q.state("fail")})}},"{removeItemButton} click":function(){e.removeItemFilename().html(e.item.meta().title);h.get("removeItemPrompt").show().state("default")},"{confirmRemoveItemButton} click":function(a){var c=h.get("removeItemPrompt");c.state("progress");
b.removeRemoteMeta(e.item.key).done(function(){c.hide()}).fail(function(a){e.removeItemFailedReason().html(a);c.state("fail")})},"{flickrLoginButton} click":function(a){var c=a.data("login");a=a.data("callback");var d=f.enqueue(function(){f.activatePlace("flickr").done(f.enqueue(function(a,b){f.activateItem(b)}))});window[a]=function(){b.getPlace("flickr").options.associated=!0;d()};window.open(c,"Flickr Login","scrollbars=no, resizable=no, width=650, height=700")},"{cancelSearchButton} click":function(){f.clearSearch(!0)},
"{retryPopulateButton} click":function(){var a=e.item.place();delete a.activator;a.populated=!1;a.treeItem.click()}}});g.resolve()})});EasyBlog.module("media/browser.item",function(d){EasyBlog.Controller("Media.Browser.Item",{defaultOptions:{"{itemTitle}":".itemTitle","{itemIcon}":".itemIcon","{childItem}":".browserItem",hasCustomHandler:["folder"]}},function(g){var a,b,f;return{init:function(){a=g.media;b=a.library;f=a.browser;g.element.data("item",g).addClass("item-type-"+g.meta().type);g.meta().data.on("removed",
function(){f.removeItem(g)});g.createHandler()},meta:function(){return b.getMeta(g.key)},place:function(){return b.getPlace(g.key)},parentFolder:function(){return f.getItem(b.getParentKey(g.key))},createHandler:function(){if(!(0>d.inArray(g.meta().type,g.options.hasCustomHandler))){var a=EasyBlog.Controller.Media.Browser.Item[d.String.capitalize(g.meta().type)];void 0===a?EasyBlog.require().script("media/browser.item."+g.meta().type).done(function(){g.createHandler()}):g.handler=new a(g.element,{controller:{media:g.media,
item:g}})}},activate:function(){g.setLayout();g.handler&&g.handler.activate()},remove:function(){try{g.handler&&(g.handler._destroyed||g.handler.destroy()),g.element&&g.element.remove()}catch(a){}},isVisible:function(){var a=g.element,b=a.outerHeight(),a=a.offset().top,d=a+b,f=g.media.browser.itemField(),n=f.offset().top,f=n+f.height();isVisible=!(a<n&&d<n||a>f&&d>f);g.media.options.debug.itemVisiblity&&g.media.console("info",["Item visibility",{title:g.meta().title,isVisible:isVisible,item:g,itemHeight:b,
itemTop:a,itemBottom:d,itemFieldTop:n,itemFieldBottom:f}]);return isVisible},setLayout:function(a){if("folder"!=g.meta().type){if(g.handler&&d.isFunction(g.handler.setLayout))return g.handler.setLayout();g.setIcon()}},setIcon:function(){g.setIcon.loading||g.setIcon.loaded||void 0===g.meta().icon||g._destroyed||(g.setIcon.loading=!0,f.iconThread.addDeferred(function(a){var b=g.itemIcon();if(g.isVisible()){var d=g.meta(),f=g.place(),n=d.icon.url;g.setIcon.useNaturalUrl||/easysocial|jomsocial|flickr/.test(f.id)||
"image"!==d.type||(n=EasyBlog.baseUrl+"&view=media&layout=getIconImage&place="+encodeURIComponent(f.id)+"&path="+encodeURIComponent(g.meta().path)+"&format=image&tmpl=component");g.element.addClass("loading-icon");b.image("get",n).done(function(){g.element.removeClass("loading-icon");g.setIcon.loaded=!0;g.setIcon.loading=!1;a.resolve()}).fail(function(){g.element.removeClass("loading-icon");g.setIcon.loaded=!1;g.setIcon.loading=!1;a.reject();g.setIcon.triedNaturalUrl||(g.setIcon.useNaturalUrl=!0,
g.setIcon.triedNaturalUrl=!0)})}else g.setIcon.loading=!1,a.reject()}))}}});EasyBlog.Controller("Media.Browser.Item.Folder",{defaultOptions:{"{childItem}":".browserItem"}},function(g){var a,b,f;return{init:function(){a=g.media;b=a.library;f=a.browser;g.element.empty()},items:{},setLayout:function(){var b=g.item.place(),c;switch(b.ready.state()){case "pending":c="loading";break;case "rejected":c="error";break;case "resolved":if(g.folderView&&0<g.folderView.map.length)c="ready",f.browserPagination().show();
else switch(b.populate.task.state()){case "pending":c="loading";break;case "rejected":c="error";break;case "resolved":g.folderView&&1>g.folderView.map.length?(c=b.acl.canUploadItem?"empty canUpload":"empty","jomsocial"===g.item.meta().place&&g.item.meta().path===a.options.directorySeparator&&(c="selectAlbum"),"easysocial"===g.item.meta().place&&g.item.meta().path===a.options.directorySeparator&&(c="selectAlbum")):c="ready",f.browserPagination().toggle(!/empty|selectAlbum/.test(c))}}f.currentFolderStatus(c);
f.setItemLayout();g.isChangingPage?g.isChangingPage=!1:g.populatePages()},populate:function(a){if(!f.itemField().hasClass("searching")){var b,d=a.length,l=g.items;g.items={};if(1>d)try{g.childItem().detach()}catch(n){}else{for(b=0;b<d;b++){var p=a[b],q=f.createFile(p);q.element.appendTo(g.element);g.items[p]=q;delete l[p]}for(p in l)try{l[p].element.detach()}catch(s){}}g.item.place().itemGroup.hasClass("active")&&g.element.hasClass("focus")&&g.setLayout()}},activate:function(){g.folderView||(g.folderView=
g.item.meta().data.views.create({from:0,to:f.options.layout.maxIconPerPage}),g.folderView.updated(g.populate));g.setLayout()},populatePages:function(){var a=g.totalPage();if(2>a)f.browserPagination().hide();else{f.browserPagination().show();f.pageSelection().html("");for(var b=1;b<=a;b++)f.view.paginationPage({page:b}).appendTo(f.pageSelection());g.folderView.currentPage=g.folderView.currentPage||1;f.paginationPage().removeClass("selected");f.paginationPage(".page"+g.folderView.currentPage).addClass("selected")}},
totalPage:function(){var a=g.folderView.map.length,a=Math.floor(0<a%f.options.layout.maxIconPerPage?a/f.options.layout.maxIconPerPage+1:a/f.options.layout.maxIconPerPage);f.totalPage().text()!=a&&f.totalPage().text(a);return a},currentPage:function(a,b){var e=parseInt(g.folderView.currentPage);isNaN(e)&&(e=1,g.folderView.currentPage=1,f.paginationPage().removeClass("selected"),f.paginationPage(":first").addClass("selected"));void 0===a&&(a={from:g.folderView.from});if(d.isPlainObject(a)&&void 0!==
a.from)var l=Math.floor(a.from/f.options.layout.maxIconPerPage)+1;a=l||a;if(a!=e){var l=(a-1)*f.options.layout.maxIconPerPage,n=l+f.options.layout.maxIconPerPage;l!=a.from&&g.folderView.select({from:l,to:n});g.folderView.currentPage=a;f.paginationPage().removeClass("selected");f.paginationPage(".page"+a).addClass("selected");f.trigger("pageChanged",[e,a])}b&&b();return a},next:function(){g.changePage("next")},prev:function(){g.changePage("prev")},changePage:function(a){g.isChangingPage=!0;var b=g.totalPage(),
d=g.currentPage();"next"==a&&d<b&&(d+=1);"prev"==a&&1<d&&(d-=1);g.currentPage(d)},locateItem:function(a){a=b.getMeta(a);var c=g.getItemPage(a);c&&g.currentPage(c,function(){f.focusItem(a.key,!0)})},getItemPage:function(a){a=b.getMeta(a);var c=a.key,e;d.each(g.folderView.map,function(a,b){if(b==c)return e=a,!1});return void 0!==e?Math.floor(e/f.options.layout.maxIconPerPage)+1:!1}}});this.resolve()});EasyBlog.module("media/editor",function(d){var g=this;EasyBlog.require().done(function(){EasyBlog.Controller("Media.Editor",
{defaultOptions:{view:{editor:"media/editor",viewport:"media/editor.viewport"},"{modalHeader}":".modalHeader","{modalToolbar}":".modalToolbar","{modalContent}":".modalContent","{navigationPathway}":".navigationPathway","{insertItemButton}":".insertItemButton","{cancelEditingButton}":".cancelEditingButton"}},function(a){return{init:function(){a.element.addClass("editor").html(a.view.editor());a.navigationPathway().implement(EasyBlog.Controller.Media.Navigation,{controller:{media:a.media},canActivate:!1},
function(){a.navigation=this});a.setLayout()},setLayout:function(){if("editor"===a.media.currentModal){a.modalContent().hide().height(a.element.height()-a.modalHeader().outerHeight()-a.modalToolbar().outerHeight()).show();var b=a.getEditor(a.currentEditor);b&&b.setLayout&&b.setLayout()}},editors:[],handlers:[],loadHandler:function(b){var f=a.handlers[b];if(void 0!==f)return f;f=d.Deferred();f.require=EasyBlog.require().script("media/editor."+b).done(function(){var g=EasyBlog.Controller.Media.Editor[d.String.capitalize(b)];
void 0!==g?f.resolve(g):(delete a.handlers[b],f.reject())}).fail(function(){f.reject()});return f},createEditor:function(b,d){a.removeEditor(b);var g=a.media.library.getMeta(b);void 0!==g&&a.loadHandler(g.type).done(function(c){c=new c(a.view.viewport().addClass("editor-type-"+g.type).prependTo(a.modalContent()),{controller:{media:a.media,editor:a,key:a.media.library.getKey(g)}});a.editors[b]=c;d&&d(c)})},removeEditor:function(b){var d=a.editors[b];void 0!==d&&(d.destroy(),delete a.editors[b])},getEditor:function(b){return a.editors[b]},
activateEditor:function(b){a.deactivateEditor(a.currentEditor);a.navigation.setPathway(b);var d=a.getEditor(b),g=function(c){a.currentEditor=b;c.element.addClass("active");c.activate&&c.activate()};void 0===d?a.createEditor(b,g):g(d)},deactivateEditor:function(){var b=a.getEditor(a.currentEditor);void 0!==b&&(b.deactivate&&b.deactivate(),b.element.removeClass("active"))},"{self} modalActivate":function(b,d,g){a.activateEditor(g)},"{self} modalDeactivate":function(){a.deactivateEditor()},"{insertItemButton} click":function(){var b=
a.getEditor(a.currentEditor);void 0!==b&&b.trigger("insertItem")},"{cancelEditingButton} click":function(){var b=a.getEditor(a.currentEditor);b&&b.trigger("cancelItem");a.media.browse()}}});EasyBlog.Controller("Media.Editor.Panel",{defaultOptions:{"{sectionHeader}":".panelSectionHeader","{sectionContent}":".panelSectionContent"}},function(a){return{init:function(){},"{sectionHeader} click":function(a){a.parent().toggleClass("active")}}});EasyBlog.Controller("Media.Editor.Preview",{defaultOptions:{"{container}":".previewContainer",
"{dialogGroup}":".previewDialogGroup"}},function(a){return{init:function(){},resetLayout:function(){clearTimeout(a.resetLayoutTimer);a.resetLayoutTimer=setTimeout(function(){var b=a.container(),d=a.element.width(),g=a.element.height(),c=b.width(),e=b.height(),l=0,m=0,p="none";c<d?m=(d-c)/2:p="auto";e<g?l=(g-e)/2:p="auto";a.element.css("overflow",p);b.css({top:l,left:m})},100)},showDialog:function(b){a.dialogGroup().addClass("show-dialog-"+b)},hideDialog:function(b){a.dialogGroup().removeClass("show-dialog-"+
b)}}});g.resolve()})});EasyBlog.module("media/constrain",function(d){var g=this;EasyBlog.require().library("image").done(function(){d.fn.constrain=function(){var a=this.data("constrain");if(a instanceof d.Constrain)if(0<arguments.length)a.update(arguments[0]);else return a;else a=new d.Constrain(this,arguments[0]),this.data("constrain",a)};d.Constrain=function(a,b){var f=this;f.options=d.extend(!0,{},{selector:{width:".inputWidth",height:".inputHeight",constrain:".inputConstrain"},forceConstrain:!1},
b?b:{});f.options.element={width:a.find(f.options.selector.width).data("type","width"),height:a.find(f.options.selector.height).data("type","height"),constrain:a.find(f.options.selector.constrain)};f.options.initial=f.options.initial||f.options.source;void 0!==f.options.allowedMax&&(f.options.max=d.Image.resizeWithin(f.options.source.width,f.options.source.height,f.options.allowedMax.width,f.options.allowedMax.height),f.options.initial.width=Math.min(f.options.max.width,f.options.initial.width),f.options.initial.height=
Math.min(f.options.max.height,f.options.initial.height));f.options.element.width.data("initial",f.options.initial.width);f.options.element.height.data("initial",f.options.initial.height);f.fieldValues(f.calculate("width",f.options.initial));d.each([f.options.element.width,f.options.element.height],function(a,b){var e=b.data("type"),g=f.getOppositeType(e);b=d(b);var m=f.options.element[g];b.bind("keyup",function(a){if(9==a.keyCode||16==a.keyCode)return!1;f.fieldValues(f.calculate(e))});b.bind("blur",
function(){f.options.element.constrain.is(":checked")||""!=d.trim(b.val())||b.val(f.options.initial[e]);""==d.trim(b.val())&&""==d.trim(m.val())&&(b.val(f.options.initial[e]),m.val(f.options.initial[g]))})});d(f.options.element.constrain).bind("change",function(){if(d(this).is(":checked")){var a=""===f.fieldValues().width?"height":"width";f.fieldValues(f.calculate(a))}})};d.extend(d.Constrain.prototype,{calculate:function(a,b){b=void 0!==b?b:this.fieldValues();var d=this.getOppositeType(a),g=this.options.max?
this.options.max[a]:void 0,c=this.options.max?this.options.max[d]:void 0,e=this.options.source[a],l=this.options.source[d],m=b[a],p=b[d],m=""!=m&&g&&m>g?g:m;this.enforceConstrain()&&(""==m?p="":(p=Math.round(l/(e/m)),c&&p>c&&(p=c)));g={};g[a]=m;g[d]=p;return g},getOppositeType:function(a){return"width"==a?"height":"width"},getInput:function(a){a=this.options.element[a].val();a=d.trim(a);a=a.replace(/[^0-9.]/g,"");a=parseInt(a,10);return isNaN(a)?"":a},fieldValues:function(a){var b={};void 0===a?(b.width=
this.getInput("width"),b.height=this.getInput("height")):(this.options.element.width.val(Math.floor(a.width)),this.options.element.height.val(Math.floor(a.height)),b=a);return b},enforceConstrain:function(){return this.options.forceConstrain?!0:1>this.options.element.constrain.length?!0:this.options.element.constrain.is(":checked")},update:function(a){this.options.initial=a.initial||a.source||this.options.initial;void 0!==a.allowedMax&&void 0!==a.source&&(a.max=d.Image.resizeWithin(a.source.width,
a.source.height,a.allowedMax.width,a.allowedMax.height),this.options.initial.width=Math.min(a.max.width,this.options.initial.width),this.options.initial.height=Math.min(a.max.height,this.options.initial.height));this.options=d.extend(!0,{},this.options,a);values=this.calculate("width",{width:this.options.initial.width||this.options.source.width,height:this.options.initial.height||this.options.source.height});this.fieldValues(values)}});g.resolve()})});EasyBlog.module("media/editor.audio",function(d){var g=
this;EasyBlog.require().view("media/editor.audio","media/editor.audio.player").done(function(){EasyBlog.Controller("Media.Editor.Audio",{defaultOptions:{view:{panel:"media/editor.audio",player:"media/editor.audio.player"},player:{width:400,height:24,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel",
"{playerContainer}":".playerContainer","{autoplay}":".autoplay"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta();a.place();a.editorPanel().html(a.view.panel({meta:d})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.initPlayer()})},initPlayer:function(){EasyBlog.require().script(d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(b){var c=
a.meta();a.place();var d="player-"+b.uid();b=b.extend(a.options.player,{id:d,file:a.meta().url});c=a.view.player({id:d,meta:c,options:b});a.preview.container().append(c);a.player=jwplayer(d).setup(b);a.preview.resetLayout()})},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){},stop:function(){a.player&&"PLAYING"==a.player.getState()&&a.player.pause()},deactivate:function(){a.stop()},"{self} cancelItem":function(){a.stop()},"{self} insertItem":function(){var d=
{autostart:"1"==a.autoplay().val()?!0:!1};b.insert(a.meta(),d)}}});g.resolve()})});EasyBlog.module("media/editor.file",function(d){var g=this;EasyBlog.require().view("media/editor.file","media/editor.file.preview").done(function(){EasyBlog.Controller("Media.Editor.File",{defaultOptions:{view:{panel:"media/editor.file",preview:"media/editor.file.preview"},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{filePreviewCaption}":".filePreviewCaption","{insertItemButton}":".insertItemButton",
"{insertItemDetail}":".insertItemDetail","{insertCaption}":".insertCaption","{insertAs}":".insertAs"}},function(a){var b,d;return{init:function(){b=a.media;d=b.library;var g=a.meta();a.editorPanel().html(a.view.panel({meta:g})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.generatePreview()})},generatePreview:function(){var b=a.preview.container().find("a"),c=a.insertAs().val(),
d=a.insertCaption().val();1>b.length?(b=a.meta(),a.preview.container().html(a.view.preview({meta:b,target:c,content:d}))):b.attr("target",c).text(d);a.preview.resetLayout()},setLayout:function(){},meta:function(){return d.getMeta(a.key)},place:function(){return d.getPlace(a.meta().place)},"{self} insertItem":function(){var d={title:a.meta().title,target:a.insertAs().val(),content:a.insertCaption().val()};b.insert(a.meta(),d)},"{insertCaption} keyup":function(b){a.generatePreview()},"{insertCaption} blur":function(b){if(""==
b.val()){var c=a.meta();b.val(c.title);a.generatePreview()}},"{insertAs} change":function(b){a.generatePreview()}}});g.resolve()})});EasyBlog.module("media/editor.image",function(d){var g=this;EasyBlog.require().library("ui/position").script("media/constrain").view("media/editor.image","media/editor.image.variation","media/editor.image.caption").done(function(){EasyBlog.Controller("Media.Editor.Image",{defaultOptions:{view:{panel:"media/editor.image",variation:"media/editor.image.variation",caption:"media/editor.image.caption"},
defaultVariation:"thumbnail","{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{imageVariationPanel}":".imageVariationPanel","{imageVariationList}":".imageVariationList","{imageVariations}":".imageVariations","{imageVariation}":".imageVariation","{imageEnforceDimensionOption}":".imageEnforceDimensionOption","{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption","{imageZoomOption}":".imageZoomOption",
"{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection","{itemFilesize}":".itemFilesize","{itemFilename}":".itemFilename","{itemUrl}":".itemUrl","{itemCreationDate}":".itemCreationDate","{modalPrompt}":".modalPrompt"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta(),c=a.place(),e={controller:{editor:a,media:a.media}};a.editorPanel().html(a.view.panel({meta:d,acl:c.acl,enableLightbox:b.options.exporter.image.lightbox,enforceImageDimension:b.options.exporter.image.enforceDimension,
enforceImageWidth:b.options.exporter.image.enforceWidth,enforceImageHeight:b.options.exporter.image.enforceHeight})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=this;if("jomsocial"===d.place||"easysocial"==d.place)a.itemFilesize().remove(),a.itemFilename().css("padding-right",0)});a.modalPrompt().implement(EasyBlog.Controller.Media.Prompt,e,function(){a.promptDialog=this});var g=EasyBlog.Controller.Media.Editor.Image.Filter;a.element.implement(g.Dimension,e).implement(g.Caption,
e).implement(g.Lightbox,e);a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{draggable:!0},function(){a.preview=this;a.previewImage(a.meta().thumbnail.url)});c.acl.canCreateVariation&&c.acl.canDeleteVariation&&a.element.implement(EasyBlog.Controller.Media.Editor.Image.VariationForm,e);a.populateImageVariations();a.setLayout()},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){a.preview.resetLayout()},"{self} insertItem":function(){var d=
{variation:a.currentImageVariation().data("variation").name};a.imageEnforceDimensionOption().is(":checked")&&(d.enforceDimension=!0,d.enforceWidth=a.imageEnforceWidth().val(),d.enforceHeight=a.imageEnforceHeight().val());a.imageCaptionOption().is(":checked")&&(d.caption=a.imageCaption().val());a.imageZoomOption().is(":checked")&&(d.zoom=a.imageZoomLargeImageSelection().val());b.insert(a.meta(),d)},populateImageVariations:function(){var b=a.meta(),c=b.variations;a.imageVariationsData=a.imageVariationsData||
{};void 0===c?(a.imageVariations().empty().addClass("busy"),f.getMetaVariations(b.key).done(function(){a.populateImageVariations();a.imageVariations().removeClass("busy")}).fail(function(){}).always(function(){a.imageVariations().removeClass("busy")})):(d.each(c,function(b,c){"icon"!=c.name&&a.createImageVariation(c)}),a.trigger("variationPopulated",[a.imageVariationsData]))},createImageVariation:function(b){var c=a.view.variation({variation:b});c.data("variation",b).appendTo(a.imageVariations());
!0!==b["default"]&&"true"!=b["default"]||c.addClass("default");b.canDelete||c.addClass("locked");a.imageVariationsData[b.name]=c;a.trigger("variationCreated",[c,b]);return c},"{self} variationPopulated":function(){var b,c=a.imageVariation(".default");if(0<a.imageVariation().length){if(1>c.length){var c=a.meta(),e=a.previewImage();void 0!==e&&d.each(c.variations,function(a,c){if(c.width==e.width()&&c.height==e.height())return b=c.name,!1});b=b||a.imageVariation(":first").data("variation").name}else b=
c.eq(0).data("variation").name;a.currentImageVariation(b)}},"{imageVariation} click":function(b){b=b.data("variation");a.currentImageVariation(b.name)},currentImageVariation:function(b){var c=a.currentImageVariation.imageVariation;b=a.imageVariationsData[b];if(void 0!==b){var e=b.data("variation"),f=a.meta();if("jomsocial"==f.place||"easysocial"==f.place)f=a.previewImage(),e.width=f?f.data("width"):0,e.height=f?f.data("height"):0,d('<span class="variationDimension"></span>').text(e.width+"x"+e.height).appendTo(b);
c&&c.removeClass("active");b.addClass("active");a.currentImageVariation.imageVariation=b;a.trigger("variationSelected",[b,e])}return a.currentImageVariation.imageVariation},"{self} variationSelected":function(b,c,d,f){a.itemFilesize().html(f.filesize);a.itemUrl().html(f.url);a.itemCreationDate().html(f.dateCreated);a.previewImage(f.url)},"{self} variationRemoved":function(b,c,d,f){delete a.imageVariationsData[f.name];d.remove()},previewImage:function(b){if(void 0===b)return a.previewImage.currentImage;
void 0===a.previewImage.images&&(a.previewImage.images={});var c=a.previewImage.images[b],e=a.previewImage.images[a.previewImage.currentUrl];a.preview.showDialog("loading");void 0===e||d.isDeferred(e)||(e.detach(),a.preview.container().empty());a.previewImage.currentUrl=b;void 0===c?a.previewImage.images[b]=d.Image.get(b).done(function(c){a.previewImage.images[b]=c;a.previewImage.currentUrl==b&&a.previewImage(b)}).fail(function(){a.preview.hideDialog("loading")}):d.isDeferred(c)||(a.preview.container().append(c),
a.previewImage.currentImage=c,a.trigger("previewImage",[a.preview.container(),c]),a.preview.hideDialog("loading"),a.preview.resetLayout())}}});EasyBlog.Controller("Media.Editor.Image.VariationForm",{defaultOptions:{"{imageVariationForm}":".imageVariationForm","{addVariationButton}":".addVariationButton","{createVariationButton}":".createVariationButton","{removeVariationButton}":".removeVariationButton","{cancelVariationButton}":".cancelVariationButton","{tryCreateVariationButton}":".tryCreateVariationButton",
"{newVariationName}":".newVariationName","{newVariationWidth}":".newVariationWidth","{newVariationHeight}":".newVariationHeight","{newVariationRatio}":".newVariationRatio","{newVariationLockRatio}":".newVariationLockRatio","{imageVariationMessage}":".imageVariationMessage",variationNameFilter:/[^a-zA-Z0-9]/g,"{createNewImageVariationPrompt}":".createNewImageVariationPrompt","{promptVariationName}":".createNewImageVariationPrompt .variationName","{promptVariationWidth}":".createNewImageVariationPrompt .variationWidth",
"{promptVariationHeight}":".createNewImageVariationPrompt .variationHeight"}},function(a){return{init:function(){},"{self} variationSelected":function(){var b=a.editor.currentImageVariation().data("variation");a.removeVariationButton().toggle(b.canDelete)},nextVariationName:function(b){var f=!1;b=d.trim(b.toLowerCase());d.each(a.editor.imageVariationsData,function(a,c){if(b==c.data("variation").name.toLowerCase()){f=!0;var e=b.substr(-1,1);b=d.isNumeric(e)?b.substr(0,b.length-1)+(parseInt(e,10)+1):
b+1;return!1}});return f?a.nextVariationName(b):b},"{addVariationButton} click":function(){a.editor.promptDialog.get("createNewImageVariationPrompt").state("default").show();var b=a.editor.currentImageVariation().data("variation");variationName=d.String.capitalize(a.nextVariationName(b.name));a.newVariationName().data("default",variationName).val(variationName).select();a.newVariationWidth().data("default",b.width).val(b.width);a.newVariationHeight().data("default",b.height).val(b.height);a.imageVariationForm().constrain({selector:{width:a.options["{newVariationWidth}"],
height:a.options["{newVariationHeight}"],constrain:a.options["{newVariationLockRatio}"]},source:{width:b.width,height:b.height},allowedMax:{width:a.editor.media.options.exporter.image.maxVariationWidth,height:a.editor.media.options.exporter.image.maxVariationHeight}})},"{newVariationRatio} click":function(b){b.toggleClass("locked");b.hasClass("locked")?a.newVariationLockRatio().attr("checked","checked"):a.newVariationLockRatio().removeAttr("checked");a.newVariationLockRatio().trigger("change")},"{createVariationButton} click":function(){a.createVariation()},
"{tryCreateVariationButton} click":function(){a.createVariation()},"{newVariationName} keyup":function(b,f){var g=d.trim(d(b).val()),g=g.replace(/[^0-9a-zA-Z]/g,"");d(b).val(g);13==f.keyCode&&a.createVariationButton().trigger("click")},"[{newVariationWidth}, {newVariationHeight}] keyup":function(b,d){13==d.keyCode&&a.createVariationButton().trigger("click")},createVariation:function(){var b=a.editor.meta(),f=a.editor.place(),g=a.newVariationName().val(),c=a.newVariationWidth().val(),e=a.newVariationHeight().val();
if(!d.trim(g)||!d.trim(c)||!d.trim(e))return!1;a.promptVariationName().text(g);a.promptVariationWidth().text(c);a.promptVariationHeight().text(e);a.editor.promptDialog.get("createNewImageVariationPrompt").state("progress").show();EasyBlog.ajax("site.views.media.createVariation",{path:b.path,place:f.id,name:g,width:c,height:e},{success:function(c){a.media.library.meta[b.key].variations.push(c);a.editor.createImageVariation(c);a.editor.currentImageVariation(c.name);a.cancelVariationButton().click()},
fail:function(b){a.editor.promptDialog.get("createNewImageVariationPrompt").state("fail").show()}})},"{removeVariationButton} click":function(){var b=a.editor.imageVariation(".active"),d=b.data("variation"),g=a.editor.meta(),c=a.editor.place();d.canDelete&&EasyBlog.ajax("site.views.media.deleteVariation",{fromPath:g.path,place:c.id,name:d.name},{beforeSend:function(){b.addClass("busy")},success:function(){b.slideUp(function(){a.trigger("variationRemoved",[b,d])});a.editor.imageVariation(".default").click();
a.media.library.removeMetaVariation(g,d.name)},fail:function(a){try{console.log(a)}catch(b){}},complete:function(){b.removeClass("busy")}})}}});EasyBlog.Controller("Media.Editor.Image.Filter.Caption",{defaultOptions:{view:{caption:"media/editor.image.caption"},"{imageVariation}":".imageVariation","{imageCaptionOption}":".imageCaptionOption","{imageCaption}":".imageCaption"}},function(a){return{init:function(){a.item={meta:a.editor.meta()}},"{imageVariation} click":function(b){a.transform()},"{self} dimensionEnforced":function(){a.transform()},
"{imageCaptionOption} change":function(b,d){d.stopPropagation();b.parent(".field").toggleClass("hide-field-content",!b.is(":checked"));a.transform()},"{imageCaptionOption} mouseup":function(){setTimeout(function(){a.imageCaption().focus()[0].select()},1)},"{imageCaption} blur":function(b){""==d.trim(b.val())&&b.val(a.item.meta.title);a.transform()},"{imageCaption} keyup":function(b,d){a.transform()},transform:function(){var b=a.editor.preview.container(),d=b.find("img"),g=b.find("div.imageCaptionText");
if(a.imageCaptionOption().is(":checked")){var c=a.imageCaption().val();g.remove();b.width(d.width());b.addClass("imageCaptionBorder");b.width(b.width());b.append(a.view.caption({caption:c}))}else b.removeClass("imageCaptionBorder"),g.remove(),b.width("auto");a.editor.preview.resetLayout()}}});EasyBlog.Controller("Media.Editor.Image.Filter.Lightbox",{defaultOptions:{defaultImageZoomVariation:"original","{imageZoomOption}":".imageZoomOption","{imageZoomLargeImageSelection}":".imageZoomLargeImageSelection",
"{imageZoomLargeImageOption}":".imageZoomLargeImageSelection option"}},function(a){return{init:function(){},"{self} variationCreated":function(b,f,g,c){b=d.String.capitalize(c.name);b=d("<option>").val(b).html(b).data("variation",c);c.name==(a.media.options.exporter.image.zoom||a.options.defaultImageZoomVariation)&&b.attr("selected",!0);a.imageZoomLargeImageSelection().append(b)},"{self} variationRemoved":function(b,d,g,c){a.imageZoomLargeImageOption('[value="'+c.name+'"]').remove()},"{imageZoomOption} change":function(a,
d){d.stopPropagation();a.parent(".field").toggleClass("hide-field-content",!a.is(":checked"))},transform:function(){if(a.imageZoomOption().is(":checked")){var b=a.imageZoomLargeImageOption(":selected").data("variation");image=d("<a>").addClass("easyblog-thumb-preview").attr({href:b.url,title:imageCaption||a.item.meta.title}).html(image)}}}});EasyBlog.Controller("Media.Editor.Image.Filter.Dimension",{defaultOptions:{"{imageEnforceDimension}":".imageEnforceDimension","{imageEnforceDimensionOption}":".imageEnforceDimensionOption",
"{imageEnforceWidth}":".imageEnforceWidth","{imageEnforceHeight}":".imageEnforceHeight","{imageEnforceRatio}":".imageEnforceRatio","{imageEnforceLockRatio}":".imageEnforceLockRatio","{imageVariation}":".imageVariation"}},function(a){return{init:function(){var b={selector:{width:a.options["{imageEnforceWidth}"],height:a.options["{imageEnforceHeight}"],constrain:a.options["{imageEnforceLockRatio}"]}};a.editor.element.bind("variationPopulated",function(){a.editor.media.options.exporter.image.enforceDimension&&
a.imageEnforceDimensionOption().attr({checked:"checked",disabled:"disabled"}).parent(".field").removeClass("hide-field-content");a.applyConstrain(b)})},"{imageVariation} click":function(b){a.applyConstrain()},"{imageEnforceDimensionOption} change":function(b,d){d.stopPropagation();b.parent(".field").toggleClass("hide-field-content",!b.is(":checked"));a.transform()},"{imageEnforceRatio} click":function(b){b.toggleClass("locked");b.hasClass("locked")?a.imageEnforceLockRatio().attr("checked","checked"):
a.imageEnforceLockRatio().removeAttr("checked");a.imageEnforceLockRatio().trigger("change");b.hasClass("locked")&&a.transform()},"{self} previewImage":function(){a.transform()},"{imageEnforceWidth} keyup":function(){a.transform()},"{imageEnforceHeight} keyup":function(){a.transform()},"{imageEnforceWidth} blur":function(b){""!=d.trim(b.val())||a.imageEnforceLockRatio().is(":checked")||b.val(b.data("initial"));a.transform()},"{imageEnforceHeight} blur":function(b){""!=d.trim(b.val())||a.imageEnforceLockRatio().is(":checked")||
b.val(b.data("initial"));a.transform()},transform:function(){var b=a.editor.previewImage();if(void 0!==b){var d={};a.imageEnforceDimensionOption().is(":checked")?d={width:a.imageEnforceWidth().val(),height:a.imageEnforceHeight().val()}:(d=a.editor.currentImageVariation(),d=void 0===d?a.editor.meta():d.data("variation"),d={width:d.width,height:d.height});if(b.width()!==d.width||b.height()!==d.height)b.css(d),a.editor.trigger("dimensionEnforced");a.editor.preview.resetLayout()}},applyConstrain:function(b){var f=
void 0===a.editor.currentImageVariation()?a.editor.meta():a.editor.currentImageVariation().data("variation"),f={source:{width:f.width,height:f.height}};a.editor.media.options.exporter.image.enforceDimension&&(f.allowedMax={width:a.editor.media.options.exporter.image.enforceWidth,height:a.editor.media.options.exporter.image.enforceHeight});b=d.extend(!0,{},f,b);a.imageEnforceDimension().constrain(b);a.transform()}}});g.resolve()})});EasyBlog.module("media/editor.video",function(d){var g=this;EasyBlog.require().view("media/editor.video",
"media/editor.video.player").done(function(){EasyBlog.Controller("Media.Editor.Video",{defaultOptions:{view:{panel:"media/editor.video",player:"media/editor.video.player"},player:{width:400,height:225,autostart:!1,controlbar:"bottom",backcolor:"#333333",frontcolor:"#ffffff",modes:[{type:"html5"},{type:"flash",src:d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/player.swf"},{type:"download"}]},"{editorPreview}":".editorPreview","{editorPanel}":".editorPanel","{playerContainer}":".playerContainer",
"{insertWidth}":".insertWidth","{insertHeight}":".insertHeight","{autoplay}":".autoplay"}},function(a){var b,f;return{init:function(){b=a.media;f=b.library;var d=a.meta(),c=b.options.exporter.video.width,e=b.options.exporter.video.height;void 0!==c&&(a.options.player.width=c);void 0!==e&&(a.options.player.height=e);a.editorPanel().html(a.view.panel({meta:d,insertWidth:a.options.player.width,insertHeight:a.options.player.height})).implement(EasyBlog.Controller.Media.Editor.Panel,{},function(){a.panel=
this});a.editorPreview().implement(EasyBlog.Controller.Media.Editor.Preview,{},function(){a.preview=this;a.initPlayer()})},initPlayer:function(){a.preview.showDialog("loading");EasyBlog.require().script(d.rootPath+"/components/com_easyblog/assets/vendors/jwplayer/jwplayer.js").done(function(b){var c=a.meta();a.place();var d="player-"+b.uid();b=b.extend(a.options.player,{id:d,file:a.meta().url});c=a.view.player({id:d,meta:c,options:b});a.preview.container().append(c);a.player=jwplayer(d).setup(b);
a.preview.resetLayout();a.preview.hideDialog("loading")}).fail(function(){})},meta:function(){return f.getMeta(a.key)},place:function(){return f.getPlace(a.meta().place)},setLayout:function(){},"{self} cancelItem":function(){a.player&&"PLAYING"==a.player.getState()&&a.player.pause()},"{self} insertItem":function(){var d={autostart:"1"==a.autoplay().val()?!0:!1,width:parseInt(a.insertWidth().val(),10),height:parseInt(a.insertHeight().val(),10)};b.insert(a.meta(),d)},resize:function(){if(a.player){var b=
parseInt(a.insertWidth().val(),10),c=parseInt(a.insertHeight().val(),10);a.player.resize(b,c);a.preview.resetLayout()}},"{insertWidth} keyup":function(){a.resize()},"{insertHeight} keyup":function(){a.resize()}}});g.resolve()})});EasyBlog.module("media/uploader.item",function(d){EasyBlog.Controller("Media.Browser.Uploader.Item",{defaultOptions:{"{filename}":".uploadFilename","{progressBar}":".uploadProgressBar progress","{percentage}":".uploadPercentage","{status}":".uploadStatus","{removeButton}":".uploadRemoveButton"}},
function(g){return{init:function(){g.element.data("item",g);g.filename().html(g.file.name);g.setState("queued")},getFilesize:function(a,b){return void 0===g.file.size||"N/A"==g.file.size?"":(a?a:"")+d.plupload.formatSize(g.file.size)+(b?b:"")},setProgress:function(a){g.progressBar().attr("value",a);g.percentage().html(a)},setState:function(a){g.element.removeClass("upload-state-"+g.state).addClass("upload-state-"+a);g.state=a},setMessage:function(a){g.status().html(a)},"{removeButton} click":function(a,
b){b.stopPropagation();g.element.slideUp(function(){g.element.remove()})}}});this.resolve()});EasyBlog.module("ratings",function(d){var g=this;EasyBlog.require().library("ui/stars").script("legacy").done(function(){eblog.ratings={setup:function(a,b,f){d("#"+a).stars({split:2,disabled:b,oneVoteOnly:!0,cancelShow:!1,callback:function(b){eblog.loader.loading(a+"-command .rating-text");ejax.load("ratings","vote",b.value(),d("#"+a).children("input:hidden").val(),f,a)}})},showVoters:function(a,b){ejax.load("ratings",
"showvoters",a,b)},update:function(a,b,f,g){d("#"+a).children(".ui-stars-star").removeClass("ui-stars-star-on");f=parseInt(f);d("#"+a+"-command").hide();d("#"+a).addClass("voted");d("#"+a).children(".ui-stars-star").each(function(a){a<f?d(this).addClass("ui-stars-star-on"):d(this).removeClass("ui-stars-star-on")})}};g.resolve()})});EasyBlog.module("tag",function(d){var g=this;EasyBlog.require().view("dashboard/dashboard.tags.item").done(function(){EasyBlog.Controller("Tag.Form",{defaultOptions:{tags:[],
tagLimit:0,tagSelections:[],tagSelectionLimit:25,"{tagList}":".tag-list.creation","{tagItems}":".tag-list.creation .tag-item","{tagItemRemoveButton}":".remove-tag","{tagCreationForm}":".new-tag-item","{tagInput}":".tagInput","{tagCreateButton}":".tag-create","{totalTags}":".total-tags","{tagSelectionFilter}":".tag-selection-filter","{tagSelectionList}":".tag-list.selection","{tagSelectionItems}":".tag-list.selection .tag-item","{tagSelection}":".tag-selection","{showAllTagsButton}":".show-all-tags",
view:{tagItem:"dashboard/dashboard.tags.item"}}},function(a){return{init:function(){EasyBlog.dashboard&&EasyBlog.dashboard.registerPlugin("tags",a);setTimeout(function(){var b=a.options.tagSelections,d,g=b.length;for(d=0;d<g;d++)a.tags[b[d].title.toLowerCase()]=b[d];b=a.options.tags;g=b.length;for(d=0;d<g;d++){var c=a.getKey(b[d].title);a.selectTag(c)}a.showTagSelections("")},0)},tags:{},items:{},selected:{},sanitizeTitle:function(a){return d.trim(a).replace(/[,\'\"\#\<\>]/gi,"")},getKey:function(b){return a.sanitizeTitle(b).toLowerCase()},
getTag:function(b){return Object.prototype.hasOwnProperty.call(a.tags,b)?a.tags[b]:void 0},createTag:function(b){b=a.sanitizeTitle(b);var d=b.toLowerCase();return a.getTag(d)||(a.tags[d]={title:b})},getTagItem:function(b){var d=a.getTag(b);if(d)return d.item||(d.item=a.view.tagItem({title:d.title}).data("key",b))},getTagData:function(b){if(b=a.getTag(b))return b.data||(b.data=d('<input class="tagdata" type="hidden" name="tags[]" value="'+b.title+'" />'))},search:function(b){b=d.trim(b).toLowerCase();
var f=[];for(key in a.tags)0>key.indexOf(b)||f.push(key);return f},selectTag:function(b){clearTimeout(a.selectTag.refreshTagSelection);var d=a.getTagItem(b);if(d){var g=a.tagItems();0<a.options.tagLimit&&g.length>=a.options.tagLimit||(d.css({opacity:0}),1>g.length?a.tagList().prepend(d):(g=g.filter(":last"),g[0]!=d[0]&&d.insertAfter(g)),d.animate({opacity:1}),a.getTagData(b).appendTo(a.element),a.selected[b]=!0,a.checkTagLimit(),a.selectTag.refreshTagSelection=setTimeout(function(){a.showTagSelections()},
500))}},unselectTag:function(b){var d=a.getTagItem(b);d&&(d.detach(),a.getTagData(b).detach(),delete a.selected[b],a.checkTagLimit(),void 0!==a.getTag(b).alias&&a.showTagSelections())},addToTagSelectionList:function(b){return(b=a.getTagItem(b))&&b.appendTo(a.tagSelectionList())},showTagSelections:function(b){a.tagSelectionItems().detach();b=a.currentFilter=void 0===b?a.currentFilter||"":b;var d=0,g=a.options.tagSelectionLimit;if(""===b)for(l in a.tags){if(d>=g)break;a.selected[l]||void 0===a.getTag(l).alias||
(a.addToTagSelectionList(l),d++)}else{b=a.search(b);var c,e=b.length;for(c=0;c<e&&!(d>=g);c++){var l=b[c];a.selected[l]||void 0===a.getTag(l).alias||(a.addToTagSelectionList(l),d++)}}a.tagSelection().toggleClass("no-selection",1>d)},"{tagInput} keydown":function(b,d){d.stopPropagation();a.realEnterKey=13==d.keyCode},"{tagInput} keypress":function(b,d){d.stopPropagation();a.realEnterKey=a.realEnterKey&&13==d.keyCode},"{tagInput} keyup":function(b,d){clearTimeout(a.filterTask);d.stopPropagation();switch(d.keyCode){case 27:b.val("");
break;case 13:a.realEnterKey&&b.hasClass("canCreate")&&a.createTagFromInput()}a.filterTask=setTimeout(function(){a.showTagSelections(b.val())},250)},createTagFromInput:function(){var b=d.trim(a.tagInput().val());if(""!==b){var f=a.getKey(b);a.createTag(b);a.selectTag(f);a.tagInput().val("")}a.showTagSelections("")},checkTagLimit:function(){var b=a.options.tagLimit;if(!(1>b)){var d=a.tagItems().length;a.totalTags().text(d);a.tagCreationForm()[d>=b?"hide":"show"]()}},"{tagCreateButton} click":function(){a.createTagFromInput()},
"{tagSelectionItems} click":function(b){b=b.data("key");a.selectTag(b)},"{tagItemRemoveButton} click":function(b){b=b.parents(".tag-item").data("key");a.unselectTag(b)},"{showAllTagsButton} click":function(b){b.hasClass("active")?(b.removeClass("active"),a.options.tagSelectionLimit=a.originalLimit):(b.addClass("active"),a.originalLimit=a.options.tagSelectionLimit,a.options.tagSelectionLimit=9999);a.showTagSelections("")}}});g.resolve()})})});